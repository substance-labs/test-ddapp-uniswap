import{__commonJS as S,__toESM as I}from"./chunk-DgAfPHQg.js";import{require_react as N}from"./react-CNoFhWkx.js";import{isInterface as U,isWeb as V}from"./index.web-BqgtOHN3.js";import{require_jsx_runtime as D}from"./jsx-runtime-D7bMTQeG.js";import{logger as P}from"./hooks-BXO4d1DJ.js";import{BrowserEvent as R,SharedEventName as $,analytics as T}from"./analytics.web-DLc1_wTk.js";import{TraceContext as A,useTrace as H}from"./TraceContext-Ddfk7zjz.js";let B="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Fr=(o=21)=>{let c="",i=o|0;for(;i--;)c+=B[Math.random()*64|0];return c};var z=S({"../../node_modules/use-latest-callback/lib/src/useIsomorphicLayoutEffect.js"(o){Object.defineProperty(o,"__esModule",{value:!0});var c=N(),i=typeof document<"u"?c.useLayoutEffect:c.useEffect;o.default=i}}),W=S({"../../node_modules/use-latest-callback/lib/src/index.js"(o,c){var i=N(),u=z();function y(g){var _=i.useRef(g),v=i.useRef(function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return _.current.apply(this,l)}).current;return(0,u.default)(function(){_.current=g}),v}c.exports=y}}),Sr=I(W(),1),E=I(N()),O=I(D());const Y=E.createContext(void 0),G=E.createContext(void 0);G.displayName="ThemeContext";const wr=Symbol("CHILD_STATE");var K=S({"../../node_modules/strict-uri-encode/index.js"(o,c){c.exports=i=>encodeURIComponent(i).replace(/[!'()*]/g,u=>`%${u.charCodeAt(0).toString(16).toUpperCase()}`)}}),k=S({"../../node_modules/decode-uri-component/index.js"(o,c){var i="%[a-f0-9]{2}",u=new RegExp("("+i+")|([^%]+?)","gi"),y=new RegExp("("+i+")+","gi");function g(d,l){try{return[decodeURIComponent(d.join(""))]}catch{}if(d.length===1)return d;l=l||1;var s=d.slice(0,l),h=d.slice(l);return Array.prototype.concat.call([],g(s),g(h))}function _(d){try{return decodeURIComponent(d)}catch{for(var l=d.match(u)||[],s=1;s<l.length;s++)d=g(l,s).join(""),l=d.match(u)||[];return d}}function v(d){for(var l={"%FE%FF":"��","%FF%FE":"��"},s=y.exec(d);s;){try{l[s[0]]=decodeURIComponent(s[0])}catch{var h=_(s[0]);h!==s[0]&&(l[s[0]]=h)}s=y.exec(d)}l["%C2"]="�";for(var b=Object.keys(l),x=0;x<b.length;x++){var j=b[x];d=d.replace(new RegExp(j,"g"),l[j])}return d}c.exports=function(d){if(typeof d!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof d+"`");try{return d=d.replace(/\+/g," "),decodeURIComponent(d)}catch{return v(d)}}}}),J=S({"../../node_modules/split-on-first/index.js"(o,c){c.exports=(i,u)=>{if(!(typeof i=="string"&&typeof u=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(u==="")return[i];const y=i.indexOf(u);return y===-1?[i]:[i.slice(0,y),i.slice(y+u.length)]}}}),Q=S({"../../node_modules/filter-obj/index.js"(o,c){c.exports=function(i,u){for(var y={},g=Object.keys(i),_=Array.isArray(u),v=0;v<g.length;v++){var d=g[v],l=i[d];(_?u.indexOf(d)!==-1:u(d,l,i))&&(y[d]=l)}return y}}}),L=S({"../../node_modules/query-string/index.js"(o){const c=K(),i=k(),u=J(),y=Q(),g=r=>r==null,_=Symbol("encodeFragmentIdentifier");function v(r){switch(r.arrayFormat){case"index":return e=>(n,t)=>{const a=n.length;return t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[s(e,r),"[",a,"]"].join("")]:[...n,[s(e,r),"[",s(a,r),"]=",s(t,r)].join("")]};case"bracket":return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[s(e,r),"[]"].join("")]:[...n,[s(e,r),"[]=",s(t,r)].join("")];case"colon-list-separator":return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[s(e,r),":list="].join("")]:[...n,[s(e,r),":list=",s(t,r)].join("")];case"comma":case"separator":case"bracket-separator":{const e=r.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(t,a)=>a===void 0||r.skipNull&&a===null||r.skipEmptyString&&a===""?t:(a=a===null?"":a,t.length===0?[[s(n,r),e,s(a,r)].join("")]:[[t,s(a,r)].join(r.arrayFormatSeparator)])}default:return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,s(e,r)]:[...n,[s(e,r),"=",s(t,r)].join("")]}}function d(r){let e;switch(r.arrayFormat){case"index":return(n,t,a)=>{if(e=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!e){a[n]=t;return}a[n]===void 0&&(a[n]={}),a[n][e[1]]=t};case"bracket":return(n,t,a)=>{if(e=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!e){a[n]=t;return}if(a[n]===void 0){a[n]=[t];return}a[n]=[].concat(a[n],t)};case"colon-list-separator":return(n,t,a)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){a[n]=t;return}if(a[n]===void 0){a[n]=[t];return}a[n]=[].concat(a[n],t)};case"comma":case"separator":return(n,t,a)=>{const m=typeof t=="string"&&t.includes(r.arrayFormatSeparator),f=typeof t=="string"&&!m&&h(t,r).includes(r.arrayFormatSeparator);t=f?h(t,r):t;const p=m||f?t.split(r.arrayFormatSeparator).map(M=>h(M,r)):t===null?t:h(t,r);a[n]=p};case"bracket-separator":return(n,t,a)=>{const m=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!m){a[n]=t&&h(t,r);return}const f=t===null?[]:t.split(r.arrayFormatSeparator).map(p=>h(p,r));if(a[n]===void 0){a[n]=f;return}a[n]=[].concat(a[n],f)};default:return(n,t,a)=>{if(a[n]===void 0){a[n]=t;return}a[n]=[].concat(a[n],t)}}}function l(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function s(r,e){return e.encode?e.strict?c(r):encodeURIComponent(r):r}function h(r,e){return e.decode?i(r):r}function b(r){return Array.isArray(r)?r.sort():typeof r=="object"?b(Object.keys(r)).sort((e,n)=>Number(e)-Number(n)).map(e=>r[e]):r}function x(r){const e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function j(r){let e="";const n=r.indexOf("#");return n!==-1&&(e=r.slice(n)),e}function C(r){r=x(r);const e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function F(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function w(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),l(e.arrayFormatSeparator);const n=d(e),t=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return t;for(const a of r.split("&")){if(a==="")continue;let[m,f]=u(e.decode?a.replace(/\+/g," "):a,"=");f=f===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?f:h(f,e),n(h(m,e),f,t)}for(const a of Object.keys(t)){const m=t[a];if(typeof m=="object"&&m!==null)for(const f of Object.keys(m))m[f]=F(m[f],e);else t[a]=F(m,e)}return e.sort===!1?t:(e.sort===!0?Object.keys(t).sort():Object.keys(t).sort(e.sort)).reduce((a,m)=>{const f=t[m];return f&&typeof f=="object"&&!Array.isArray(f)?a[m]=b(f):a[m]=f,a},Object.create(null))}o.extract=C,o.parse=w,o.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),l(e.arrayFormatSeparator);const n=f=>e.skipNull&&g(r[f])||e.skipEmptyString&&r[f]==="",t=v(e),a={};for(const f of Object.keys(r))n(f)||(a[f]=r[f]);const m=Object.keys(a);return e.sort!==!1&&m.sort(e.sort),m.map(f=>{const p=r[f];return p===void 0?"":p===null?s(f,e):Array.isArray(p)?p.length===0&&e.arrayFormat==="bracket-separator"?s(f,e)+"[]":p.reduce(t(f),[]).join("&"):s(f,e)+"="+s(p,e)}).filter(f=>f.length>0).join("&")},o.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);const[n,t]=u(r,"#");return Object.assign({url:n.split("?")[0]||"",query:w(C(r),e)},e&&e.parseFragmentIdentifier&&t?{fragmentIdentifier:h(t,e)}:{})},o.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[_]:!0},e);const n=x(r.url).split("?")[0]||"",t=o.extract(r.url),a=o.parse(t,{sort:!1}),m=Object.assign(a,r.query);let f=o.stringify(m,e);f&&(f=`?${f}`);let p=j(r.url);return r.fragmentIdentifier&&(p=`#${e[_]?s(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${n}${f}${p}`},o.pick=(r,e,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[_]:!1},n);const{url:t,query:a,fragmentIdentifier:m}=o.parseUrl(r,n);return o.stringifyUrl({url:t,query:y(a,e),fragmentIdentifier:m},n)},o.exclude=(r,e,n)=>{const t=Array.isArray(e)?a=>!e.includes(a):(a,m)=>!e(a,m);return o.pick(r,t,n)}}}),Or=I(L()),X=S({"../../node_modules/escape-string-regexp/index.js"(o,c){c.exports=i=>{if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}}),Ir=I(X()),Nr=I(L());const Z=E.createContext(void 0),rr=E.createContext(void 0);function er(){const o=E.useContext(rr);if(o===void 0)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return o}const tr=E.memo(({component:o})=>{const c=er();return E.createElement(o,{route:c})});tr.displayName="Memo(Screen)";function nr(){const o=E.useContext(Y),c=E.useContext(Z);if(c===void 0&&o===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return c??o}function ar(o){const c=nr();arguments[1]!==void 0&&console.error(`You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':

useFocusEffect(
  React.useCallback(() => {
    // Your code here
  }, [depA, depB])
);

See usage guide: https://reactnavigation.org/docs/use-focus-effect`),E.useEffect(()=>{let i=!1,u;const y=()=>{const v=o();if(v===void 0||typeof v=="function")return v};c.isFocused()&&(u=y(),i=!0);const g=c.addListener("focus",()=>{i||(u!==void 0&&u(),u=y(),i=!0)}),_=c.addListener("blur",()=>{u!==void 0&&u(),u=void 0,i=!1});return()=>{u!==void 0&&u(),g(),_()}},[o,c])}const Ar=Symbol("VISITED_ROUTE_KEYS");var or=S({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.production.js"(o){var c=N();function i(l,s){return l===s&&(l!==0||1/l===1/s)||l!==l&&s!==s}var u=typeof Object.is=="function"?Object.is:i,y=c.useSyncExternalStore,g=c.useRef,_=c.useEffect,v=c.useMemo,d=c.useDebugValue;o.useSyncExternalStoreWithSelector=function(l,s,h,b,x){var j=g(null);if(j.current===null){var C={hasValue:!1,value:null};j.current=C}else C=j.current;j=v(function(){function w(a){if(!r){if(r=!0,e=a,a=b(a),x!==void 0&&C.hasValue){var m=C.value;if(x(m,a))return n=m}return n=a}if(m=n,u(e,a))return m;var f=b(a);return x!==void 0&&x(m,f)?(e=a,m):(e=a,n=f)}var r=!1,e,n,t=h===void 0?null:h;return[function(){return w(s())},t===null?void 0:function(){return w(t())}]},[s,h,b,x]);var F=y(l,j[0],j[1]);return _(function(){C.hasValue=!0,C.value=F},[F]),d(F),F}}}),sr=S({"../../node_modules/use-sync-external-store/with-selector.js"(o,c){c.exports=or()}}),$r=I(sr());const cr={useIsPartOfNavigationTree:()=>!1,shouldLogScreen:(o,c)=>!0},ir=(0,E.createContext)(cr),q=()=>(0,E.useContext)(ir);function ur({child:o,consumedProps:c,triggers:i,eventName:u,element:y,properties:g}){const _={};for(const v of i)_[v]=d=>{var l;!o.props[v]&&!U&&P.info("trace/utils.ts","getEventHandlers","Found a null handler while logging an event",{eventName:u,...c,...g}),(l=o.props[v])===null||l===void 0||l.apply(o,[d]),T.sendEvent(u,{element:y,...c,...g})};return _}function fr({logPress:o=!1,logFocus:c=!1,logKeyPress:i=!1}){const u=[];return o&&u.push(V?"onClick":"onPress"),c&&u.push(R.onFocus),i&&u.push(R.onKeyPress),u}const dr={};function lr({children:o,logImpression:c,eventOnTrigger:i,logPress:u,logFocus:y,logKeyPress:g,directFromPage:_,screen:v,page:d,section:l,element:s,modal:h,properties:b}){const x=(0,E.useId)(),{useIsPartOfNavigationTree:j,shouldLogScreen:C}=q(),F=j(),w=H(),r=(0,E.useMemo)(()=>fr({logPress:u,logFocus:y,logKeyPress:g}),[y,g,u]),e=(0,E.useMemo)(()=>{const t={...v?{screen:v}:{},...d?{page:d}:{},...l?{section:l}:{},...h?{modal:h}:{},...s?{element:s}:{}};return{...w,...t}},[w,v,l,h,s,d]);(0,E.useEffect)(()=>{if(!dr[x]&&c&&!F&&C(_,b==null?void 0:b.screen)){const t={...e,...b};T.sendEvent(i??$.PAGE_VIEWED,t)}},[c]);const n=r.length>0?(0,O.jsx)(A.Consumer,{children:t=>E.Children.map(o,a=>E.isValidElement(a)?E.cloneElement(a,ur({child:a,consumedProps:t,triggers:r,eventName:i??$.ELEMENT_CLICKED,element:s,properties:b})):a)}):o;return F?(0,O.jsx)(mr,{combinedProps:e,directFromPage:_,logImpression:c,properties:b,children:(0,O.jsx)(A.Provider,{value:e,children:n})}):(0,O.jsx)(A.Provider,{value:e,children:n})}function mr({logImpression:o,eventOnTrigger:c,directFromPage:i,combinedProps:u,children:y,properties:g}){const{shouldLogScreen:_}=q();return ar(E.useCallback(()=>{if(o){const v={...u,...g};_(i,g==null?void 0:g.screen)&&T.sendEvent(c??$.PAGE_VIEWED,v)}},[u,i,c,o,g,_])),(0,O.jsx)(O.Fragment,{children:y})}const gr=(0,E.memo)(lr);function yr({children:o,eventOnTrigger:c,properties:i,logImpression:u,logPress:y,logFocus:g,logKeyPress:_,...v}){const d=i||void 0;return(0,O.jsx)(gr,{eventOnTrigger:c,logFocus:g,logImpression:u,logKeyPress:_,logPress:y,properties:d,...v,children:o})}const vr=E.memo,_r=vr(yr);var Tr=_r;export{_r as Trace,Tr as Trace_default,Fr as nanoid};
