import{__toESM as x}from"./chunk-DgAfPHQg.js";import{require_react as k}from"./react-CNoFhWkx.js";import{require_jsx_runtime as b}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as g}from"./useEnabledChains-DuB86c95.js";import{usePrevious as M}from"./hooks-BXO4d1DJ.js";import{InterfaceEventName as E}from"./interface-BdpC4qOF.js";import{SwapTab as d,TOKEN_SELECTOR_WEB_MAX_WIDTH as j,TokenSelectorContent as N,TokenSelectorFlow as y,TokenSelectorVariation as _,useSwapAndLimitContext as O}from"./TokenSelector-CNVK2itZ.js";import{ModalName as C}from"./modal-Dvm06CN4.js";import{CurrencyField as T}from"./currency-xm5i4cH7.js";import{useAccount as W}from"./useAccount-C5hwiBwN.js";import{useSelectChain as A}from"./useSelectChain-CA5zoRWi.js";import{useMultichainContext as L}from"./useMultichainContext-BVmgxqO2.js";import{showSwitchNetworkNotification as U}from"./showSwitchNetworkNotification-C9hFtpTD.js";import{Trace_default as H}from"./Trace-DgHN3Ak9.js";import{Modal as P}from"./Modal.web-DHbL39pN.js";var u=x(k()),i=x(b());const q="  _display-flex _alignItems-stretch _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexDirection-column _width-10037 _flexGrow-1 _flexShrink-1 _flexBasis-auto ";function B({currencyField:c,switchNetworkAction:n,onCurrencySelect:t,onDismiss:r,chainIds:m}){const s=W(),{chainId:e,setSelectedChainId:p,isUserSelectedToken:I,setIsUserSelectedToken:f,isMultichainContext:o}=L(),{currentTab:a}=O(),h=M(e),S=A(),{chains:v}=g(),w=(0,u.useCallback)(async({currency:l})=>{!o&&!await S(l.chainId)||(t(l),p(l.chainId),f(!0),r())},[t,r,p,f,S,o]);return(0,u.useEffect)(()=>{a!==d.Swap&&a!==d.Send||!o||U({chainId:e,prevChainId:h,action:n})},[a,e,h,o,n]),(0,i.jsx)(H,{logImpression:!0,eventOnTrigger:E.TokenSelectorOpened,modal:C.TokenSelectorWeb,children:(0,i.jsx)("div",{className:q,children:(0,i.jsx)(N,{activeAccountAddress:s.address,isLimits:a===d.Limit,chainId:!o||I?e:void 0,chainIds:m??v,currencyField:c,flow:y.Swap,isSurfaceReady:!0,variation:c===T.INPUT?_.SwapInput:_.SwapOutput,onClose:r,onSelectCurrency:w})})})}var oe=(0,u.memo)(function({isOpen:n,onDismiss:t,onCurrencySelect:r,currencyField:m=T.INPUT,switchNetworkAction:s,chainIds:e}){return(0,i.jsx)(P,{isModalOpen:n,onClose:t,maxHeight:700,height:"100vh",maxWidth:j,padding:0,flex:1,name:C.CurrencySearch,children:(0,i.jsx)(B,{currencyField:m,onCurrencySelect:r,switchNetworkAction:s,onDismiss:t,chainIds:e})})});export{oe as CurrencySearchModal_default};
