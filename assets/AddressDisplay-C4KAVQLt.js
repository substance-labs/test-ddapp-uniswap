import{__toESM as m}from"./chunk-DgAfPHQg.js";import{require_react as u}from"./react-CNoFhWkx.js";import{Unitag as f}from"./src-DOOtfpHS.js";import{require_jsx_runtime as l}from"./jsx-runtime-D7bMTQeG.js";import{useFiatOnRampAggregatorTransferServiceProvidersQuery as c}from"./api-BsCrUy1C.js";import{Platform as v}from"./utils-BX1Fu73x.js";import{getValidAddress as _}from"./currencyId-Ci6selsx.js";import{shortenAddress as g}from"./addresses-D56PBUHX.js";import{atom as x}from"./utils-CDaPKk14.js";import{useUnitagsAddressQuery as d}from"./Identicon-SnsLMqUD.js";import{useENSAvatar as A,useENSName as E}from"./api-u3dxy1Uz.js";import{styled_components_default as h}from"./styled-components-DbVO3u5J.js";import{CopyHelper as y}from"./CopyHelper-DOhhKKQB.js";import{EllipsisStyle as D}from"./ellipsis-DjwAKJIh.js";import{TestID as C}from"./testIDs-CxYpwoP6.js";let V=(function(r){return r[r.DEFAULT=0]="DEFAULT",r[r.CEX_TRANSFER=1]="CEX_TRANSFER",r[r.QR_CODE=2]="QR_CODE",r})({});const X=x(void 0);function B(r){var i;const t=_({address:r,platform:v.EVM}),{data:o,isLoading:a}=A(t),{data:n,isLoading:p}=d({params:t?{address:t}:void 0}),s=n==null||(i=n.metadata)===null||i===void 0?void 0:i.avatar;return s?{avatar:s,loading:!1}:o?{avatar:o,loading:!1}:{avatar:void 0,loading:a||p}}var N=m(u());function W(r){const{data:i}=c(void 0,{skip:r==null?void 0:r.isDisabled});return(0,N.useMemo)(()=>i?i.serviceProviders:[],[i])}var e=m(l());const T="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-2px _alignItems-center ",S=h.span`
  ${D}
  max-width: 120px;
  @media screen and (min-width: 1440px) {
    max-width: 180px;
  }
`;function G({address:r,enableCopyAddress:i}){const{data:t}=E(r),{data:o}=d({params:r?{address:r}:void 0}),a=o==null?void 0:o.username,n=(0,e.jsxs)("div",{"data-testid":C.AddressDisplay,className:T,children:[(0,e.jsx)(S,{children:a??t??g(r)}),a&&(0,e.jsx)(f,{size:18})]});return i?(0,e.jsx)(y,{iconSize:14,iconPosition:"right",toCopy:a?a+".uni.eth":t||r,children:n}):n}export{G as AddressDisplay,V as ReceiveModalState,X as receiveCryptoModalStateAtom,B as useAvatar,W as useCexTransferProviders};
