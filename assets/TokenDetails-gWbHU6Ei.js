import{__toESM as de}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as po}from"./react-CNoFhWkx.js";import{Button as vo,Check as ho,IconButton as xo,Paragraph as fo,Path as _o,Svg as go,TouchableArea as We,Trans as N,WebBottomSheet as yo,createIcon as ko,useIsTouchDevice as bo,useSporeColors as $e}from"./src-DOOtfpHS.js";import{useTranslation as X}from"./useTranslation-BotBuoJf.js";import"./index.web-BqgtOHN3.js";import{useUrlContext as jo}from"./constants-CrXoXfFH.js";import"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import{useLocation as Co,useNavigate as ce,useParams as To,useSearchParams as $o}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as wo}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as So}from"./useEnabledChains-DuB86c95.js";import{CELO_LOGO as Vo}from"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import"./api-BsCrUy1C.js";import"./state-BVuwBOpM.js";import"./utils-CK6a47NA.js";import{ApolloError as Qe,Chain as ve,DEFAULT_NATIVE_ADDRESS as Io,PoolTransactionType as Po,UniverseChainId as q,fromGraphQLChain as Lo,getChainInfo as qe,getChainLabel as Ke,isUniverseChainId as Ze,toGraphQLChain as G,useTokenWebQuery as Mo,useTopV2PairsQuery as Do,useTopV3PoolsQuery as No,useTopV4PoolsQuery as Ao,useV2TokenTransactionsQuery as Bo,useV3TokenTransactionsQuery as Eo,useV4TokenTransactionsQuery as Oo}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import{areAddressesEqual as Ve,areCurrenciesEqual as ye,buildCurrencyId as zo,buildNativeCurrencyId as Ro,currencyId as Fo,getNativeAddress as Ie,isEVMChain as Ho,isNativeCurrencyAddress as Uo,normalizeTokenAddressForCache as he}from"./currencyId-Ci6selsx.js";import"./constants-vVZBLDwL.js";import"./constants-CZ9iND_H.js";import"./slice-DimuiOR8.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import"./wallet-gHLp87c6.js";import"./features-yACC1hVw.js";import"./interface-BdpC4qOF.js";import{TokenWarningModal as Wo}from"./TokenSelector-CNVK2itZ.js";import"./element-Wnp4RkdY.js";import{ModalName as Qo}from"./modal-Dvm06CN4.js";import{InterfacePageName as qo}from"./page-zDkoCQe4.js";import"./uniswap-Bm-6KILn.js";import"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./call-CTDbaN-t.js";import"./parseAccount-CRyN5swV.js";import"./encodeFunctionData-CD63gkvM.js";import"./public-fap09Zv6.js";import"./stringify-B82RFruy.js";import"./rpc-nQR4Ijs4.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import{ExplorerDataType as Y,getExplorerLink as ae}from"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./V3DutchOrderTrade-Cl7yELmp.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./v2-sdk.esm-CIiDMO7F.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import"./types-DbOmsKtk.js";import"./slice-CYdI68Yo.js";import"./defaultOptions-ENwqzwHj.js";import"./getCurrencyAmount-vvZpAzIm.js";import{isAddress as Ko,shortenAddress as Ge}from"./addresses-D56PBUHX.js";import"./currency-DIOEzjz2.js";import"./actions-BvAnf7JG.js";import"./reducer-26KeQlno.js";import"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./providers-BELGpWsr.js";import"./erc20-CdGGKIp0.js";import"./getContract-CMwwszTa.js";import{nativeOnChain as Ye}from"./objects-DlLkJwrJ.js";import"./analytics-Ccvj1WVk.js";import"./send.web-CrSXW2rw.js";import"./TradingApiClient-Cp_0ez5S.js";import{Swap as Zo,TokenWarningCard as Go}from"./Swap-DKOTvxFh.js";import"./ProtocolItems-DhZWSiXS.js";import"./selectors-BwkayGDl.js";import"./useUSDCPrice-HO7Wgroz.js";import{usePortfolioBalances as Yo}from"./balances-DV0Wvmri.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./mutation-CRQvRc5_.js";import"./infiniteQueryBehavior-C10I_UVS.js";import"./connector-Cw8HJLtm.js";import"./queryOptions-P48mrm5X.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./embeddedWallet-BdHUTaHg.js";import"./use-query-8AOGtvlP.js";import"./promise-client-BYLTs0DC.js";import"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import"./types_pb-yZxlo4b1.js";import"./hooks-Dhx5teK4.js";import"./transactionDetails-BsNW_jus.js";import{NumberType as ie}from"./types-JuyYLR0O.js";import{useAppFiatCurrency as Xo,useLocalizationContext as we}from"./LocalizationContext-B31peW1_.js";import"./getAlertColor-J5DrJWHv.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import"./useSupportedChainId-DskHoisQ.js";import"./useWallet-CL5owP9P.js";import"./TraceContext-Ddfk7zjz.js";import"./queryOptions-Dj3qRbwo.js";import"./types-7DAoWLTI.js";import"./analytics-UE3_EENu.js";import"./types-BSmAADNJ.js";import"./eventemitter3-DFes51ku.js";import"./eventemitter3-BHLpX1jX.js";import"./dist-BWRHWQ_J.js";import"./readContract-Cae4hIjn.js";import"./recoverAddress-oPdWABRo.js";import"./getBalance-TsPVbzB5.js";import"./localBatchGatewayRequest-CdT4Kija.js";import"./createBatchScheduler-BJBpfhFD.js";import"./createTransport-WEDNYdh5.js";import"./useEthersProvider-CBgc_azi.js";import"./http-CIklBnX8.js";import"./wagmiConfig-0BYSDqyO.js";import"./hashMessage-DdzTBpWL.js";import"./multicall-BYS6jvE9.js";import"./secp256k1-fbKD5lyl.js";import"./getAction-BBhbL9mE.js";import{useAccount as ue}from"./useAccount-C5hwiBwN.js";import"./config-CDfnfyHL.js";import{useSwitchChain as Jo}from"./useSwitchChain-CY8eYAUF.js";import"./useAccountEffect-CHrs5vTR.js";import"./query-qNZtVuxH.js";import"./constants-CGJJmXwV.js";import{useAtomValue as Pe,useResetAtom as Le}from"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./passkey.web-DakcatU3.js";import"./hex-njd-4N-2.js";import"./slice-qANrfSbi.js";import"./noop-BDbB2pLB.js";import"./walletMeta-DaLhfhet.js";import"./signing-DH5GfhKu.js";import{i18n_default as Me}from"./i18n-CroUvoJw.js";import"./v4-D6Rlvprs.js";import"./errors-BaezSPLl.js";import"./swapErrorToUserReadableMessage-DgHZMHU-.js";import"./AccountDetails-pkaz6EG4.js";import"./lpIncentivesSaga-CyYcBLmn.js";import{Flex as J,Text as E,concatClassName as Xe,styled as W,useMedia as me}from"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./Anchor-B1nkrQbP.js";import"./Input-ClKbNpxm.js";import"./Checkbox-Id3GDHn8.js";import"./NetworkFee-D_F4jDwh.js";import"./AnimatePresencePager-Dk43KD9E.js";import"./HeightAnimator-DF8znv78.js";import"./getTradeSettingsDeadline-B3uZN4NF.js";import"./CurrencyInputPanel-CJ-UCFJ3.js";import"./breakpoints-B-pYqY7D.js";import"./urls-aCnKF23w.js";import"./useNewChainIds-CIAogFpa.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import"./NetworkFilter-ZFjNguMa.js";import"./AlertTriangleFilled-C9tf2eUJ.js";import"./ArrowDown-B8kFPZPX.js";import{ArrowDownCircle as et}from"./ArrowDownCircle-C6Rt5829.js";import{PoolSortFields as De,calculate1DVolOverTvl as xe,calculateApr as fe,sortPools as ot}from"./state-DRfrbe8S.js";import"./Blocked-BNx3Epiv.js";import"./CheckmarkCircle-Znmo2ojy.js";import"./CoinConvert-D8dLJ8GW.js";import"./CopyAlt-CU_LJNbN.js";import"./ExternalLink-DO2F__JQ.js";import"./Eye-D482ahgC.js";import"./InfoCircleFilled-CBAL5Wj0.js";import"./Lightning-BPcc3_Cc.js";import"./ThemeToggle-BcuKj11V.js";import"./index.esm-CLP40SHA.js";import"./Passkey-Bey7xD4Z.js";import"./Person-B27R6hM-.js";import"./Pools-DKYxZO3F.js";import"./ReceiveAlt-nuO9D5GJ.js";import"./clipboard.web-CNSIHgMi.js";import"./SplitLogo-Ct--07LT.js";import"./UniswapLogo-D1ayVSkF.js";import"./UniswapX-CtuHCpO-.js";import"./AnimatedFlex-BgzbJK30.js";import"./reducer-CcXO4HTO.js";import"./useSelectChain-CA5zoRWi.js";import{NATIVE_CHAIN_ID as le,UNKNOWN_TOKEN_SYMBOL as tt}from"./tokens-Dxd89cHj.js";import"./prices-BzyZhpWW.js";import"./useWallet-CpLwPvrh.js";import"./timing-DsWr56iv.js";import"./useIsUnichainFlashblocksEnabled-BbPYkimv.js";import"./uniswapx-DgS0k47c.js";import"./experiments-rc6XUB0U.js";import"./SwapFormStoreContext-3NrPQE3L.js";import"./useSwapFormStore-D1oVGbBf.js";import"./swapTxAndGasInfo-DxVAGFqc.js";import"./types-NWGai6aQ.js";import{useCurrencyInfo as it}from"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import"./reducer-1kwGyyVS.js";import"./constants-BNEwFtLH.js";import"./slice-CGCdMmTE.js";import"./actions-Budqlwp-.js";import"./slice-DoLbOto3.js";import"./slice-Crjw990S.js";import"./slice-CI92BTuM.js";import"./slice-CaJcHsUP.js";import"./usePrevious-CggM0Zir.js";import"./hooks-Muz170pO.js";import{useChainIdFromUrlParam as nt}from"./chainParams-DIOvplzi.js";import{OrderDirection as Ne,getNativeTokenDBAddress as Je,getTokenDetailsURL as eo,gqlToCurrency as rt,unwrapToken as st}from"./util-BZ6kLG7e.js";import"./useConversionTracking-9d_tCytj.js";import"./useContract-CKZ4cOLX.js";import"./UniswapInterfaceMulticall-DLE8QJ-2.js";import"./Arrow-DIna6t35.js";import"./TokenLogo-JlSSDr3Q.js";import"./hooks-CRfHBoLD.js";import"./use-transport-CPomNX05.js";import"./useModalState-BcPI2EiQ.js";import{useCurrency as ke}from"./Tokens-HEKZ8edJ.js";import"./types-OmNOta2_.js";import"./useMultichainContext-BVmgxqO2.js";import"./UnitagsApiClient-CvShPRCK.js";import"./Identicon-SnsLMqUD.js";import"./api-u3dxy1Uz.js";import"./Dividers-D5mIbKhU.js";import"./useIsWindowVisible-CtuFA8fK.js";import"./useBlockNumber-BeCJLIMW.js";import"./useIsMobile-Cq3RSgOi.js";import{Xe as at,styled_components_default as lt}from"./styled-components-DbVO3u5J.js";import{ThemedText as ne}from"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import{copy_default as dt,useCopyClipboard as oo}from"./copy-bNdbH7uS.js";import{require_prop_types as ct}from"./prop-types-BL9JsGr9.js";import"./arrow-down-DCHNWUQ6.js";import"./check-8ct4mC1b.js";import{chevron_right_default as Ae}from"./chevron-right-fNEOKcTd.js";import"./info-HMx-E5JG.js";import{ActionButtonStyle as to,ChartSection as ut,EtherscanLogo as io,ExplorerIcon as mt,Hr as pt,LeftPanel as vt,MobileBottomBar as ht,NoInfoAvailable as xt,RightPanel as ft,Share as _t,ShareButton as gt,StatsSection as yt,TDPProvider as kt,TokenDetailsLayout as bt,TokenDetailsPageSkeleton as jt,TwitterXLogo as no,link_default as Ct,openShareTweetWindow as Tt,truncateDescription as $t,useCreateTDPChartState as wt,useTDPContext as F}from"./MobileBottomBar-CqxJ5qUR.js";import{ClickableTamaguiStyle as pe}from"./clickable-D5qUCIhr.js";import{EllipsisTamaguiStyle as ro}from"./ellipsis-DjwAKJIh.js";import{ExternalLink as _e}from"./Links-Xomrvpth.js";import{ExploreTab as St}from"./constants-B0Jk62hw.js";import"./tsafe-BS8OsPXq.js";import"./Column-ekA0cfjc.js";import{ScrollDirection as Vt,useDynamicMetatags as It,useScroll as Pt}from"./metatags-D5iocQQU.js";import"./Delta-_V0Ythbq.js";import"./useIsPage-CCVcHkKr.js";import"./testIDs-CxYpwoP6.js";import"./useCommonTokensOptionsWithFallback-7qZUIHia.js";import"./SwitchLocaleLink-BUGvLhIf.js";import"./styled-Cb09-IEr.js";import{Trace_default as Lt}from"./Trace-DgHN3Ak9.js";import"./Modal.web-DHbL39pN.js";import"./WarningModal-f8Gfhd_G.js";import"./InfoTooltip.web-CkgGEmd3.js";import"./assets-D-uPpcBZ.js";import"./LearnMoreLink-CrJtGK7U.js";import"./react-virtualized-auto-sizer.esm-5JBVmqYi.js";import"./MultichainContext-CEAgN3e0.js";import"./useGetPasskeyAuthStatus-QVLoUPch.js";import"./types-Ds0gKmju.js";import"./dismissNativeKeyboard.web-99F1bxCR.js";import"./TextInput-3sqL_9ZJ.js";import"./useDynamicFontSizing-DOxjEhTh.js";import"./wrap-ClUP-Vuk.js";import"./hooks-XT5i__xU.js";import"./toNumber-iK_F5vx6.js";import"./utils-LZMRiXFW.js";import"./InlineWarningCard-p0OrN1e9.js";import{DEFAULT_TICK_SPACING as ge,V2_DEFAULT_FEE_TIER as Be}from"./pools-5GjP-hMy.js";import"./ContextMenuV2.web-DtsTwCPj.js";import"./useBooleanState-QNOWYlXb.js";import"./service-ExploreStatsService_connectquery-YoP81iJ5.js";import"./useDeviceDimensions-iftoqxuy.js";import"./types-Ctc23WnH.js";import"./isIFramed-Ir4iCEzS.js";import"./explore-CL40v3_c.js";import"./styles-nntGSkOP.js";import"./Row-D0lmZ56K.js";import"./tryParseCurrencyAmount-Bt3FPZDG.js";import{PortfolioLogo as so}from"./PortfolioLogo-C-reBpb6.js";import"./CurrencyLogo-CvvmRzOI.js";import"./DoubleLogo-D40dQ2P7.js";import"./styled-qLLlrMEu.js";import"./useOnClickOutside-B5O2_6zc.js";import{MouseoverTooltip as be,TooltipSize as je}from"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import"./useHoverProps-BdQsOXMz.js";import"./DetailLineItem-d-0mcMrN.js";import"./loading-C4pQN7jn.js";import"./Portal-CDCMc_Hf.js";import{require_lib as Mt}from"./lib-vcvVECAN.js";import"./colors-DAHeqJj_.js";import"./theme-BHMiWygR.js";import"./AdaptiveDropdown-Cv1C9ooR.js";import{Cell as K,EllipsisText as Dt,Filter as Nt,FilterHeaderRow as At,HeaderCell as Z,HeaderSortText as Bt,StyledExternalLink as Et,Table as Ot,TableText as ee,TimestampCell as zt,TokenLinkCell as Rt,createColumnHelper as Ft}from"./Filter-Bbh2t7To.js";import"./util-CfowgtYu.js";import"./protocolVersion-Djp_Gxjw.js";import"./LPIncentiveFeeStatTooltip-CknsSvzz.js";import"./feeTiers-D9BvLkmt.js";import{useUpdateManualOutage as ao}from"./outageBanner-CxJQj198.js";import{BreadcrumbNavContainer as Ht,BreadcrumbNavLink as Ee,CurrentPageBreadcrumb as Ut}from"./BreadcrumbNav-lC3fgSsx.js";import"./DropdownSelector-CYN_6AdC.js";import"./LoadingState-4OstYjDu.js";import"./utils-s6RXdTyR.js";import"./dist-BxQUC-sk.js";import{useSwapTaxes as Wt}from"./useSwapTaxes-CDZk7xg5.js";import"./useDebounce-BRocP-mi.js";import{PoolsTable as Qt,sortAscendingAtom as Oe,sortMethodAtom as ze}from"./PoolTable-DAoW4_Ag.js";import"./topPools-49_ZkMXb.js";import"./useNativeCurrency-BDMzySGC.js";import{useSrcColor as qt}from"./useColor-DAHloagH.js";import{FOTTooltipContent as Kt}from"./SwapLineItem-CkeBjgN3.js";var e=de(wo());const[Zt,hc]=ko({name:"ArrowUpCircle",getIcon:o=>(0,e.jsx)(go,{viewBox:"0 0 24 24",fill:"none",...o,children:(0,e.jsx)(_o,{d:"M2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12ZM11.05 16.2C11.05 16.7247 11.4754 17.15 12 17.15C12.5247 17.15 12.95 16.7247 12.95 16.2V10.0935L15.5283 12.6717C15.8993 13.0427 16.5008 13.0427 16.8718 12.6717C17.2428 12.3007 17.2428 11.6992 16.8718 11.3282L12.6718 7.12824C12.3008 6.75724 11.6993 6.75724 11.3283 7.12824L7.12829 11.3282C6.75729 11.6992 6.75729 12.3007 7.12829 12.6717C7.49929 13.0427 8.10079 13.0427 8.47179 12.6717L11.05 10.0935V16.2Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});var v=de(po()),re=de(ct());function Ce(){return Ce=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Ce.apply(this,arguments)}function Gt(o,i){if(o==null)return{};var t=Yt(o,i),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);for(n=0;n<a.length;n++)r=a[n],!(i.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(o,r)&&(t[r]=o[r])}return t}function Yt(o,i){if(o==null)return{};var t={},r=Object.keys(o),n,a;for(a=0;a<r.length;a++)n=r[a],!(i.indexOf(n)>=0)&&(t[n]=o[n]);return t}var Se=(0,v.forwardRef)(function(o,i){var t=o.color,r=t===void 0?"currentColor":t,n=o.size,a=n===void 0?24:n,u=Gt(o,["color","size"]);return v.createElement("svg",Ce({ref:i,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),v.createElement("circle",{cx:"12",cy:"12",r:"1"}),v.createElement("circle",{cx:"19",cy:"12",r:"1"}),v.createElement("circle",{cx:"5",cy:"12",r:"1"}))});Se.propTypes={color:re.default.string,size:re.default.oneOfType([re.default.string,re.default.number])};Se.displayName="MoreHorizontal";var Xt=Se;function Jt(o){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...o,children:(0,e.jsx)("path",{d:"M21.421 5.66912L18.1411 18.7892C17.6711 20.6592 16.071 21.4992 14.671 21.4992C14.661 21.4992 14.6511 21.4992 14.6511 21.4992C13.2411 21.4892 11.6311 20.6292 11.1911 18.7392L10.3311 15.0893L15.7111 9.70916C16.1011 9.31916 16.1011 8.67924 15.7111 8.28924C15.3211 7.89924 14.681 7.89924 14.291 8.28924L8.91104 13.6691L5.26107 12.8093C3.37107 12.3693 2.51106 10.7593 2.50106 9.35931C2.49106 7.94931 3.33109 6.32931 5.21109 5.85931L18.3311 2.57928C19.2011 2.35928 20.1111 2.6092 20.7511 3.2492C21.3911 3.8892 21.641 4.79912 21.421 5.66912Z",fill:o.fill||"#9B9B9B"})})}const ei="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center _gap-t-space-spa94665593 _width-10037 ";function oi(){const{t:o}=X(),{currencyChain:i,currencyChainId:t,address:r,tokenColor:n}=F(),a=Jo(),u=ce(),s=ue(),p=i.toLowerCase(),d=r===le?"ETH":r,x=!me().xs,T=(0,v.useCallback)(async k=>{s.chainId&&s.chainId!==t&&Ho(t)&&await a(t),u(k)},[s,t,a,u]),g=(0,v.useMemo)(()=>[{label:o("common.buy.label"),href:`/swap/?chain=${p}&outputCurrency=${d}`,icon:(0,e.jsx)(et,{})},{label:o("common.sell.label"),href:`/swap?chain=${p}&inputCurrency=${d}`,icon:(0,e.jsx)(Zt,{})},...s.isConnected?[{href:`/send?chain=${p}&inputCurrency=${d}`,icon:(0,e.jsx)(Jt,{fill:"currentColor"})}]:[]],[o,p,d,s.isConnected]);return(0,e.jsx)("div",{className:ei,children:g.map((k,y)=>{const j={key:k.label||`icon-${y}`,onPress:()=>T(k.href),backgroundColor:n,size:"medium"};return k.label?(0,e.jsx)(vo,{...j,icon:x?k.icon:void 0,children:k.label}):(0,e.jsx)(xo,{...j,icon:k.icon})})})}const oe=20;function ti({tokenAddress:o,sortState:i,chainId:t,isNative:r}){const n=G(t),{loading:a,error:u,data:s,fetchMore:p}=Ao({variables:{first:oe,tokenAddress:r?Io:o,chain:n}}),{loading:d,error:f,data:x,fetchMore:T}=No({variables:{first:oe,tokenAddress:o,chain:n}}),{loading:g,error:k,data:y,fetchMore:j}=Do({variables:{first:oe,tokenAddress:o,chain:n},skip:!t}),$=a||d||g,A=(0,v.useRef)(!1),D=(0,v.useRef)(!1),S=(0,v.useRef)(!1),B=(0,v.useRef)(oe),h=(0,v.useCallback)(({onComplete:l})=>{var m,_,R;A.current||D.current||S.current||(A.current=!0,D.current=!0,S.current=!0,B.current+=oe,p({variables:{cursor:s==null||(m=s.topV4Pools)===null||m===void 0||(m=m[s.topV4Pools.length-1])===null||m===void 0||(m=m.totalLiquidity)===null||m===void 0?void 0:m.value},updateQuery:(z,{fetchMoreResult:w})=>{if(!Object.keys(z).length)return A.current=!1,z;!D.current&&!S.current&&(l==null||l());const V={topV4Pools:[...(z.topV4Pools??[]).slice(),...(w.topV4Pools??[]).slice()]};return A.current=!1,V}}),T({variables:{cursor:x==null||(_=x.topV3Pools)===null||_===void 0||(_=_[x.topV3Pools.length-1])===null||_===void 0||(_=_.totalLiquidity)===null||_===void 0?void 0:_.value},updateQuery:(z,{fetchMoreResult:w})=>{if(!Object.keys(z).length)return D.current=!1,z;!S.current&&!A.current&&(l==null||l());const V={topV3Pools:[...(z.topV3Pools??[]).slice(),...(w.topV3Pools??[]).slice()]};return D.current=!1,V}}),j({variables:{cursor:y==null||(R=y.topV2Pairs)===null||R===void 0||(R=R[y.topV2Pairs.length-1])===null||R===void 0||(R=R.totalLiquidity)===null||R===void 0?void 0:R.value},updateQuery:(z,{fetchMoreResult:w})=>{if(!Object.keys(z).length)return S.current=!1,z;!D.current&&!A.current&&(l==null||l());const V={topV2Pairs:[...(z.topV2Pairs??[]).slice(),...(w.topV2Pairs??[]).slice()]};return S.current=!1,V}}))},[y==null?void 0:y.topV2Pairs,x==null?void 0:x.topV3Pools,s==null?void 0:s.topV4Pools,j,T,p]);return(0,v.useMemo)(()=>{var l,m,_;const R=(s==null||(l=s.topV4Pools)===null||l===void 0?void 0:l.map(c=>{var C,b,O,I,P,L,M,H;return{hash:c.poolId,token0:c.token0,token1:c.token1,tvl:(C=c.totalLiquidity)===null||C===void 0?void 0:C.value,volume24h:(b=c.volume24h)===null||b===void 0?void 0:b.value,volume30d:(O=c.volume30d)===null||O===void 0?void 0:O.value,volOverTvl:xe((I=c.volume24h)===null||I===void 0?void 0:I.value,(P=c.totalLiquidity)===null||P===void 0?void 0:P.value),apr:fe({volume24h:(L=c.volume24h)===null||L===void 0?void 0:L.value,tvl:(M=c.totalLiquidity)===null||M===void 0?void 0:M.value,feeTier:c.feeTier}),feeTier:c.feeTier?{feeAmount:c.feeTier,tickSpacing:ge,isDynamic:c.isDynamicFee??!1}:void 0,protocolVersion:c.protocolVersion,hookAddress:(H=c.hook)===null||H===void 0?void 0:H.address}}))??[],z=(x==null||(m=x.topV3Pools)===null||m===void 0?void 0:m.map(c=>{var C,b,O,I,P,L,M;return{hash:c.address,token0:c.token0,token1:c.token1,tvl:(C=c.totalLiquidity)===null||C===void 0?void 0:C.value,volume24h:(b=c.volume24h)===null||b===void 0?void 0:b.value,volume30d:(O=c.volume30d)===null||O===void 0?void 0:O.value,volOverTvl:xe((I=c.volume24h)===null||I===void 0?void 0:I.value,(P=c.totalLiquidity)===null||P===void 0?void 0:P.value),apr:fe({volume24h:(L=c.volume24h)===null||L===void 0?void 0:L.value,tvl:(M=c.totalLiquidity)===null||M===void 0?void 0:M.value,feeTier:c.feeTier}),feeTier:c.feeTier?{feeAmount:c.feeTier,tickSpacing:ge,isDynamic:!1}:void 0,protocolVersion:c.protocolVersion}}))??[],w=(y==null||(_=y.topV2Pairs)===null||_===void 0?void 0:_.map(c=>{var C,b,O,I,P,L,M;return{hash:c.address,token0:c.token0,token1:c.token1,tvl:(C=c.totalLiquidity)===null||C===void 0?void 0:C.value,volume24h:(b=c.volume24h)===null||b===void 0?void 0:b.value,volume30d:(O=c.volume30d)===null||O===void 0?void 0:O.value,volOverTvl:xe((I=c.volume24h)===null||I===void 0?void 0:I.value,(P=c.totalLiquidity)===null||P===void 0?void 0:P.value),apr:fe({volume24h:(L=c.volume24h)===null||L===void 0?void 0:L.value,tvl:(M=c.totalLiquidity)===null||M===void 0?void 0:M.value,feeTier:Be}),feeTier:{feeAmount:Be,tickSpacing:ge,isDynamic:!1},protocolVersion:c.protocolVersion}}))??[],V=ot([...R,...z,...w],i).slice(0,B.current);return{loading:$,errorV2:k,errorV3:f,errorV4:u,pools:V,loadMore:h}},[y==null?void 0:y.topV2Pairs,x==null?void 0:x.topV3Pools,s==null?void 0:s.topV4Pools,k,f,u,h,$,i])}const ii="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",ni=[De.VolOverTvl,De.RewardApr];function ri({referenceCurrency:o}){const{chainId:i,wrapped:t,isNative:r}=o,n=Pe(ze),a=Pe(Oe),u=(0,v.useMemo)(()=>({sortBy:n,sortDirection:a?Ne.Asc:Ne.Desc}),[a,n]),{pools:s,loading:p,errorV2:d,errorV3:f,loadMore:x}=ti({tokenAddress:t.address,sortState:u,chainId:o.chainId,isNative:r}),T=d&&f?new Qe({errorMessage:`Could not retrieve V2 and V3 Pools for token ${t.address} on chain: ${i}`}):void 0,g=p&&!s.length;ao({chainId:i,errorV3:f,errorV2:d});const k=Le(ze),y=Le(Oe);return(0,v.useEffect)(()=>{k(),y()},[y,k]),(0,e.jsx)("div",{"data-testid":`tdp-pools-table-${t.address.toLowerCase()}`,className:ii,children:(0,e.jsx)(Qt,{pools:s,loading:g,error:T,maxHeight:600,hiddenColumns:ni,loadMore:x,forcePinning:!0})})}let U=(function(o){return o.BUY="Buy",o.SELL="Sell",o})({});const si=o=>{switch(o){case U.BUY:return Me.t("common.buy.label");case U.SELL:return Me.t("common.sell.label");default:return""}},te=25;function ai({address:o,chainId:i,filter:t=[U.BUY,U.SELL]}){var r,n,a,u,s,p;const{data:d,loading:f,fetchMore:x,error:T}=Oo({variables:{address:he(o),chain:G(i),first:te}}),{data:g,loading:k,fetchMore:y,error:j}=Eo({variables:{address:he(o),chain:G(i),first:te}}),{data:$,loading:A,error:D,fetchMore:S}=Bo({variables:{address:he(o),first:te,chain:G(i)}}),B=(0,v.useRef)(!1),h=(0,v.useRef)(!1),l=(0,v.useRef)(!1),m=(0,v.useRef)(te),_=(0,v.useCallback)(({onComplete:w})=>{var V,c,C;B.current||h.current||l.current||(B.current=!0,h.current=!0,l.current=!0,m.current+=te,x({variables:{cursor:d==null||(V=d.token)===null||V===void 0||(V=V.v4Transactions)===null||V===void 0||(V=V[d.token.v4Transactions.length-1])===null||V===void 0?void 0:V.timestamp},updateQuery:(b,{fetchMoreResult:O})=>{var I,P,L,M;!h.current&&!l.current&&(w==null||w());const H={token:{...b.token,id:((I=b.token)===null||I===void 0?void 0:I.id)??"",chain:((P=b.token)===null||P===void 0?void 0:P.chain)??ve.Ethereum,v4Transactions:[...((L=b.token)===null||L===void 0?void 0:L.v4Transactions)??[],...((M=O.token)===null||M===void 0?void 0:M.v4Transactions)??[]]}};return B.current=!1,H}}),y({variables:{cursor:g==null||(c=g.token)===null||c===void 0||(c=c.v3Transactions)===null||c===void 0||(c=c[g.token.v3Transactions.length-1])===null||c===void 0?void 0:c.timestamp},updateQuery:(b,{fetchMoreResult:O})=>{var I,P,L,M;!l.current&&!B.current&&(w==null||w());const H={token:{...b.token,id:((I=b.token)===null||I===void 0?void 0:I.id)??"",chain:((P=b.token)===null||P===void 0?void 0:P.chain)??ve.Ethereum,v3Transactions:[...((L=b.token)===null||L===void 0?void 0:L.v3Transactions)??[],...((M=O.token)===null||M===void 0?void 0:M.v3Transactions)??[]]}};return h.current=!1,H}}),S({variables:{cursor:$==null||(C=$.token)===null||C===void 0||(C=C.v2Transactions)===null||C===void 0||(C=C[$.token.v2Transactions.length-1])===null||C===void 0?void 0:C.timestamp},updateQuery:(b,{fetchMoreResult:O})=>{var I,P,L,M;!h.current&&!B.current&&(w==null||w());const H={token:{...b.token,id:((I=b.token)===null||I===void 0?void 0:I.id)??"",chain:((P=b.token)===null||P===void 0?void 0:P.chain)??ve.Ethereum,v2Transactions:[...((L=b.token)===null||L===void 0?void 0:L.v2Transactions)??[],...((M=O.token)===null||M===void 0?void 0:M.v2Transactions)??[]]}};return l.current=!1,H}}))},[$==null||(r=$.token)===null||r===void 0?void 0:r.v2Transactions,g==null||(n=g.token)===null||n===void 0?void 0:n.v3Transactions,d==null||(a=d.token)===null||a===void 0?void 0:a.v4Transactions,S,y,x]),R=(0,v.useCallback)(w=>{var V;if(!w)return!1;const C=((V=(parseFloat(w.token0Quantity)>0?w.token0:w.token1).address)===null||V===void 0?void 0:V.toLowerCase())===o.toLowerCase();return w.type===Po.Swap&&t.includes(C?U.SELL:U.BUY)},[o,t]),z=(0,v.useMemo)(()=>{var w,V,c;return[...(d==null||(w=d.token)===null||w===void 0?void 0:w.v4Transactions)??[],...(g==null||(V=g.token)===null||V===void 0?void 0:V.v3Transactions)??[],...($==null||(c=$.token)===null||c===void 0?void 0:c.v2Transactions)??[]].filter(R).sort((C,b)=>C!=null&&C.timestamp&&(b!=null&&b.timestamp)?b.timestamp-C.timestamp:1).slice(0,m.current)},[$==null||(u=$.token)===null||u===void 0?void 0:u.v2Transactions,g==null||(s=g.token)===null||s===void 0?void 0:s.v3Transactions,d==null||(p=d.token)===null||p===void 0?void 0:p.v4Transactions,R]);return(0,v.useMemo)(()=>({transactions:z,loading:f||k||A,loadMore:_,errorV2:D,errorV3:j,errorV4:T}),[z,f,k,A,_,D,j,T])}const li="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _justifyContent-flex-end ",di="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _justifyContent-flex-end _alignItems-center ",ci="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center ",ui=W(J,{position:"relative",minHeight:158});function mi({chainId:o,referenceToken:i}){const t=Xo(),{convertFiatAmountFormatted:r,formatNumberOrString:n}=we(),[a,u]=(0,v.useReducer)(h=>!h,!1),s=(0,v.useRef)(null),[p,d]=(0,v.useState)([U.BUY,U.SELL]),{transactions:f,loading:x,loadMore:T,errorV2:g,errorV3:k}=ai({address:i.address,chainId:o,filter:p}),y=g&&k?new Qe({errorMessage:`Could not retrieve V2 and V3 Transactions for token: ${i.address} on chain: ${o}`}):void 0,j=x&&!f.length;ao({chainId:o,errorV3:k,errorV2:g});const $=st(o,i),A=(0,v.useMemo)(()=>f.map(h=>{const l={address:h.token0.address,symbol:h.token0.symbol,amount:parseFloat(h.token0Quantity),token:h.token0},m={address:h.token1.address,symbol:h.token1.symbol,amount:parseFloat(h.token1Quantity),token:h.token1},_=parseFloat(h.token0Quantity)>0;return{hash:h.hash,timestamp:h.timestamp,input:_?l:m,output:_?m:l,usdValue:h.usdValue.value,makerAddress:h.account}}),[f]),D=me(),S=j||!!y,B=(0,v.useMemo)(()=>{const h=Ft();return[h.accessor(l=>l,{id:"timestamp",maxSize:80,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-start",grow:!0,children:(0,e.jsx)("div",{className:ci,children:(0,e.jsx)(E,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(N,{i18nKey:"common.time"})})})}),cell:l=>{var m,_;return(0,e.jsx)(K,{loading:S,justifyContent:"flex-start",grow:!0,children:(0,e.jsx)(zt,{timestamp:Number((m=l.getValue)===null||m===void 0?void 0:m.call(l).timestamp),link:ae({chainId:o,data:(_=l.getValue)===null||_===void 0?void 0:_.call(l).hash,type:Y.TRANSACTION})})})}}),h.accessor(l=>l.output.address,{id:"swap-type",maxSize:80,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-start",grow:!0,children:(0,e.jsxs)(At,{clickable:a,onPress:a?void 0:u,alignItems:"center",ref:s,children:[(0,e.jsx)(Nt,{allFilters:Object.values(U).map(l=>({value:l,label:si(l)})),activeFilter:p,setFilters:d,isOpen:a,toggleFilterModal:u,anchorRef:s}),(0,e.jsx)(E,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(N,{i18nKey:"common.type.label"})})]})}),cell:l=>{var m;const _=String((m=l.getValue)===null||m===void 0?void 0:m.call(l)).toLowerCase()===i.address.toLowerCase();return(0,e.jsx)(K,{loading:S,justifyContent:"flex-start",grow:!0,children:(0,e.jsx)(ee,{color:_?"$statusSuccess":"$statusCritical",children:_?(0,e.jsx)(N,{i18nKey:"common.buy.label"}):(0,e.jsx)(N,{i18nKey:"common.sell.label"})})})}}),h.accessor(l=>{var m;return((m=l.input.address)===null||m===void 0?void 0:m.toLowerCase())===i.address.toLowerCase()?l.input.amount:l.output.amount},{id:"reference-amount",maxSize:80,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-end",children:(0,e.jsxs)(E,{variant:"body3",color:"$neutral2",children:["$",$.symbol]})}),cell:l=>{var m;return(0,e.jsx)(K,{loading:S,justifyContent:"flex-end",children:(0,e.jsx)(ee,{children:n({value:Math.abs((m=l.getValue)===null||m===void 0?void 0:m.call(l))||0,type:ie.TokenNonTx})})})}}),h.accessor(l=>{var m;const _=((m=l.input.address)===null||m===void 0?void 0:m.toLowerCase())===i.address.toLowerCase()?l.output:l.input;return(0,e.jsxs)("div",{className:di,children:[(0,e.jsx)(Dt,{maxWidth:75,children:n({value:Math.abs(_.amount)||0,type:ie.TokenQuantityStats})}),(0,e.jsx)(Rt,{token:_.token})]})},{id:"non-reference-amount",maxSize:160,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-end",children:(0,e.jsx)(E,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(N,{i18nKey:"common.for"})})}),cell:l=>{var m;return(0,e.jsx)(K,{loading:S,justifyContent:"flex-end",children:(0,e.jsx)(ee,{children:(m=l.getValue)===null||m===void 0?void 0:m.call(l)})})}}),h.accessor(l=>l.usdValue,{id:"fiat-value",maxSize:100,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-end",children:(0,e.jsx)("div",{className:li,children:(0,e.jsx)(Bt,{children:t})})}),cell:l=>{var m;return(0,e.jsx)(K,{loading:S,justifyContent:"flex-end",children:(0,e.jsx)(ee,{children:r((m=l.getValue)===null||m===void 0?void 0:m.call(l),ie.FiatTokenPrice)})})}}),h.accessor(l=>l.makerAddress,{id:"maker-address",maxSize:130,header:()=>(0,e.jsx)(Z,{justifyContent:"flex-end",children:(0,e.jsx)(E,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(N,{i18nKey:"common.wallet.label"})})}),cell:l=>{var m,_;return(0,e.jsx)(K,{loading:S,justifyContent:"flex-end",children:(0,e.jsx)(Et,{href:ae({chainId:o,data:(m=l.getValue)===null||m===void 0?void 0:m.call(l),type:Y.ADDRESS}),children:(0,e.jsx)(ee,{children:Ge((_=l.getValue)===null||_===void 0?void 0:_.call(l))})})})}})]},[S,o,a,p,i.address,$.symbol,n,t,r]);return(0,e.jsx)(ui,{children:(0,e.jsx)(Ot,{columns:B,data:A,loading:j,error:y,loadMore:T,maxHeight:600,defaultPinnedColumns:["timestamp","swap-type"],forcePinning:D.xxl})})}const pi=W(J,{width:"100%"}),Re=W(E,{color:"$neutral1",variant:"heading3",...pe});var Q=(function(o){return o[o.Txs=0]="Txs",o[o.Pools=1]="Pools",o})(Q||{});function vi(){const o=F().currency,[i,t]=(0,v.useState)(Q.Txs);return(0,e.jsxs)(pi,{"data-testid":"token-details-activity-section",children:[(0,e.jsxs)(J,{row:!0,gap:"$spacing24",mb:"$spacing24",id:"activity-header",children:[(0,e.jsx)(Re,{color:i===Q.Txs?"$neutral1":"$neutral2",onPress:()=>t(Q.Txs),children:(0,e.jsx)(N,{i18nKey:"common.transactions"})}),(0,e.jsx)(Re,{color:i===Q.Pools?"$neutral1":"$neutral2",onPress:()=>t(Q.Pools),children:(0,e.jsx)(N,{i18nKey:"common.pools"})})]}),i===Q.Txs&&(0,e.jsx)(mi,{chainId:o.chainId,referenceToken:o.wrapped}),i===Q.Pools&&(0,e.jsx)(ri,{referenceCurrency:o})]})}const hi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1602 _height-fit-content _width-10037 ",xi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _height-fit-content _width-10037 ",Te="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",fi=" _justifyContent-space-betwe3241",_i=" _justifyContent-flex-start _gap-t-space-spa94665593",gi=" _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _width-10037 _alignItems-center _ml-t-space-spa1360334080  ",yi="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _mt-t-space-spa1360334080 _alignItems-center ",lo=({currency:o,chainId:i=q.Mainnet,fetchedBalance:t,alignLeft:r=!1,onClick:n})=>{const{convertFiatAmountFormatted:a,formatNumberOrString:u}=we(),s=(0,v.useMemo)(()=>o?[o]:[],[o]),p=u({value:t==null?void 0:t.quantity,type:ie.TokenNonTx}),d=a(t==null?void 0:t.balanceUSD,ie.PortfolioBalance);return(0,e.jsx)(We,{onPress:n,...n?pe:{},children:(0,e.jsxs)("div",{className:yi,children:[(0,e.jsx)(so,{currencies:s,chainId:i,images:t!=null&&t.currencyInfo.logoUrl?[t.currencyInfo.logoUrl]:void 0,size:32}),(0,e.jsxs)("div",{className:Xe(""+(gi+(r?_i:fi))),children:[(0,e.jsx)("div",{className:Te,children:(0,e.jsx)(E,{variant:"body2",color:"$neutral1",children:d})}),(0,e.jsx)("div",{className:Te,children:(0,e.jsx)(E,{variant:"body2",color:"$neutral2",children:p})})]})]})})},co=({pageChainBalance:o,alignLeft:i=!1})=>{const{t}=X();if(!o)return null;const r=o.currencyInfo.currency;return(0,e.jsxs)("div",{className:xi,children:[(0,e.jsx)(E,{variant:"subheading1",color:"$neutral1",children:t("tdp.balanceSummary.title")}),(0,e.jsx)(lo,{currency:r,chainId:r.chainId,fetchedBalance:o,alignLeft:i})]})},ki=({otherChainBalances:o,hasPageChainBalance:i})=>{const{t}=X(),r=ce(),{defaultChainId:n}=So();return o.length?(0,e.jsxs)("div",{className:Te,children:[i?(0,e.jsx)(E,{variant:"body3",color:"$neutral2",children:t("tdp.balanceSummary.otherNetworks")}):(0,e.jsx)(E,{variant:"subheading1",color:"$neutral1",children:t("tdp.balanceSummary.otherNetworksBalance")}),o.map(a=>{const u=a.currencyInfo.currency,s=u.chainId||n;return(0,e.jsx)(lo,{currency:u,chainId:s,fetchedBalance:a,onClick:()=>r(eo({address:u.isToken?u.address:void 0,chain:G(s)}))},a.id)})]}):null};function bi(){var o;const i=ue(),{currencyChain:t,multiChainMap:r}=F(),n=(o=r[t])===null||o===void 0?void 0:o.balance,a=[];for(const[s,p]of Object.entries(r))s!==t&&p.balance!==void 0&&a.push(p.balance);a.sort((s,p)=>{const d=Number(s.quantity);return Number(p.quantity)-d});const u=n||!!a.length;return!i.isConnected||!u?null:(0,e.jsxs)("div",{className:hi,children:[(0,e.jsx)(co,{pageChainBalance:n}),(0,e.jsx)(ki,{otherChainBalances:a,hasPageChainBalance:!!n})]})}const uo=o=>(0,e.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"transparent",...o,children:(0,e.jsx)("path",{d:"M5.12245 9.5625C5.23495 11.8725 6.01495 14.2275 7.37245 16.32C4.19245 15.615 1.76996 12.8925 1.52246 9.5625H5.12245ZM7.37245 1.67999C4.19245 2.38499 1.76996 5.1075 1.52246 8.4375H5.12245C5.23495 6.1275 6.01495 3.77249 7.37245 1.67999ZM9.14997 1.5H8.84995L8.62496 1.82249C7.19996 3.84749 6.36745 6.1725 6.24745 8.4375H11.7525C11.6325 6.1725 10.8 3.84749 9.37496 1.82249L9.14997 1.5ZM6.24745 9.5625C6.36745 11.8275 7.19996 14.1525 8.62496 16.1775L8.84995 16.5H9.14997L9.37496 16.1775C10.8 14.1525 11.6325 11.8275 11.7525 9.5625H6.24745ZM12.8775 9.5625C12.765 11.8725 11.985 14.2275 10.6275 16.32C13.8075 15.615 16.23 12.8925 16.4775 9.5625H12.8775ZM16.4775 8.4375C16.23 5.1075 13.8075 2.38499 10.6275 1.67999C11.985 3.77249 12.765 6.1275 12.8775 8.4375H16.4775Z",fill:o.fill??"#607BEE"})}),ji="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 ",Ci=W(J,{gap:"$gap16",width:"100%",$xl:{gap:24}}),Ti=W(J,{row:!0,gap:"$gap8",width:"100%"}),$i=W(Ti,{flexWrap:"wrap"}),se=W(E,{variant:"buttonLabel3",display:"flex",flexDirection:"row",alignItems:"center",gap:"$gap4",py:"$padding8",px:"$padding12",borderRadius:"$rounded20",backgroundColor:"$surface2",width:"max-content",...pe,color:"$neutral1"}),wi=W(E,{variant:"body1",color:"$neutral1",maxWidth:"100%",maxHeight:"fit-content",...ro,whiteSpace:"pre-wrap",lineHeight:24}),Fe=W(fo,{fontWeight:"$book",variants:{visible:{true:{display:"inline"},false:{display:"none"}}}}),He=300;function Si(){var o;const{t:i}=X(),{address:t,currency:r,tokenQuery:n}=F(),{neutral1:a}=at(),{description:u,homepageUrl:s,twitterName:p}=((o=n.data)===null||o===void 0||(o=o.token)===null||o===void 0?void 0:o.project)??{},d=ae({chainId:r.chainId,data:t,type:r.isNative?Y.NATIVE:Y.TOKEN}),[f,x]=oo(),T=(0,v.useCallback)(()=>{x(t)},[t,x]),[g,k]=(0,v.useReducer)(_=>!_,!0),y=$t(u??"",He),j=!!u&&u.length>He,$=j&&g,{inputTax:A,outputTax:D}=Wt({inputTokenAddress:t,outputTokenAddress:t,tokenChainId:r.chainId}),{formatPercent:S}=we(),{sellFeeString:B,buyFeeString:h}={sellFeeString:S(A.toSignificant()),buyFeeString:S(D.toSignificant())},l=!!parseFloat(B)||!!parseFloat(D.toFixed(2)),m=B===h;return(0,e.jsxs)(Ci,{"data-testid":"token-details-info-section",children:[(0,e.jsx)(E,{variant:"heading3",children:(0,e.jsx)(N,{i18nKey:"common.info.label"})}),(0,e.jsxs)($i,{"data-testid":"token-details-info-links",children:[!r.isNative&&(0,e.jsx)(be,{disabled:!0,placement:"bottom",size:je.Max,forceShow:f,text:i("common.copied"),children:(0,e.jsxs)(se,{onPress:T,children:[(0,e.jsx)(dt,{width:"18px",height:"18px",color:a}),Ge(r.address)]})}),(0,e.jsx)(_e,{href:d,children:(0,e.jsxs)(se,{children:[(0,e.jsx)(io,{width:"18px",height:"18px",fill:a}),r.chainId===q.Mainnet?(0,e.jsx)(N,{i18nKey:"common.etherscan"}):(0,e.jsx)(N,{i18nKey:"common.explorer"})]})}),s&&(0,e.jsx)(_e,{href:s,children:(0,e.jsxs)(se,{children:[(0,e.jsx)(uo,{width:"18px",height:"18px",fill:a}),(0,e.jsx)(N,{i18nKey:"common.website"})]})}),p&&(0,e.jsx)(_e,{href:`https://x.com/${p}`,children:(0,e.jsxs)(se,{children:[(0,e.jsx)(no,{width:"18px",height:"18px",fill:a}),(0,e.jsx)(N,{i18nKey:"common.twitter"})]})})]}),(0,e.jsxs)(wi,{children:[!u&&(0,e.jsx)(xt,{children:(0,e.jsx)(N,{i18nKey:"tdp.noInfoAvailable"})}),u&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe,{"data-testid":"token-description-full",visible:!$,children:u}),(0,e.jsx)(Fe,{"data-testid":"token-description-truncated",visible:$,children:y})]}),j&&(0,e.jsx)(E,{display:"flex",color:"neutral2",fontWeight:"485",variant:"body2",pt:"0.5em",$sm:{mb:"2rem"},onPress:k,...pe,"data-testid":"token-description-show-more-button",children:g?(0,e.jsx)(N,{i18nKey:"common.showMore.button"}):(0,e.jsx)(N,{i18nKey:"common.hide.button"})})]}),l&&(0,e.jsx)(be,{placement:"left",size:je.Small,text:(0,e.jsx)(ne.Caption,{color:"neutral2",children:(0,e.jsx)(Kt,{})}),children:(0,e.jsx)("div",{className:ji,children:m?(0,e.jsxs)(ne.BodyPrimary,{children:[r.symbol," ",(0,e.jsx)(N,{i18nKey:"token.fee.label"}),": ",B]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ne.BodyPrimary,{children:[r.symbol," ",(0,e.jsx)(N,{i18nKey:"token.fee.buy.label"}),": ",h]})," ",(0,e.jsxs)(ne.BodyPrimary,{children:[r.symbol," ",(0,e.jsx)(N,{i18nKey:"token.fee.sell.label"}),": ",B]})," "]})})})]})}const Vi="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _gap-t-space-spa1360334080 _pr-t-space-spa94665593 _pl-t-space-spa94665593 _pt-10px _pb-10px _alignItems-center _cursor-pointer _borderTopLeftRadius-t-radius-ro840690002 _borderTopRightRadius-t-radius-ro840690002 _borderBottomRightRadius-t-radius-ro840690002 _borderBottomLeftRadius-t-radius-ro840690002 _backgroundColor-0hover-surface3 ",Ii="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665593 _mb-t-space-spa1360334076 ",Pi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",mo="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _alignItems-center ",Li="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap1569  _alignItems-_sm_flex-start _flexDirection-_sm_column",Mi=()=>{var o;const{address:i,currency:t,tokenQuery:r}=F(),{t:n}=X(),a=$e(),s=me().sm,[p,d]=(0,v.useState)(!1),f=t.symbol??n("tdp.symbolNotFound"),x=ae({chainId:t.chainId,data:i,type:t.isNative?Y.NATIVE:Y.TOKEN}),{homepageUrl:T,twitterName:g}=((o=r.data)===null||o===void 0||(o=o.token)===null||o===void 0?void 0:o.project)??{},k=g&&`https://x.com/${g}`,[y]=$o(),j=`${y.size>0?"&":"?"}utm_source=share-tdp&utm_medium=${s?"mobile":"web"}`,$=window.location.href+j,A=t.name&&t.symbol?`${t.name} (${t.symbol})`:t.name||t.symbol||"",[D,S]=oo(),B=(0,v.useMemo)(()=>[{title:n("common.explorer"),icon:t.chainId===q.Mainnet?(0,e.jsx)(io,{width:"18px",height:"18px",fill:a.neutral1.val}):(0,e.jsx)(mt,{width:"18px",height:"18px",fill:a.neutral1.val}),onPress:()=>window.open(x,"_blank"),show:!!x},{title:n("common.website"),icon:(0,e.jsx)(uo,{width:"18px",height:"18px",fill:a.neutral1.val}),onPress:()=>window.open(T,"_blank"),show:!!T},{title:n("common.twitter"),icon:(0,e.jsx)(no,{width:"18px",height:"18px",fill:a.neutral1.val}),onPress:()=>window.open(k,"_blank"),show:!!k},{title:n(D?"common.copied":"common.copyLink.button"),icon:D?(0,e.jsx)(ho,{size:16,p:1,color:a.statusSuccess.val}):(0,e.jsx)(Ct,{size:18,color:a.neutral1.val}),onPress:()=>S($),show:s},{title:n("common.share.shareToTwitter"),icon:(0,e.jsx)(_t,{fill:a.neutral1.val,width:18,height:18}),onPress:()=>Tt(A),show:s}],[n,t.chainId,a.neutral1.val,a.statusSuccess.val,x,T,k,D,s,S,$,A]);return(0,e.jsxs)(J,{row:!0,alignItems:"center",justifyContent:"space-between",width:"100%",mb:"$spacing20",$sm:{mb:"$spacing8",alignItems:"flex-start"},animation:"quick","data-testid":"token-info-container",children:[(0,e.jsxs)("div",{className:Li,children:[(0,e.jsx)(so,{currencies:[t],chainId:t.chainId,size:32}),(0,e.jsxs)("div",{className:mo,children:[(0,e.jsx)(E,{variant:"heading3",minWidth:40,...ro,children:t.name??n("tdp.nameNotFound")}),(0,e.jsx)(E,{variant:"heading3",textTransform:"uppercase",color:"$neutral2",$sm:{display:"none"},children:f})]})]}),s?(0,e.jsx)(Di,{mobileSheetOpen:p,toggleMobileSheet:d,HeaderActions:B}):(0,e.jsx)(Ni,{HeaderActions:B,twitterShareName:A})]})};function Di({mobileSheetOpen:o,toggleMobileSheet:i,HeaderActions:t}){const r=$e();return(0,e.jsxs)("div",{className:Pi,children:[(0,e.jsx)(We,{height:32,onPress:()=>i(!0),...to,children:(0,e.jsx)(Xt,{size:20,fill:r.neutral2.val})}),(0,e.jsx)(yo,{isOpen:o,onClose:()=>i(!1),children:(0,e.jsx)("div",{className:Ii,children:t.map(n=>n.show&&(0,e.jsxs)("div",{onClick:()=>{i(!1),n.onPress()},className:Vi,children:[n.icon,(0,e.jsx)(E,{variant:"body2",children:n.title})]},n.title))})})]})}function Ni({HeaderActions:o,twitterShareName:i}){return(0,e.jsxs)("div",{className:mo,children:[o.map(t=>t.show&&(0,e.jsx)(be,{text:t.title,placement:"top",size:je.Max,children:(0,e.jsx)(E,{onPress:t.onPress,...to,children:t.icon})},t.title)),(0,e.jsx)(gt,{name:i,utmSource:"share-tdp"})]})}function Ai({address:o,chainId:i,backupImg:t}){const r=Ze(i)?qe(i).assetRepoNetworkName??"ethereum":"ethereum",n=Ko(o);return i===q.Celo&&o===Ye(i).wrapped.address?Vo:n?`https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/${r}/assets/${n}/logo.png`:t??void 0}const Bi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",Ei=" _display-none",Oi=" _display-flex",zi=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1602  ",Ri="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _mt-t-space-spa1360333989 ",Fi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1569 ",Hi=lt(pt)`
  margin-top: 40px;
  margin-bottom: 40px;
  @media screen and (max-width: ${({theme:o})=>o.breakpoint.md}px) {
    opacity: 0;
    margin-bottom: 0;
  }
`;function Ui(){const{address:o,currency:i,currencyChain:t}=F();return(0,e.jsxs)(Ht,{"aria-label":"breadcrumb-nav",children:[(0,e.jsxs)(Ee,{to:`/explore/${t.toLowerCase()}`,children:[(0,e.jsx)(N,{i18nKey:"common.explore"})," ",(0,e.jsx)(Ae,{size:14})]}),(0,e.jsxs)(Ee,{to:`/explore/tokens/${t.toLowerCase()}`,children:[(0,e.jsx)(N,{i18nKey:"common.tokens"})," ",(0,e.jsx)(Ae,{size:14})]}),(0,e.jsx)(Ut,{address:o,currency:i})]})}function Ue(o){return o?o.isToken?o.address:le:""}function Wi(){const{currency:o}=F(),{useParsedQueryString:i}=jo(),t=i(),r=(0,v.useMemo)(()=>typeof t.inputCurrency=="string"?t.inputCurrency:o.isNative?void 0:Ie(o.chainId),[o.chainId,o.isNative,t.inputCurrency]),n=(0,v.useMemo)(()=>typeof t.outputCurrency=="string"?t.outputCurrency:o.isNative?void 0:Ie(o.chainId),[o.chainId,o.isNative,t.outputCurrency]);return{inputCurrency:ke({address:r,chainId:o.chainId}),outputCurrency:ke({address:n,chainId:o.chainId})}}function Qi(o,i){return!o||!i?!1:ye(o.inputCurrency,i)||ye(o.outputCurrency,i)}function qi(){const{address:o,currency:i,currencyChainId:t,tokenColor:r}=F(),n=ce(),a=it(Fo(i)),{inputCurrency:u,outputCurrency:s}=Wi(),p=u,d=ye(p,i)?s:i,[f,x]=(0,v.useState)({inputCurrency:p,outputCurrency:d}),T=(0,v.useCallback)((j,$)=>{const A=Ue(j.inputCurrency),D=Ue(j.outputCurrency),S=j.inputCurrency&&Ve({addressInput1:{address:A,chainId:j.inputCurrency.chainId},addressInput2:{address:o,chainId:t}})&&j.inputCurrency.chainId===t,B=j.outputCurrency&&Ve({addressInput1:{address:D,chainId:j.outputCurrency.chainId},addressInput2:{address:o,chainId:t}})&&j.outputCurrency.chainId===t;if(S||B||$){x(j);return}const h=Qi(f,j.inputCurrency)?j.outputCurrency:j.inputCurrency;if(x(j),!h)return;const l=Ai({address:h.wrapped.address,chainId:h.chainId}),m=eo({address:h.isNative?null:h.address,chain:G(Ze(h.chainId)?h.chainId:t),inputAddress:A,outputAddress:D});n(m,{state:{preloadedLogoSrc:l}})},[o,t,n,f]),[g,k]=(0,v.useState)(!1),y=(0,v.useCallback)(()=>k(!1),[]);return(0,e.jsxs)("div",{className:Fi,children:[(0,e.jsx)(Zo,{syncTabToUrl:!1,chainId:i.chainId,initialInputCurrency:p,initialOutputCurrency:d,onCurrencyChange:T,tokenColor:r}),(0,e.jsx)(Go,{currencyInfo:a,onPress:()=>k(!0)}),a&&(0,e.jsx)(Wo,{currencyInfo0:a,isInfoOnlyWarning:!0,isVisible:g,closeModalOnly:y,onAcknowledge:y})]})}function Ki({children:o}){const{address:i,currency:t}=F();return(0,e.jsx)(Lt,{logImpression:!0,page:qo.TokenDetailsPage,properties:{tokenAddress:i,tokenSymbol:t.symbol,tokenName:t.name,chainId:t.chainId},children:o})}function Zi(){var o,i;const{tokenQuery:t,currencyChain:r,multiChainMap:n}=F(),a=(o=t.data)===null||o===void 0?void 0:o.token,u=(i=n[r])===null||i===void 0?void 0:i.balance,p=!me().xl,{direction:d}=Pt(),f=bo();return(0,e.jsx)(Ki,{children:(0,e.jsxs)(bt,{children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)(Ui,{}),(0,e.jsx)(Mi,{}),(0,e.jsx)(ut,{}),!p&&!!u&&(0,e.jsx)("div",{className:Ri,children:(0,e.jsx)(co,{pageChainBalance:u,alignLeft:!0})}),(0,e.jsx)(yt,{tokenQueryData:a}),(0,e.jsx)(Hi,{}),(0,e.jsx)(vi,{})]}),(0,e.jsxs)(ft,{children:[(0,e.jsxs)("div",{className:Xe(""+(zi+(p?Oi:Ei))),children:[(0,e.jsx)(qi,{}),(0,e.jsx)(bi,{})]}),(0,e.jsx)(Si,{})]}),(0,e.jsx)(ht,{hide:f&&d===Vt.DOWN,children:(0,e.jsx)("div",{"data-testid":"tdp-mobile-bottom-bar",className:Bi,children:(0,e.jsx)(oi,{})})})]})})}function Gi({t:o,currency:i,chainId:t}){const r=i==null?void 0:i.name,n=i==null?void 0:i.symbol,a=o("common.buyAndSell");if(!r&&!n)return a;const u=t&&t!==q.Mainnet?` on ${Ke(t)}`:"";return!r&&n?`${n}${u}: ${a}`:r&&!n?`${r}${u}: ${a}`:`${r} (${n})${u}: ${a}`}const Yi=(o,i)=>{const t=o!=null&&o.name&&o.symbol?`${o.name} (${o.symbol})`:(o==null?void 0:o.name)??(o==null?void 0:o.symbol)??"tokens",r=i&&i!==q.Mainnet?` on ${Ke(i)}`:"";return`Buy, sell, and swap ${t}${r}. Real-time prices, charts, transaction data, and more.`};function Xi(o,i){return o?"Get "+o+" on Uniswap":i?"Get "+i+" on Uniswap":"View Token on Uniswap"}var Ji=de(Mt());function en({address:o,chainId:i,skip:t}){const r=ke({address:t?void 0:o,chainId:i});if(!(t||!o||r&&r.symbol===tt))return r}function on({tokenQuery:o,tokenAddress:i,currencyChainId:t,isNative:r}){var n;const{chainId:a}=ue(),u=a??q.Mainnet,s=(0,v.useMemo)(()=>{var T;if(r)return Ye(t);if(!((T=o.data)===null||T===void 0)&&T.token)return rt(o.data.token)},[r,t,(n=o.data)===null||n===void 0?void 0:n.token]),d=en({address:i,chainId:t,skip:!!s||t!==u});return{currency:s??d,currencyWasFetchedOnChain:!s}}function tn(o){var i;const t=ue(),{data:r}=Yo({address:t.address??"",skip:!t.address});return(0,v.useMemo)(()=>{var n;const a=(n=o.data)===null||n===void 0||(n=n.token)===null||n===void 0||(n=n.project)===null||n===void 0?void 0:n.tokens;return a?a.reduce((u,s)=>{u[s.chain]||(u[s.chain]={});const p=u[s.chain]??{};if(p.address=s.address,r){const d=Lo(s.chain);if(d){const f=!s.address||Uo(d,s.address)?Ro(d):zo(d,s.address);p.balance=r[f]}}return u[s.chain]=p,u},{}):{}},[r,(i=o.data)===null||i===void 0||(i=i.token)===null||i===void 0||(i=i.project)===null||i===void 0?void 0:i.tokens])}function nn(){var o,i,t;const{tokenAddress:r}=To();if(!r)throw new Error("Invalid token details route: token address URL param is undefined");const n=qe(nt()??q.Mainnet),a=r===le,u=a?Je(n.backendChain.chain):r,s=Mo({variables:{address:u,chain:n.backendChain.chain},errorPolicy:"all"}),p=wt(u,n.backendChain.chain),d=tn(s),{currency:f,currencyWasFetchedOnChain:x}=on({tokenQuery:s,tokenAddress:r,currencyChainId:n.id,isNative:a}),T=$e(),{preloadedLogoSrc:g}=Co().state??{},k=((o=s.data)===null||o===void 0||(o=o.token)===null||o===void 0||(o=o.project)===null||o===void 0?void 0:o.logoUrl)??g,y=qt({src:k,currencyName:((i=s.data)===null||i===void 0||(i=i.token)===null||i===void 0?void 0:i.name)??((t=s.data)===null||t===void 0||(t=t.token)===null||t===void 0||(t=t.project)===null||t===void 0?void 0:t.name),backgroundColor:T.surface2.val}).tokenColor??void 0;return(0,v.useMemo)(()=>({currency:f,currencyChain:n.backendChain.chain,currencyChainId:n.id,address:(f!=null&&f.isNative?le:f==null?void 0:f.address)??r,currencyWasFetchedOnChain:x,tokenQuery:s,chartState:p,multiChainMap:d,tokenColor:y}),[f,n.backendChain.chain,n.id,r,x,s,p,d,y])}function xc(){var o;const{t:i}=X(),t=nn(),{address:r,currency:n,currencyChain:a,currencyChainId:u,tokenQuery:s}=t,p=ce(),d=(o=s.data)===null||o===void 0?void 0:o.token,f=(0,v.useMemo)(()=>({title:Xi(d==null?void 0:d.symbol,d==null?void 0:d.name),image:window.location.origin+"/api/image/tokens/"+a.toLowerCase()+"/"+(n!=null&&n.isNative?Je(a):r),url:window.location.href,description:Yi(n,u)}),[r,n,a,u,d==null?void 0:d.name,d==null?void 0:d.symbol]),x=It(f);return(0,v.useEffect)(()=>{!s.loading&&!n&&p(`/explore?type=${St.Tokens}&result=${Qo.NotFound}`)},[n,s.loading,p]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ji.Helmet,{children:[(0,e.jsx)("title",{children:Gi({t:i,currency:n,chainId:u})}),x.map((T,g)=>(0,e.jsx)("meta",{...T},g))]}),s.loading||!n?(0,e.jsx)(jt,{}):(0,e.jsx)(kt,{contextValue:t,children:(0,e.jsx)(Zi,{})})]})}export{xc as default};
