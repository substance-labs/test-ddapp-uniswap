import{__toESM as v}from"./chunk-DgAfPHQg.js";import{require_react as K}from"./react-CNoFhWkx.js";import{Trans as i}from"./src-DOOtfpHS.js";import{require_jsx_runtime as B}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as V}from"./useEnabledChains-DuB86c95.js";import{CurrencyAmount as k,getChainLabel as P,init_sdk_core_esm as X}from"./utils-BX1Fu73x.js";import{SwapEventName as D}from"./features-yACC1hVw.js";import{ElementName as H}from"./element-Wnp4RkdY.js";import{QuoteMethod as W}from"./types-DbOmsKtk.js";import{nativeOnChain as N}from"./objects-DlLkJwrJ.js";import{isLimitTrade as y,isPreviewTrade as E,isUniswapXTrade as u}from"./analytics-Ccvj1WVk.js";import{sendAnalyticsEvent as O}from"./send.web-CrSXW2rw.js";import{uniswapUrls as M}from"./urls-kwiZbYPW.js";import{NumberType as l}from"./types-JuyYLR0O.js";import{useLocalizationContext as m}from"./LocalizationContext-B31peW1_.js";import{useSupportedChainId as z}from"./useSupportedChainId-DskHoisQ.js";import{v4_default as q}from"./v4-D6Rlvprs.js";import{Flex as S}from"./Loader-D83W8G1W.js";import{useMultichainContext as Y}from"./useMultichainContext-BVmgxqO2.js";import{Divider as Z,TradePrice as Q,formatTimestamp as J,useUSDPrice as $}from"./Dividers-D5mIbKhU.js";import{styled_components_default as f}from"./styled-components-DbVO3u5J.js";import{ThemedText as a}from"./text-CK4eXdYc.js";import{ExternalLink as j}from"./Links-Xomrvpth.js";import{AutoColumn as F,Column_default as ee}from"./Column-ekA0cfjc.js";import{RowBetween as te,RowFixed as oe,Row_default as C}from"./Row-D0lmZ56K.js";import{LoadingOpacityContainer as ne,LoadingRow as re}from"./styled-qLLlrMEu.js";import{MouseoverTooltip as ie,TooltipSize as h}from"./Tooltip-DPNhKWF2.js";import{DetailLineItem as se}from"./DetailLineItem-d-0mcMrN.js";var A=v(K()),e=v(B());const w=f.div`
  color: #4673fa;

  @supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
    background-image: linear-gradient(91.39deg, #4673fa -101.76%, #9646fa 101.76%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
`,R=({testId:t})=>{const n=`AutoRouterIconGradient${(0,A.useRef)(q()).current}`;return(0,e.jsxs)("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":t,children:[(0,e.jsx)("defs",{children:(0,e.jsxs)("linearGradient",{id:n,x1:"-10.1807",y1:"-12.0006",x2:"10.6573",y2:"-11.6017",gradientUnits:"userSpaceOnUse",children:[(0,e.jsx)("stop",{stopColor:"#4673FA"}),(0,e.jsx)("stop",{offset:"1",stopColor:"#9646FA"})]})}),(0,e.jsx)("path",{d:"M9.97131 6.19803C9.91798 6.07737 9.79866 6.00003 9.66666 6.00003H6.66666V1.00003C6.66666 0.862034 6.58201 0.738037 6.45267 0.688704C6.32267 0.638704 6.17799 0.674696 6.08532 0.776696L0.0853237 7.44336C-0.00267631 7.54136 -0.0253169 7.68137 0.0286831 7.80204C0.0820164 7.9227 0.20133 8.00003 0.33333 8.00003H3.33333V13C3.33333 13.138 3.41799 13.262 3.54732 13.3114C3.58665 13.326 3.62666 13.3334 3.66666 13.3334C3.75933 13.3334 3.85 13.2947 3.91467 13.2227L9.91467 6.55603C10.0027 6.4587 10.0246 6.31803 9.97131 6.19803Z",fill:`url(#${n})`})]})};function T({children:t,disableTextGradient:o,testId:n,...r}){return(0,e.jsxs)(S,{row:!0,gap:"$gap4",alignItems:"center",width:"auto",display:"inline-flex",...r,children:[(0,e.jsx)(R,{testId:n}),o?t:(0,e.jsx)(w,{children:t})]})}const ae=f(F)`
  padding: 4px;
`,d=({title:t,amount:o,itemValue:n})=>{const{convertFiatAmountFormatted:r}=m();if(!o&&!n)return null;const s=n??r(o,l.FiatGasPrice);return(0,e.jsxs)(C,{justify:"space-between",children:[(0,e.jsx)(a.SubHeaderSmall,{children:t}),(0,e.jsx)(a.SubHeaderSmall,{color:"neutral1",children:s})]})},le=()=>{const{convertFiatAmountFormatted:t}=m();return(0,e.jsx)(T,{children:t(0,l.FiatGasPrice)})};function U({trade:t}){const o=u(t),n=t.inputAmount.currency,r=N(n.chainId);if(E(t))return(0,e.jsx)(_,{native:r});const s=o?void 0:t.gasUseEstimateUSD,p=t.approveInfo.needsApprove?t.approveInfo.approveGasEstimateUSD:void 0,c=o&&t.wrapInfo.needsWrap?t.wrapInfo.wrapGasEstimateUSD:void 0,I=!!(c||p),g=o?(0,e.jsx)(G,{}):(0,e.jsx)(_,{native:r});return I?(0,e.jsxs)(ae,{gap:"md",children:[(0,e.jsxs)(F,{gap:"sm",children:[(0,e.jsx)(d,{title:(0,e.jsx)(i,{i18nKey:"swap.wrap.token",values:{sym:r.symbol}}),amount:c}),(0,e.jsx)(d,{title:(0,e.jsx)(i,{i18nKey:"swap.allow.oneTime",values:{sym:n.symbol}}),amount:p}),(0,e.jsx)(d,{title:(0,e.jsx)(i,{i18nKey:"common.swap"}),amount:s}),o&&(0,e.jsx)(d,{title:(0,e.jsx)(i,{i18nKey:"common.swap"}),itemValue:(0,e.jsx)(le,{})})]}),(0,e.jsx)(Z,{}),g]}):g}function _({native:t}){const o=z(t.chainId),{defaultChainId:n}=V(),r=P(o??n);return(0,e.jsxs)(a.LabelMicro,{children:[(0,e.jsx)(i,{i18nKey:"swap.networkCost.paidIn",values:{sym:t.symbol,chainName:r}})," ",(0,e.jsx)(j,{href:"https://support.uniswap.org/hc/en-us/articles/8370337377805-What-is-a-network-fee-",children:(0,e.jsx)(i,{i18nKey:"common.button.learn"})})]})}const ce=f(w)`
  display: inline;
`;function G(){return(0,e.jsxs)(a.Caption,{color:"neutral2",children:[(0,e.jsx)(i,{i18nKey:"uniswapX.aggregatesLiquidity",components:{logo:(0,e.jsx)(ce,{children:"UniswapX"})}})," ",(0,e.jsx)(j,{href:M.helpArticleUrls.uniswapXInfo,children:(0,e.jsx)(i,{i18nKey:"common.button.learn"})})]})}const ue=t=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...t,children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3078 1.77827C15.7064 1.39599 16.3395 1.40923 16.7217 1.80783L20.9689 6.23633C21.2428 6.47474 21.4729 6.76205 21.6459 7.08464C21.8481 7.43172 22 7.84819 22 8.32698V16.7012C22 18.2484 20.7455 19.5 19.2 19.5C17.6536 19.5 16.4 18.2464 16.4 16.7V14.3999C16.4 13.8476 15.9523 13.3999 15.4 13.3999H14V20.5C14 20.569 13.9965 20.6372 13.9897 20.7045C13.9515 21.08 13.8095 21.4249 13.5927 21.7098C13.2274 22.19 12.6499 22.5 12 22.5H4C3.30964 22.5 2.70098 22.1502 2.34157 21.6182C2.12592 21.299 2.00001 20.9142 2 20.5V5.4999C2 3.84305 3.34315 2.4999 5 2.4999H11C12.6569 2.4999 14 3.84305 14 5.4999V11.3999H15.4C17.0569 11.3999 18.4 12.7431 18.4 14.3999V16.7C18.4 17.1418 18.7582 17.5 19.2 17.5C19.6427 17.5 20 17.1422 20 16.7012V11.3292C19.6872 11.4397 19.3506 11.4999 19 11.4999C17.3431 11.4999 16 10.1568 16 8.4999C16 7.28851 16.718 6.24482 17.7517 5.77117L15.2783 3.19217C14.896 2.79357 14.9092 2.16055 15.3078 1.77827ZM19.6098 7.70731C19.441 7.57725 19.2296 7.4999 19 7.4999C18.4477 7.4999 18 7.94762 18 8.4999C18 9.05219 18.4477 9.4999 19 9.4999C19.5523 9.4999 20 9.05219 20 8.4999C20 8.34084 19.9629 8.19045 19.8968 8.05693C19.8303 7.95164 19.7349 7.83559 19.6098 7.70731ZM5.21572 4.72463C4.66343 4.72463 4.21572 5.17235 4.21572 5.72463V9.72463C4.21572 10.2769 4.66343 10.7246 5.21572 10.7246H10.7157C11.268 10.7246 11.7157 10.2769 11.7157 9.72463V5.72463C11.7157 5.17235 11.268 4.72463 10.7157 4.72463H5.21572Z",fill:"currentColor"})}),me=f(ue)`
  height: 16px;
  width: 16px;
  // We apply the following to all children of the SVG in order to override the default color
  & > * {
    fill: ${({theme:t})=>t.neutral3};
  }
`;function pe({trade:t,loading:o}){const{chainId:n}=Y(),{convertFiatAmountFormatted:r}=m();return!t||!n?null:(0,e.jsx)(ie,{size:h.Small,text:(0,e.jsx)(U,{trade:t}),onOpen:()=>{O(D.SwapAutorouterVisualizationExpanded,{element:H.AutorouterVisualizationRow})},placement:"right",children:(0,e.jsx)(ne,{$loading:o,children:(0,e.jsxs)(oe,{gap:"xs",children:[u(t)?(0,e.jsx)(R,{testId:"gas-estimate-uniswapx-icon"}):(0,e.jsx)(me,{}),(0,e.jsx)(a.BodySmall,{color:"neutral2",children:(0,e.jsxs)(C,{gap:"sm",children:[u(t)?(0,e.jsx)(w,{children:r(t.totalGasUseEstimateUSD,l.FiatGasPrice)}):(0,e.jsx)(e.Fragment,{children:r(t.totalGasUseEstimateUSD,l.FiatGasPrice)}),u(t)&&(t.classicGasUseEstimateUSD??0)>0&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("s",{children:r(t.classicGasUseEstimateUSD,l.FiatGasPrice)})})]})})]})})})}function de({trade:t,color:o}){return u(t)?(0,e.jsx)(T,{children:(0,e.jsx)(a.BodySmall,{children:"Uniswap X"})}):t.quoteMethod===W.CLIENT_SIDE_FALLBACK?(0,e.jsx)(a.BodySmall,{color:o,children:"Uniswap Client"}):(0,e.jsx)(a.BodySmall,{color:o,children:"Uniswap API"})}const xe="  is_Separator _display-flex _alignItems-stretch _flexDirection-column _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _flexShrink-1 _borderTopWidth-0px _borderRightWidth-0px _borderBottomWidth-1px _borderLeftWidth-0px _flexGrow-1 _height-0px _maxHeight-0px _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid ";function fe({trade:t}){return(0,e.jsxs)(te,{children:[(0,e.jsx)(a.BodySmall,{color:"neutral2",children:(0,e.jsx)(i,{i18nKey:"swap.orderRouting"})}),(0,e.jsx)(de,{trade:t,color:"neutral1"})]})}function he({trade:t}){return(0,e.jsxs)(ee,{gap:"md",children:[(0,e.jsx)(fe,{trade:t}),(0,e.jsx)("div",{className:xe}),(0,e.jsx)(G,{})]})}X();let x=(function(t){return t[t.EXCHANGE_RATE=0]="EXCHANGE_RATE",t[t.NETWORK_COST=1]="NETWORK_COST",t[t.SWAP_FEE=6]="SWAP_FEE",t[t.EXPIRY=9]="EXPIRY",t})({});function L({children:t,url:o}){return(0,e.jsxs)(e.Fragment,{children:[t,(0,e.jsx)("br",{}),(0,e.jsx)(j,{href:o,children:(0,e.jsx)(i,{i18nKey:"common.button.learn"})})]})}function Ze(){return(0,e.jsx)(L,{url:"https://support.uniswap.org/hc/en-us/articles/18673568523789-What-is-a-token-fee-",children:(0,e.jsx)(i,{i18nKey:"swap.tokenOwnFees"})})}function je({hasFee:t}){const o=t?(0,e.jsx)(i,{i18nKey:"swap.fees.experience"}):(0,e.jsx)(i,{i18nKey:"swap.fees.noFee"});return(0,e.jsx)(L,{url:"https://support.uniswap.org/hc/en-us/articles/20131678274957",children:o})}function b({width:t=50}){return(0,e.jsx)(re,{"data-testid":"loading-row",height:15,width:t})}function Ce({amount:t}){const{formatCurrencyAmount:o}=m(),n=o({value:t,type:l.SwapTradeAmount});return(0,e.jsx)(e.Fragment,{children:`${n} ${t.currency.symbol}`})}function we({trade:{swapFee:t,outputAmount:o}}){const{convertFiatAmountFormatted:n}=m(),r=k.fromRawAmount(o.currency,(t==null?void 0:t.amount)??0),{data:s}=$(r,r.currency);return s===void 0?(0,e.jsx)(Ce,{amount:r}):(0,e.jsx)(e.Fragment,{children:n(s,l.FiatGasPrice)})}function ge(t){const{trade:o,syncing:n,type:r}=t,{formatPercent:s}=m(),p=u(o),c=E(o);switch(r){case x.EXCHANGE_RATE:return{Label:()=>y(o)?(0,e.jsx)(i,{i18nKey:"limits.price.label"}):(0,e.jsx)(i,{i18nKey:"common.rate"}),Value:()=>(0,e.jsx)(Q,{price:o.executionPrice}),TooltipBody:c?void 0:()=>(0,e.jsx)(he,{trade:o}),tooltipSize:p?h.Small:h.Large};case x.NETWORK_COST:return{Label:()=>(0,e.jsx)(i,{i18nKey:"common.networkCost"}),TooltipBody:()=>(0,e.jsx)(U,{trade:o}),Value:()=>c?(0,e.jsx)(b,{}):(0,e.jsx)(pe,{trade:o,loading:!!n})};case x.SWAP_FEE:return c?{Label:()=>(0,e.jsx)(i,{i18nKey:"common.fee"}),Value:()=>(0,e.jsx)(b,{})}:{Label:()=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i,{i18nKey:"common.fee"})," ",o.swapFee&&`(${s(o.swapFee.percent.toSignificant())})`]}),TooltipBody:()=>(0,e.jsx)(je,{hasFee:!!o.swapFee}),Value:()=>(0,e.jsx)(we,{trade:o})};case x.EXPIRY:return y(o)?{Label:()=>(0,e.jsx)(i,{i18nKey:"common.expiry"}),Value:()=>(0,e.jsx)(C,{children:J({timestamp:o.deadline,includeYear:!0})})}:void 0}}function ye(t){const{visible:o=!0,animationDelay:n,syncing:r}=t,s=ge(t);return s?(0,e.jsx)(S,{opacity:o?1:0,animation:{opacity:{type:"quick",delay:n}},children:(0,e.jsx)(se,{LineItem:s,syncing:r})}):null}var Qe=A.memo(ye);export{Ze as FOTTooltipContent,x as SwapLineItemType,Qe as SwapLineItem_default};
