import{init_dist as Ne,process$1 as Ie}from"./dist-QCpUvRkJ.js";function d(e,t){if(!e)throw new Error(t)}const Te=34028234663852886e22,Ee=-34028234663852886e22,Fe=4294967295,Oe=2147483647,Se=-2147483648;function D(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>Oe||e<Se)throw new Error("invalid int 32: "+e)}function R(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>Fe||e<0)throw new Error("invalid uint 32: "+e)}function ne(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>Te||e<Ee))throw new Error("invalid float 32: "+e)}const re=Symbol("@bufbuild/protobuf/enum-type");function Be(e){const t=e[re];return d(t,"missing enum type on enum object"),t}function se(e,t,n,s){e[re]=ie(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})),s)}function ie(e,t,n){const s=Object.create(null),r=Object.create(null),i=[];for(const o of t){const a=oe(o);i.push(a),s[o.name]=a,r[o.no]=a}return{typeName:e,values:i,findName(o){return s[o]},findNumber(o){return r[o]}}}function Ue(e,t,n){const s={};for(const r of t){const i=oe(r);s[i.localName]=i.no,s[i.no]=i.localName}return se(s,e,t,n),s}function oe(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var ae=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType(),s=n.runtime.bin,r=s.makeReadOptions(t);return s.readMessage(this,r.readerFactory(e),e.byteLength,r),this}fromJson(e,t){const n=this.getType(),s=n.runtime.json,r=s.makeReadOptions(t);return s.readMessage(n,e,r,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(s){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${s instanceof Error?s.message:String(s)}`)}return this.fromJson(n,t)}toBinary(e){const t=this.getType(),n=t.runtime.bin,s=n.makeWriteOptions(e),r=s.writerFactory();return n.writeMessage(this,r,s),r.finish()}toJson(e){const t=this.getType(),n=t.runtime.json,s=n.makeWriteOptions(e);return n.writeMessage(this,s)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,(t=e==null?void 0:e.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function De(e,t,n,s){var r;const i=(r=s==null?void 0:s.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),o={[i]:function(a){e.util.initFields(this),e.util.initPartial(a,this)}}[i];return Object.setPrototypeOf(o.prototype,new ae),Object.assign(o,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(a,u){return new o().fromBinary(a,u)},fromJson(a,u){return new o().fromJson(a,u)},fromJsonString(a,u){return new o().fromJsonString(a,u)},equals(a,u){return e.util.equals(o,a,u)}}),o}function Ae(){let e=0,t=0;for(let s=0;s<28;s+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<s,(r&128)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,(n&128)==0)return this.assertBounds(),[e,t];for(let s=3;s<=31;s+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<s,(r&128)==0)return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function _(e,t,n){for(let i=0;i<28;i=i+7){const o=e>>>i,a=!(!(o>>>7)&&t==0),u=(a?o|128:o)&255;if(n.push(u),!a)return}const s=e>>>28&15|(t&7)<<4,r=t>>3!=0;if(n.push((r?s|128:s)&255),!!r){for(let i=3;i<31;i=i+7){const o=t>>>i,a=!!(o>>>7),u=(a?o|128:o)&255;if(n.push(u),!a)return}n.push(t>>>31&1)}}const A=4294967296;function $(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let s=0,r=0;function i(o,a){const u=Number(e.slice(o,a));r*=n,s=s*n+u,s>=A&&(r=r+(s/A|0),s=s%A)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?ue(s,r):P(s,r)}function Le(e,t){let n=P(e,t);const s=n.hi&2147483648;s&&(n=ue(n.lo,n.hi));const r=ce(n.lo,n.hi);return s?"-"+r:r}function ce(e,t){if({lo:e,hi:t}=Ve(e,t),t<=2097151)return String(A*t+e);const n=e&16777215,s=(e>>>24|t<<8)&16777215,r=t>>16&65535;let i=n+s*6777216+r*6710656,o=s+r*8147497,a=r*2;const u=1e7;return i>=u&&(o+=Math.floor(i/u),i%=u),o>=u&&(a+=Math.floor(o/u),o%=u),a.toString()+q(o)+q(i)}function Ve(e,t){return{lo:e>>>0,hi:t>>>0}}function P(e,t){return{lo:e|0,hi:t|0}}function ue(e,t){return t=~t,e?e=~e+1:t+=1,P(e,t)}const q=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Y(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function ve(){let e=this.buf[this.pos++],t=e&127;if((e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,(e&128)==0)return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;(e&128)!==0&&n<10;n++)e=this.buf[this.pos++];if((e&128)!=0)throw new Error("invalid varint");return this.assertBounds(),t>>>0}Ne();function Je(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof Ie!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const l=typeof u=="bigint"?u:BigInt(u);if(l>i||l<r)throw new Error(`int64 invalid: ${u}`);return l},uParse(u){const l=typeof u=="bigint"?u:BigInt(u);if(l>a||l<o)throw new Error(`uint64 invalid: ${u}`);return l},enc(u){return e.setBigInt64(0,this.parse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(u){return e.setBigInt64(0,this.uParse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(u,l){return e.setInt32(0,u,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)},uDec(u,l){return e.setInt32(0,u,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0)}}}const n=r=>d(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),s=r=>d(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),s(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),$(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),s(r),$(r)},dec(r,i){return Le(r,i)},uDec(r,i){return ce(r,i)}}}const p=Je();var c;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(c||(c={}));var y;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(y||(y={}));function k(e,t,n){if(t===n)return!0;if(e==c.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==n[s])return!1;return!0}switch(e){case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:return t==n}return!1}function E(e,t){switch(e){case c.BOOL:return!1;case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:return t==0?p.zero:"0";case c.DOUBLE:case c.FLOAT:return 0;case c.BYTES:return new Uint8Array(0);case c.STRING:return"";default:return 0}}function fe(e,t){switch(e){case c.BOOL:return t===!1;case c.STRING:return t==="";case c.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var b;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(b||(b={}));var Me=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let t=new Uint8Array(e),n=0;for(let s=0;s<this.chunks.length;s++)t.set(this.chunks[s],n),n+=this.chunks[s].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(R(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return D(e),Y(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){ne(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){R(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){D(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return D(e),e=(e<<1^e>>31)>>>0,Y(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),s=p.enc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),s=p.uEnc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(t)}int64(e){let t=p.enc(e);return _(t.lo,t.hi,this.buf),this}sint64(e){let t=p.enc(e),n=t.hi>>31,s=t.lo<<1^n,r=(t.hi<<1|t.lo>>>31)^n;return _(s,r,this.buf),this}uint64(e){let t=p.uEnc(e);return _(t.lo,t.hi,this.buf),this}},Xe=class{constructor(e,t){this.varint64=Ae,this.uint32=ve,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=e&7;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case b.Varint:for(;this.buf[this.pos++]&128;);break;case b.Bit64:this.pos+=4;case b.Bit32:this.pos+=4;break;case b.LengthDelimited:let s=this.uint32();this.pos+=s;break;case b.StartGroup:for(;;){const[r,i]=this.tag();if(i===b.EndGroup){if(t!==void 0&&r!==t)throw new Error("invalid end group tag");break}this.skip(i,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return p.dec(...this.varint64())}uint64(){return p.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(e&1);return e=(e>>>1|(t&1)<<31)^n,t=t>>>1^n,p.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return p.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return p.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};function _e(e,t,n,s){let r;return{typeName:t,extendee:n,get field(){if(!r){const i=typeof s=="function"?s():s;i.name=t.split(".").pop(),i.jsonName=`[${t}]`,r=e.util.newFieldList([i]).list()[0]}return r},runtime:e}}function le(e){const t=e.field.localName,n=Object.create(null);return n[t]=Ge(e),[n,()=>n[t]]}function Ge(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return E(t.T,t.L);case"message":const n=t.T,s=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(s):s;case"map":throw"map fields are not allowed to be extensions"}}function xe(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),X=[];for(let e=0;e<g.length;e++)X[g[e].charCodeAt(0)]=e;X[45]=g.indexOf("+");X[95]=g.indexOf("/");const he={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),s=0,r=0,i,o=0;for(let a=0;a<e.length;a++){if(i=X[e.charCodeAt(a)],i===void 0)switch(e[a]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:o=i,r=1;break;case 1:n[s++]=o<<2|(i&48)>>4,o=i,r=2;break;case 2:n[s++]=(o&15)<<4|(i&60)>>2,o=i,r=3;break;case 3:n[s++]=(o&3)<<6|i,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,s)},enc(e){let t="",n=0,s,r=0;for(let i=0;i<e.length;i++)switch(s=e[i],n){case 0:t+=g[s>>2],r=(s&3)<<4,n=1;break;case 1:t+=g[r|s>>4],r=(s&15)<<2,n=2;break;case 2:t+=g[r|s>>6],t+=g[s&63],n=0;break}return n&&(t+=g[r],t+="=",n==1&&(t+="=")),t}};function Re(e,t,n){de(t,e);const s=t.runtime.bin.makeReadOptions(n),r=xe(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,o]=le(t);for(const a of r)t.runtime.bin.readField(i,s.readerFactory(a.data),t.field,a.wireType,s);return o()}function Pe(e,t,n,s){de(t,e);const r=t.runtime.bin.makeReadOptions(s),i=t.runtime.bin.makeWriteOptions(s);if(me(e,t)){const l=e.getType().runtime.bin.listUnknownFields(e).filter(f=>f.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const f of l)e.getType().runtime.bin.onUnknownField(e,f.no,f.wireType,f.data)}const o=i.writerFactory();let a=t.field;!a.opt&&!a.repeated&&(a.kind=="enum"||a.kind=="scalar")&&(a=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(a,n,o,i);const u=r.readerFactory(o.finish());for(;u.pos<u.len;){const[l,f]=u.tag(),h=u.skip(f,l);e.getType().runtime.bin.onUnknownField(e,l,f,h)}}function me(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(s=>s.no==t.field.no)}function de(e,t){d(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function be(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!fe(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function W(e,t){const n=e.localName,s=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=s?e.T.values[0].no:void 0;break;case"scalar":t[n]=s?E(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function I(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(ae.prototype).every(s=>s in e&&typeof e[s]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function pe(e,t){return I(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}const mt={"google.protobuf.DoubleValue":c.DOUBLE,"google.protobuf.FloatValue":c.FLOAT,"google.protobuf.Int64Value":c.INT64,"google.protobuf.UInt64Value":c.UINT64,"google.protobuf.Int32Value":c.INT32,"google.protobuf.UInt32Value":c.UINT32,"google.protobuf.BoolValue":c.BOOL,"google.protobuf.StringValue":c.STRING,"google.protobuf.BytesValue":c.BYTES},j={ignoreUnknownFields:!1},K={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function $e(e){return e?Object.assign(Object.assign({},j),e):j}function qe(e){return e?Object.assign(Object.assign({},K),e):K}const J=Symbol(),L=Symbol();function Ye(){return{makeReadOptions:$e,makeWriteOptions:qe,readMessage(e,t,n,s){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${w(t)}`);s=s??new e;const r=new Map,i=n.typeRegistry;for(const[o,a]of Object.entries(t)){const u=e.fields.findJsonName(o);if(u){if(u.oneof){if(a===null&&u.kind=="scalar")continue;const l=r.get(u.oneof);if(l!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${u.oneof.name}" present: "${l}", "${o}"`);r.set(u.oneof,o)}C(s,a,u,n,e)}else{let l=!1;if(i!=null&&i.findExtension&&o.startsWith("[")&&o.endsWith("]")){const f=i.findExtension(o.substring(1,o.length-1));if(f&&f.extendee.typeName==e.typeName){l=!0;const[h,m]=le(f);C(h,a,f.field,n,f),Pe(s,f,m(),n)}}if(!l&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${o}" is unknown`)}}return s},writeMessage(e,t){const n=e.getType(),s={};let r;try{for(r of n.fields.byNumber()){if(!be(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!je(r))continue}const o=r.oneof?e[r.oneof.localName].value:e[r.localName],a=z(r,o,t);a!==void 0&&(s[t.useProtoFieldName?r.name:r.jsonName]=a)}const i=t.typeRegistry;if(i!=null&&i.findExtensionFor)for(const o of n.runtime.bin.listUnknownFields(e)){const a=i.findExtensionFor(n.typeName,o.no);if(a&&me(e,a)){const u=Re(e,a,t),l=z(a.field,u,t);l!==void 0&&(s[a.field.jsonName]=l)}}}catch(i){const o=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,a=i instanceof Error?i.message:String(i);throw new Error(o+(a.length>0?`: ${a}`:""))}return s},readScalar(e,t,n){return S(e,t,n??y.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||fe(e,t)))return V(e,t)},debug:w}}function w(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function C(e,t,n,s,r){let i=n.localName;if(n.repeated){if(d(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${w(t)}`);const o=e[i];for(const a of t){if(a===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${w(a)}`);switch(n.kind){case"message":o.push(n.T.fromJson(a,s));break;case"enum":const u=G(n.T,a,s.ignoreUnknownFields,!0);u!==L&&o.push(u);break;case"scalar":try{o.push(S(n.T,a,n.L,!0))}catch(l){let f=`cannot decode field ${r.typeName}.${n.name} from JSON: ${w(a)}`;throw l instanceof Error&&l.message.length>0&&(f+=`: ${l.message}`),new Error(f)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${w(t)}`);const o=e[i];for(const[a,u]of Object.entries(t)){if(u===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let l;try{l=We(n.K,a)}catch(f){let h=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${w(t)}`;throw f instanceof Error&&f.message.length>0&&(h+=`: ${f.message}`),new Error(h)}switch(n.V.kind){case"message":o[l]=n.V.T.fromJson(u,s);break;case"enum":const f=G(n.V.T,u,s.ignoreUnknownFields,!0);f!==L&&(o[l]=f);break;case"scalar":try{o[l]=S(n.V.T,u,y.BIGINT,!0)}catch(h){let m=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${w(t)}`;throw h instanceof Error&&h.message.length>0&&(m+=`: ${h.message}`),new Error(m)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:i},i="value"),n.kind){case"message":const o=n.T;if(t===null&&o.typeName!="google.protobuf.Value")return;let a=e[i];I(a)?a.fromJson(t,s):(e[i]=a=o.fromJson(t,s),o.fieldWrapper&&!n.oneof&&(e[i]=o.fieldWrapper.unwrapField(a)));break;case"enum":const u=G(n.T,t,s.ignoreUnknownFields,!1);switch(u){case J:W(n,e);break;case L:break;default:e[i]=u;break}break;case"scalar":try{const l=S(n.T,t,n.L,!1);switch(l){case J:W(n,e);break;default:e[i]=l;break}}catch(l){let f=`cannot decode field ${r.typeName}.${n.name} from JSON: ${w(t)}`;throw l instanceof Error&&l.message.length>0&&(f+=`: ${l.message}`),new Error(f)}break}}function We(e,t){if(e===c.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return S(e,t,y.BIGINT,!0).toString()}function S(e,t,n,s){if(t===null)return s?E(e,n):J;switch(e){case c.DOUBLE:case c.FLOAT:if(t==="NaN")return NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==c.FLOAT&&ne(r),r;case c.INT32:case c.FIXED32:case c.SFIXED32:case c.SINT32:case c.UINT32:let i;if(typeof t=="number"?i=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(i=Number(t)),i===void 0)break;return e==c.UINT32||e==c.FIXED32?R(i):D(i),i;case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof t!="number"&&typeof t!="string")break;const o=p.parse(t);return n?o.toString():o;case c.FIXED64:case c.UINT64:if(typeof t!="number"&&typeof t!="string")break;const a=p.uParse(t);return n?a.toString():a;case c.BOOL:if(typeof t!="boolean")break;return t;case c.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case c.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return he.dec(t)}throw new Error}function G(e,t,n,s){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:s?e.values[0].no:J;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return L;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${w(t)}`)}function je(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function z(e,t,n){if(e.kind=="map"){d(typeof t=="object"&&t!=null);const s={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[o,a]of r)s[o.toString()]=V(e.V.T,a);break;case"message":for(const[o,a]of r)s[o.toString()]=a.toJson(n);break;case"enum":const i=e.V.T;for(const[o,a]of r)s[o.toString()]=x(i,a,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?s:void 0}if(e.repeated){d(Array.isArray(t));const s=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)s.push(V(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)s.push(x(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)s.push(t[r].toJson(n));break}return n.emitDefaultValues||s.length>0?s:void 0}switch(e.kind){case"scalar":return V(e.T,t);case"enum":return x(e.T,t,n.enumAsInteger);case"message":return pe(e.T,t).toJson(n)}}function x(e,t,n){var s;if(d(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(s=r==null?void 0:r.name)!==null&&s!==void 0?s:t}function V(e,t){switch(e){case c.INT32:case c.SFIXED32:case c.SINT32:case c.FIXED32:case c.UINT32:return d(typeof t=="number"),t;case c.FLOAT:case c.DOUBLE:return d(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case c.STRING:return d(typeof t=="string"),t;case c.BOOL:return d(typeof t=="boolean"),t;case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:return d(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case c.BYTES:return d(t instanceof Uint8Array),he.enc(t)}}const T=Symbol("@bufbuild/protobuf/unknown-fields"),Z={readUnknownFields:!0,readerFactory:e=>new Xe(e)},H={writeUnknownFields:!0,writerFactory:()=>new Me};function Ke(e){return e?Object.assign(Object.assign({},Z),e):Z}function Ce(e){return e?Object.assign(Object.assign({},H),e):H}function ze(){return{makeReadOptions:Ke,makeWriteOptions:Ce,listUnknownFields(e){var t;return(t=e[T])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[T]},writeUnknownFields(e,t){const s=e[T];if(s)for(const r of s)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,s){const r=e;Array.isArray(r[T])||(r[T]=[]),r[T].push({no:t,wireType:n,data:s})},readMessage(e,t,n,s,r){const i=e.getType(),o=r?t.len:t.pos+n;let a,u;for(;t.pos<o&&([a,u]=t.tag(),!(r===!0&&u==b.EndGroup));){const l=i.fields.find(a);if(!l){const f=t.skip(u,a);s.readUnknownFields&&this.onUnknownField(e,a,u,f);continue}Q(e,t,l,u,s)}if(r&&(u!=b.EndGroup||a!==n))throw new Error("invalid end group tag")},readField:Q,writeMessage(e,t,n){const s=e.getType();for(const r of s.fields.byNumber()){if(!be(r,e)){if(r.req)throw new Error(`cannot encode field ${s.typeName}.${r.name} to binary: required field not set`);continue}const i=r.oneof?e[r.oneof.localName].value:e[r.localName];ee(r,i,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,s){t!==void 0&&ee(e,t,n,s)}}}function Q(e,t,n,s,r){let{repeated:i,localName:o}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=o&&delete e.value,e.case=o,o="value"),n.kind){case"scalar":case"enum":const a=n.kind=="enum"?c.INT32:n.T;let u=M;if(n.kind=="scalar"&&n.L>0&&(u=He),i){let m=e[o];if(s==b.LengthDelimited&&a!=c.STRING&&a!=c.BYTES){let N=t.uint32()+t.pos;for(;t.pos<N;)m.push(u(t,a))}else m.push(u(t,a))}else e[o]=u(t,a);break;case"message":const l=n.T;i?e[o].push(v(t,new l,r,n)):I(e[o])?v(t,e[o],r,n):(e[o]=v(t,new l,r,n),l.fieldWrapper&&!n.oneof&&!n.repeated&&(e[o]=l.fieldWrapper.unwrapField(e[o])));break;case"map":let[f,h]=Ze(n,t,r);e[o][f]=h;break}}function v(e,t,n,s){const r=t.getType().runtime.bin,i=s==null?void 0:s.delimited;return r.readMessage(t,e,i?s.no:e.uint32(),n,i),t}function Ze(e,t,n){const s=t.uint32(),r=t.pos+s;let i,o;for(;t.pos<r;){const[a]=t.tag();switch(a){case 1:i=M(t,e.K);break;case 2:switch(e.V.kind){case"scalar":o=M(t,e.V.T);break;case"enum":o=t.int32();break;case"message":o=v(t,new e.V.T,n,void 0);break}break}}if(i===void 0&&(i=E(e.K,y.BIGINT)),typeof i!="string"&&typeof i!="number"&&(i=i.toString()),o===void 0)switch(e.V.kind){case"scalar":o=E(e.V.T,y.BIGINT);break;case"enum":o=e.V.T.values[0].no;break;case"message":o=new e.V.T;break}return[i,o]}function He(e,t){const n=M(e,t);return typeof n=="bigint"?n.toString():n}function M(e,t){switch(t){case c.STRING:return e.string();case c.BOOL:return e.bool();case c.DOUBLE:return e.double();case c.FLOAT:return e.float();case c.INT32:return e.int32();case c.INT64:return e.int64();case c.UINT64:return e.uint64();case c.FIXED64:return e.fixed64();case c.BYTES:return e.bytes();case c.FIXED32:return e.fixed32();case c.SFIXED32:return e.sfixed32();case c.SFIXED64:return e.sfixed64();case c.SINT64:return e.sint64();case c.UINT32:return e.uint32();case c.SINT32:return e.sint32()}}function ee(e,t,n,s){d(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let i=e.kind=="enum"?c.INT32:e.T;if(r)if(d(Array.isArray(t)),e.packed)et(n,i,e.no,t);else for(const o of t)B(n,i,e.no,o);else B(n,i,e.no,t);break;case"message":if(r){d(Array.isArray(t));for(const o of t)te(n,s,e,o)}else te(n,s,e,t);break;case"map":d(typeof t=="object"&&t!=null);for(const[o,a]of Object.entries(t))Qe(n,s,e,o,a);break}}function Qe(e,t,n,s,r){e.tag(n.no,b.LengthDelimited),e.fork();let i=s;switch(n.K){case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:i=Number.parseInt(s);break;case c.BOOL:d(s=="true"||s=="false"),i=s=="true";break}switch(B(e,n.K,1,i),n.V.kind){case"scalar":B(e,n.V.T,2,r);break;case"enum":B(e,c.INT32,2,r);break;case"message":d(r!==void 0),e.tag(2,b.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function te(e,t,n,s){const r=pe(n.T,s);n.delimited?e.tag(n.no,b.StartGroup).raw(r.toBinary(t)).tag(n.no,b.EndGroup):e.tag(n.no,b.LengthDelimited).bytes(r.toBinary(t))}function B(e,t,n,s){d(s!==void 0);let[r,i]=we(t);e.tag(n,r)[i](s)}function et(e,t,n,s){if(!s.length)return;e.tag(n,b.LengthDelimited).fork();let[,r]=we(t);for(let i=0;i<s.length;i++)e[r](s[i]);e.join()}function we(e){let t=b.Varint;switch(e){case c.BYTES:case c.STRING:t=b.LengthDelimited;break;case c.DOUBLE:case c.FIXED64:case c.SFIXED64:t=b.Bit64;break;case c.FIXED32:case c.SFIXED32:case c.FLOAT:t=b.Bit32;break}const n=c[e].toLowerCase();return[t,n]}function tt(){return{setEnumType:se,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const s of n.fields.byMember()){const r=s.localName,i=t,o=e;if(o[r]!=null)switch(s.kind){case"oneof":const a=o[r].case;if(a===void 0)continue;const u=s.findField(a);let l=o[r].value;u&&u.kind=="message"&&!I(l,u.T)?l=new u.T(l):u&&u.kind==="scalar"&&u.T===c.BYTES&&(l=O(l)),i[r]={case:a,value:l};break;case"scalar":case"enum":let f=o[r];s.T===c.BYTES&&(f=s.repeated?f.map(O):O(f)),i[r]=f;break;case"map":switch(s.V.kind){case"scalar":case"enum":if(s.V.T===c.BYTES)for(const[F,N]of Object.entries(o[r]))i[r][F]=O(N);else Object.assign(i[r],o[r]);break;case"message":const m=s.V.T;for(const F of Object.keys(o[r])){let N=o[r][F];m.fieldWrapper||(N=new m(N)),i[r][F]=N}break}break;case"message":const h=s.T;if(s.repeated)i[r]=o[r].map(m=>I(m,h)?m:new h(m));else{const m=o[r];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?i[r]=O(m):i[r]=m:i[r]=I(m,h)?m:new h(m)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(s=>{const r=t[s.localName],i=n[s.localName];if(s.repeated){if(r.length!==i.length)return!1;switch(s.kind){case"message":return r.every((o,a)=>s.T.equals(o,i[a]));case"scalar":return r.every((o,a)=>k(s.T,o,i[a]));case"enum":return r.every((o,a)=>k(c.INT32,o,i[a]))}throw new Error(`repeated cannot contain ${s.kind}`)}switch(s.kind){case"message":return s.T.equals(r,i);case"enum":return k(c.INT32,r,i);case"scalar":return k(s.T,r,i);case"oneof":if(r.case!==i.case)return!1;const o=s.findField(r.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(r.value,i.value);case"enum":return k(c.INT32,r.value,i.value);case"scalar":return k(o.T,r.value,i.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":const a=Object.keys(r).concat(Object.keys(i));switch(s.V.kind){case"message":const u=s.V.T;return a.every(f=>u.equals(r[f],i[f]));case"enum":return a.every(f=>k(c.INT32,r[f],i[f]));case"scalar":const l=s.V.T;return a.every(f=>k(l,r[f],i[f]))}break}})},clone(e){const t=e.getType(),n=new t,s=n;for(const r of t.fields.byMember()){const i=e[r.localName];let o;if(r.repeated)o=i.map(U);else if(r.kind=="map"){o=s[r.localName];for(const[a,u]of Object.entries(i))o[a]=U(u)}else r.kind=="oneof"?o=r.findField(i.case)?{case:i.case,value:U(i.value)}:{case:void 0}:o=U(i);s[r.localName]=o}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(s,r.no,r.wireType,r.data);return n}}}function U(e){if(e===void 0)return e;if(I(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function O(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function nt(e,t,n){return{syntax:e,json:Ye(),bin:ze(),util:Object.assign(Object.assign({},tt()),{newFieldList:t,initFields:n}),makeMessageType(s,r,i){return De(this,s,r,i)},makeEnum:Ue,makeEnumType:ie,getEnumType:Be,makeExtension(s,r,i){return _e(this,s,r,i)}}}var rt=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const t={};for(const n of this.list())t[n.jsonName]=t[n.name]=n;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){const t={};for(const n of this.list())t[n.no]=n;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}};function ge(e,t){const n=ke(e);return t?n:ut(ct(n))}function st(e){return ge(e,!1)}const it=ke;function ke(e){let t=!1;const n=[];for(let s=0;s<e.length;s++){let r=e.charAt(s);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const ot=new Set(["constructor","toString","toJSON","valueOf"]),at=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),ye=e=>`${e}$`,ct=e=>at.has(e)?ye(e):e,ut=e=>ot.has(e)?ye(e):e;var ft=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=st(e)}addField(e){d(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};function lt(e,t){var n,s,r,i,o,a;const u=[];let l;for(const f of typeof e=="function"?e():e){const h=f;if(h.localName=ge(f.name,f.oneof!==void 0),h.jsonName=(n=f.jsonName)!==null&&n!==void 0?n:it(f.name),h.repeated=(s=f.repeated)!==null&&s!==void 0?s:!1,f.kind=="scalar"&&(h.L=(r=f.L)!==null&&r!==void 0?r:y.BIGINT),h.delimited=(i=f.delimited)!==null&&i!==void 0?i:!1,h.req=(o=f.req)!==null&&o!==void 0?o:!1,h.opt=(a=f.opt)!==null&&a!==void 0?a:!1,f.packed===void 0&&(t?h.packed=f.kind=="enum"||f.kind=="scalar"&&f.T!=c.BYTES&&f.T!=c.STRING:h.packed=!1),f.oneof!==void 0){const m=typeof f.oneof=="string"?f.oneof:f.oneof.name;(!l||l.name!=m)&&(l=new ft(m)),h.oneof=l,l.addField(h)}u.push(h)}return u}const dt=nt("proto3",e=>new rt(e,t=>lt(t,!0)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,s=e;if(t.repeated){s[n]=[];continue}switch(t.kind){case"oneof":s[n]={case:void 0};break;case"enum":s[n]=0;break;case"map":s[n]={};break;case"scalar":s[n]=E(t.T,t.L);break;case"message":break}}});export{ae as Message,I as isMessage,dt as proto3,he as protoBase64,p as protoInt64};
