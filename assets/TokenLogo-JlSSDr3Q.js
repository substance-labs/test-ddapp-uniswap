import{__toESM as j}from"./chunk-DgAfPHQg.js";import{require_react as D}from"./react-CNoFhWkx.js";import{Image as B,UniversalImage as N,useColorSchemeFromSeed as U,useSporeColors as k,validColor as A,zIndexes as m}from"./src-DOOtfpHS.js";import{isMobileApp as b,isMobileWeb as M}from"./index.web-BqgtOHN3.js";import{require_jsx_runtime as $}from"./jsx-runtime-D7bMTQeG.js";import{ALL_NETWORKS_LOGO as z}from"./hooks-BXO4d1DJ.js";import{UniverseChainId as W,getChainInfo as q,isTestnetChain as G}from"./utils-BX1Fu73x.js";import{Flex as c,Loader as R,Text as K,iconSizes as f}from"./Loader-D83W8G1W.js";var p=j(D()),o=j($());const Q=.3;function so({chainId:e,size:r=f.icon20}){return(0,o.jsx)(_,{borderWidth:1.6,chainId:e,shape:"square",size:r})}function V({chainId:e,shape:r,size:s=f.icon20,borderWidth:l=0,borderRadius:i,loading:t}){const n=s+2*l,a=r==="circle"?n/2:n*Q,u=k(),x={width:n,height:n,borderRadius:i??a,borderWidth:l,borderColor:u.surface1.val};if(t)return(0,o.jsx)(R.Box,{height:n,width:n,borderRadius:i??a});if(e===null)return(0,o.jsx)(c,{testID:"all-networks-logo",children:(0,o.jsx)(S,{logo:z,imageSize:n})});const h=q(e).logo,d=n-l*2;return h?(0,o.jsx)(c,{testID:"network-logo",overflow:"hidden",style:x,zIndex:m.mask,children:(0,o.jsx)(S,{logo:h,imageSize:d})}):null}function S({logo:e,imageSize:r}){return M&&typeof e=="string"?(0,o.jsx)("img",{src:e,style:{width:r,height:r}}):(0,o.jsx)(B,{resizeMode:"contain",source:e,width:r,height:r})}const _=p.memo(V),H=.4;function lo({currencyInfo:e,size:r=f.icon40,hideNetworkLogo:s,networkLogoBorderWidth:l}){if(!e)return null;const{currency:i,logoUrl:t}=e,{chainId:n,symbol:a,name:u}=i;return(0,o.jsx)(X,{chainId:n,hideNetworkLogo:s,name:u,networkLogoBorderWidth:l,size:r,symbol:a,url:t})}const J=15,P=4,X=(0,p.memo)(function({url:r,symbol:s,name:l,chainId:i,size:t=f.icon40,hideNetworkLogo:n,networkLogoBorderWidth:a=b?2:1.5,loading:u,webFontSize:x=10,lineHeight:h=14}){const d=!!i&&G(i),[I,T]=(0,p.useState)(!!b),L=k(),{foreground:v,background:C}=U(l??s??""),w=d?t/J:0,O=!n&&i&&i!==W.Mainnet,y=Math.round(t*H),F=d?P:0,g=t-w-F;if(u)return(0,o.jsx)(R.Box,{borderRadius:"$roundedFull",height:t,width:t});const E=(0,o.jsx)(c,{alignItems:"center",borderRadius:"$roundedFull",height:g,justifyContent:"center",px:"$spacing8",style:{backgroundColor:C},width:g,children:(0,o.jsx)(K,{adjustsFontSizeToFit:!0,"$platform-web":{fontSize:x,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"clip"},allowFontScaling:!1,color:A(v),fontFamily:"$button",fontSize:17,fontWeight:"500",lineHeight:h,minimumFontScale:.5,numberOfLines:1,children:s==null?void 0:s.slice(0,3)})});return(0,o.jsxs)(c,{alignItems:"center",height:t,justifyContent:"center",testID:"token-logo",pointerEvents:"auto",width:t,position:"relative",children:[!d&&(0,o.jsx)(c,{opacity:I?1:0,height:"96%",width:"96%",zIndex:m.background,backgroundColor:L.white.val,position:"absolute",top:"2%",left:"2%",borderRadius:t/2}),(0,o.jsx)(N,{allowLocalUri:!0,fallback:E,size:{height:g,width:g},style:{image:{borderRadius:t/2,zIndex:m.default}},testID:"token-image",uri:r??void 0,onLoad:()=>T(!0)}),d&&(0,o.jsx)(c,{borderRadius:t/2,borderStyle:"dashed",borderColor:"$neutral3",borderWidth:w,height:t,width:t,style:{boxSizing:"border-box"},position:"absolute"}),O&&(0,o.jsx)(c,{bottom:-2,position:"absolute",right:-3,zIndex:m.mask,children:(0,o.jsx)(_,{borderWidth:a,chainId:i,size:y})})]})});export{lo as CurrencyLogo,_ as NetworkLogo,H as STATUS_RATIO,X as TokenLogo,so as TransactionSummaryNetworkLogo};
