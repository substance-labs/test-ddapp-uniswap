import{logger as a}from"./hooks-BXO4d1DJ.js";import{UserRejectedRequestError as i}from"./errors-BaezSPLl.js";function s(e){let r;for(;e;){var n;r=e.reason??e.message??r,e=e.error??((n=e.data)===null||n===void 0?void 0:n.originalError)}return r}function o(e){const r=s(e);return!!((e==null?void 0:e.code)===4001||(e==null?void 0:e.code)===5750||(e==null?void 0:e.code)==="ACTION_REJECTED"||r!=null&&r.match(/request/i)&&r.match(/reject/i)||r!=null&&r.match(/declined/i)||r!=null&&r.match(/cancell?ed by user/i)||r!=null&&r.match(/user cancell?ed/i)||r!=null&&r.match(/user denied/i)||r!=null&&r.match(/user rejected/i)||e instanceof i)}function u(e,r){if(o(r))return e("swap.error.rejected");let n=s(r);switch((n==null?void 0:n.indexOf("execution reverted: "))===0&&(n=n.substr(20)),n){case"UniswapV2Router: EXPIRED":return e("swap.error.v2.expired");case"UniswapV2Router: INSUFFICIENT_OUTPUT_AMOUNT":case"UniswapV2Router: EXCESSIVE_INPUT_AMOUNT":return e("swap.error.v2.slippage");case"TransferHelper: TRANSFER_FROM_FAILED":return e("swap.error.v2.transferInput");case"UniswapV2: TRANSFER_FAILED":return e("swap.error.v2.transferOutput");case"UniswapV2: K":return e("swap.error.v2.k");case"Too little received":case"Too much requested":case"STF":return e("swap.error.v3.slippage");case"TF":return e("swap.error.v3.transferOutput");default:return n&&n.indexOf("undefined is not an object")!==-1?(a.warn("swapErrorToUserReadableMessage","swapErrorToUserReadableMessage","Undefined object error",n),e("swap.error.undefinedObject")):`${n??e("swap.error.unknown")} ${e("swap.error.default")}`}}export{o as didUserReject,u as swapErrorToUserReadableMessage};
