import{__toESM as K}from"./chunk-DgAfPHQg.js";import{require_react as rr}from"./react-CNoFhWkx.js";import{useTranslation as er}from"./useTranslation-BotBuoJf.js";import{FiatCurrency as e,ORDERED_CURRENCIES as tr,useCurrentLocale as z,useUrlContext as nr}from"./constants-CrXoXfFH.js";import{useSelector as or}from"./es-Iwj7vF3u.js";import{require_jsx_runtime as ar}from"./jsx-runtime-D7bMTQeG.js";import{logger as ir}from"./hooks-BXO4d1DJ.js";import{Currency as n,PollingInterval as ur,useConvertQuery as cr}from"./utils-BX1Fu73x.js";import{NumberType as s}from"./types-JuyYLR0O.js";const A={},Y=1e-5,H="<0.00001";function l({name:r,locale:t,props:a}){const i=`${t}--${(a==null?void 0:a.currency)??"NONE"}--${r}}`;let o=A[i];return o||(o=new Intl.NumberFormat(t,a),A[i]=o,o)}const v={createFormat(r,t){return l({name:"StandardCurrency",locale:r,props:{notation:"standard",style:"currency",currency:t}})}},B={createFormat(r,t){return l({name:"SmallestNumCurrency",locale:r,props:{notation:"standard",maximumFractionDigits:20,currency:t,style:"currency"}})}},mr={createFormat:(r,t)=>l({name:"FiveDecimalsMaxTwoDecimalsMin",locale:r,props:{notation:"standard",maximumFractionDigits:5,minimumFractionDigits:2}})},sr={createFormat:(r,t)=>l({name:"FiveDecimalsMaxTwoDecimalsMinNoCommas",locale:r,props:{notation:"standard",maximumFractionDigits:5,minimumFractionDigits:2,useGrouping:!1}})},lr={createFormat:(r,t)=>l({name:"NoDecimals",locale:r,props:{notation:"standard",maximumFractionDigits:0,minimumFractionDigits:0}})},V={createFormat:(r,t)=>l({name:"ThreeDecimals",locale:r,props:{notation:"standard",maximumFractionDigits:3,minimumFractionDigits:3}})},G={createFormat:(r,t)=>l({name:"NoDecimalsCurrency",locale:r,props:{notation:"standard",maximumFractionDigits:0,minimumFractionDigits:0,currency:t,style:"currency"}})},dr={createFormat:(r,t)=>l({name:"ThreeDecimalsCurrency",locale:r,props:{notation:"standard",maximumFractionDigits:3,minimumFractionDigits:3,currency:t,style:"currency"}})},g={createFormat:(r,t)=>l({name:"TwoDecimalsCurrency",locale:r,props:{notation:"standard",maximumFractionDigits:2,minimumFractionDigits:2,currency:t,style:"currency"}})},P={createFormat:(r,t)=>l({name:"ShorthandTwoDecimalsCurrency",locale:r,props:{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,currency:t,style:"currency"}})},w={createFormat:(r,t)=>l({name:"ShorthandOneDecimalsCurrency",locale:r,props:{notation:"compact",minimumFractionDigits:1,maximumFractionDigits:1,currency:t,style:"currency"}})},pr={createFormat:(r,t)=>l({name:"OneSigFigCurrency",locale:r,props:{notation:"standard",minimumSignificantDigits:1,maximumSignificantDigits:1,currency:t,style:"currency"}})},k={createFormat:(r,t)=>l({name:"ThreeSigFigsCurrency",locale:r,props:{notation:"standard",minimumSignificantDigits:3,maximumSignificantDigits:3,currency:t,style:"currency"}})},$={createFormat:(r,t)=>l({name:"SevenSigFigsSciNotationCurrency",locale:r,props:{notation:"scientific",minimumSignificantDigits:7,maximumSignificantDigits:7,currency:t,style:"currency"}})},C={createFormat:(r,t)=>l({name:"TwoDecimals",locale:r,props:{notation:"standard",maximumFractionDigits:2,minimumFractionDigits:2}})},T={createFormat:(r,t)=>l({name:"ShorthandOneDecimal",locale:r,props:{notation:"compact",minimumFractionDigits:1,maximumFractionDigits:1}})},J={createFormat:(r,t)=>l({name:"ShorthandTwoDecimals",locale:r,props:{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}})},M={createFormat:(r,t)=>l({name:"SixSigFigsTwoDecimals",locale:r,props:{notation:"standard",maximumSignificantDigits:6,minimumSignificantDigits:3,maximumFractionDigits:2,minimumFractionDigits:2}})},fr={createFormat:(r,t)=>l({name:"SixSigFigsNoCommas",locale:r,props:{notation:"standard",maximumSignificantDigits:6,useGrouping:!1}})},R={createFormat:(r,t)=>l({name:"SixSigFigsTwoDecimalsNoCommas",locale:r,props:{notation:"standard",maximumSignificantDigits:6,minimumSignificantDigits:3,maximumFractionDigits:2,minimumFractionDigits:2,useGrouping:!1}})},O={createFormat:(r,t)=>l({name:"NoTrailingTwoDecimalsPercentages",locale:r,props:{notation:"standard",style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}})},E={createFormat:(r,t)=>l({name:"NoTrailingThreeDecimalsPercentages",locale:r,props:{notation:"standard",style:"percent",minimumFractionDigits:0,maximumFractionDigits:3}})},L={createFormat:(r,t)=>l({name:"NoTrailingFourDecimalsPercentages",locale:r,props:{notation:"standard",style:"percent",minimumFractionDigits:0,maximumFractionDigits:4}})},yr={createFormat:(r,t)=>l({name:"TwoDecimalsPercentages",locale:r,props:{notation:"standard",style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}})},Fr={rules:[{exact:0,formatter:"0"},{upperBound:.001,formatter:"<0.001"},{upperBound:1,formatter:V},{upperBound:1e6,formatter:C},{upperBound:1e15,formatter:J},{upperBound:1/0,formatter:">999T"}],defaultFormat:C},gr={rules:[{exact:0,formatter:"0"},{upperBound:Y,formatter:H},{upperBound:1,formatter:mr},{upperBound:1e4,formatter:M},{upperBound:1/0,formatter:C}],defaultFormat:M},Q={rules:[{exact:0,formatter:"0"},{upperBound:.1,formatter:fr},{upperBound:1,formatter:sr},{upperBound:1/0,formatter:R}],defaultFormat:R},Dr={rules:[{exact:0,formatter:"0"},{upperBound:Y,formatter:H},...Q.rules],defaultFormat:R},Cr={rules:[{upperBound:1e-8,overrideValue:1e-8,formatter:B,postFormatModifier:r=>`<${r}`},{upperBound:.1,formatter:k},{upperBound:1.05,formatter:dr},{upperBound:1e6,formatter:g},{upperBound:1/0,formatter:P}],defaultFormat:g},Sr={rules:[{upperBound:1e-8,overrideValue:1e-8,formatter:B,postFormatModifier:r=>`<${r}`},{upperBound:1,formatter:k},{upperBound:1e6,formatter:g},{upperBound:1/0,formatter:P}],defaultFormat:g},vr={rules:[{exact:0,formatter:"-"},{upperBound:.01,overrideValue:.01,formatter:B,postFormatModifier:r=>`<${r}`},{upperBound:1e3,formatter:g},{upperBound:1/0,formatter:w}],defaultFormat:w},Tr={rules:[{exact:0,formatter:"-"},{upperBound:.01,formatter:"<0.01"},{upperBound:1e3,formatter:C},{upperBound:1/0,formatter:T}],defaultFormat:T},j={rules:[{exact:0,formatter:G},{upperBound:.01,overrideValue:.01,formatter:B,postFormatModifier:r=>`<${r}`},{upperBound:1e6,formatter:g},{upperBound:1/0,formatter:P}],defaultFormat:g},xr={rules:[{upperBound:1/0,formatter:v}],defaultFormat:v},Nr={rules:[{exact:0,formatter:v},...j.rules],defaultFormat:g},Br={rules:[{exact:0,formatter:v},{upperBound:1/0,formatter:g}],defaultFormat:g},Pr={rules:[{exact:0,formatter:"0"},{upperBound:.001,formatter:"<0.001"},{upperBound:1,formatter:V},{upperBound:1e3,formatter:C},{upperBound:1e15,formatter:J},{upperBound:1/0,formatter:">999T"}],defaultFormat:C},hr={rules:[{upperBound:1e3,formatter:lr},{upperBound:1/0,formatter:T}],defaultFormat:T},br={rules:[{upperBound:.01,formatter:yr},{upperBound:1/0,formatter:O}],defaultFormat:O},Rr={rules:[{upperBound:1/0,formatter:E}],defaultFormat:E},kr={rules:[{upperBound:1/0,formatter:L}],defaultFormat:L},Ir={rules:[{exact:0,formatter:G},{exact:1e-8,formatter:"<0.00000001"},{upperBound:1e-8,formatter:pr},{upperBound:1,formatter:k},{upperBound:1e6,formatter:g},{upperBound:1e16,formatter:P},{upperBound:1/0,formatter:$}],defaultFormat:$},_r={[s.TokenNonTx]:Fr,[s.TokenTx]:gr,[s.TokenQuantityStats]:Tr,[s.SwapPrice]:Dr,[s.SwapTradeAmount]:Q,[s.FiatStandard]:xr,[s.FiatTokenQuantity]:Nr,[s.FiatTokenDetails]:Cr,[s.FiatTokenPrice]:Sr,[s.FiatTokenStats]:vr,[s.FiatRewards]:Ir,[s.FiatGasPrice]:j,[s.PortfolioBalance]:Br,[s.NFTTokenFloorPrice]:Pr,[s.NFTCollectionStats]:hr,[s.Percentage]:br,[s.PercentageThreeDecimals]:Rr,[s.PercentageFourDecimals]:kr},x="-";function Ar(r,t){const{rules:a,defaultFormat:i}=_r[t];for(const o of a)if(o.exact!==void 0&&r===o.exact||o.upperBound!==void 0&&r<o.upperBound)return o;return ir.error("Invalid input or misconfigured formatter rules for type",{tags:{file:"localeBased",function:"getFormatterRule"},extra:{type:t,input:r}}),{formatter:i}}function N({input:r,locale:t,currencyCode:a="USD",type:i=s.TokenNonTx,placeholder:o=x}){if(r==null)return o;const{formatter:u,overrideValue:m,postFormatModifier:c}=Ar(r,i);if(typeof u=="string")return u;const f=u.createFormat(t,a).format(m!==void 0?m:r);return c?c(f):f}function wr({amount:r,locale:t,type:a=s.TokenNonTx,placeholder:i}){return N({input:r?parseFloat(r.toFixed()):void 0,locale:t,type:a,placeholder:i})}function $r({price:r,locale:t,currencyCode:a,type:i,placeholder:o=x}){return r==null?o:N(typeof r=="string"?{input:parseFloat(r),locale:t,currencyCode:a,type:i,placeholder:o}:{input:r,locale:t,currencyCode:a,type:i,placeholder:o})}function Mr({rawPercentage:r,locale:t,maxDecimals:a=2}){if(r==null)return x;const i=a===3?s.PercentageThreeDecimals:a===4?s.PercentageFourDecimals:s.Percentage,o=parseFloat(typeof r=="string"?r:r.toString());return isNaN(o)?x:N({input:o/100,type:i,locale:t})}function Or({value:r,locale:t,currencyCode:a,currencySymbol:i}){var o,u,m,c,d;const p=v.createFormat(t,a).formatToParts(0),y=((o=p[0])===null||o===void 0?void 0:o.type)==="currency",S=y?((u=p[1])===null||u===void 0?void 0:u.type)==="literal"?(m=p[1])===null||m===void 0?void 0:m.value:"":((c=p[p.length-2])===null||c===void 0?void 0:c.type)==="literal"?(d=p[p.length-2])===null||d===void 0?void 0:d.value:"";return y?`${i}${S}${r}`:`${r}${S}${i}`}function Er(r,t){const i=g.createFormat(r,t).formatToParts(1e6);let o=",",u=".",m="",c="",d=!0;return i.forEach((f,p)=>{if(f.type==="group")o=f.value;else if(f.type==="decimal")u=f.value;else if(f.type==="currency"){m=f.value,c=m,d=p===0;const y=d?i[p+1]:i[p-1];(y==null?void 0:y.type)==="literal"&&(c=d?m+y.value:y.value+m)}}),{groupingSeparator:o,decimalSeparator:u,symbol:m,fullSymbol:c,symbolAtFront:d}}var F=K(rr());function h(r){return r.toString()}function Lr(r){const t=z(),a=h(r);return Er(t,a)}function Ur(r,t){const a={[e.AustralianDollar]:r("currency.aud"),[e.ArgentinePeso]:r("currency.ars"),[e.BrazilianReal]:r("currency.brl"),[e.CanadianDollar]:r("currency.cad"),[e.ChineseYuan]:r("currency.cny"),[e.ColombianPeso]:r("currency.cop"),[e.Euro]:r("currency.eur"),[e.BritishPound]:r("currency.gbp"),[e.HongKongDollar]:r("currency.hkd"),[e.IndonesianRupiah]:r("currency.idr"),[e.IndianRupee]:r("currency.inr"),[e.JapaneseYen]:r("currency.jpy"),[e.SouthKoreanWon]:r("currency.krw"),[e.MexicanPeso]:r("currency.mxn"),[e.NigerianNaira]:r("currency.ngn"),[e.PakistaniRupee]:r("currency.pkr"),[e.RussianRuble]:r("currency.rub"),[e.SingaporeDollar]:r("currency.sgd"),[e.TurkishLira]:r("currency.try"),[e.UkrainianHryvnia]:r("currency.uah"),[e.UnitedStatesDollar]:r("currency.usd"),[e.VietnameseDong]:r("currency.vnd")},i={[e.AustralianDollar]:"$",[e.ArgentinePeso]:"$",[e.BrazilianReal]:"R$",[e.CanadianDollar]:"$",[e.ChineseYuan]:"¥",[e.ColombianPeso]:"$",[e.Euro]:"€",[e.BritishPound]:"£",[e.HongKongDollar]:"$",[e.IndonesianRupiah]:"Rp",[e.IndianRupee]:"₹",[e.JapaneseYen]:"¥",[e.SouthKoreanWon]:"₩",[e.MexicanPeso]:"$",[e.NigerianNaira]:"₦",[e.PakistaniRupee]:"Rs",[e.RussianRuble]:"₽",[e.SingaporeDollar]:"$",[e.TurkishLira]:"₺",[e.UkrainianHryvnia]:"₴",[e.UnitedStatesDollar]:"$",[e.VietnameseDong]:"₫"},o=h(t),u=i[t];return{name:a[t],shortName:`${o} (${u})`}}function Kr(r){const{t}=er(),a=Lr(r),{name:i,shortName:o}=Ur(t,r),u=h(r);return{...a,name:i,shortName:o,code:u}}function zr(){const{useParsedQueryString:r}=nr(),a=r().cur;if(typeof a!="string")return;const i=a.toLowerCase();return tr.find(o=>o.toLowerCase()===i)}function W(){const r=or(a=>a.userSettings.currentCurrency),t=zr();return(0,F.useMemo)(()=>t??r,[r,t])}function ne(){const r=W();return Kr(r)}const Yr={[n.Ars]:e.ArgentinePeso,[n.Aud]:e.AustralianDollar,[n.Brl]:e.BrazilianReal,[n.Cad]:e.CanadianDollar,[n.Cny]:e.ChineseYuan,[n.Cop]:e.ColombianPeso,[n.Eur]:e.Euro,[n.Gbp]:e.BritishPound,[n.Hkd]:e.HongKongDollar,[n.Idr]:e.IndonesianRupiah,[n.Inr]:e.IndianRupee,[n.Jpy]:e.JapaneseYen,[n.Krw]:e.SouthKoreanWon,[n.Mxn]:e.MexicanPeso,[n.Ngn]:e.NigerianNaira,[n.Pkr]:e.PakistaniRupee,[n.Rub]:e.RussianRuble,[n.Sgd]:e.SingaporeDollar,[n.Try]:e.TurkishLira,[n.Uah]:e.UkrainianHryvnia,[n.Usd]:e.UnitedStatesDollar,[n.Vnd]:e.VietnameseDong,[n.Eth]:void 0,[n.Matic]:void 0,[n.Nzd]:void 0,[n.Thb]:void 0},Hr={[e.ArgentinePeso]:n.Ars,[e.AustralianDollar]:n.Aud,[e.BrazilianReal]:n.Brl,[e.CanadianDollar]:n.Cad,[e.ChineseYuan]:n.Cny,[e.ColombianPeso]:n.Cop,[e.Euro]:n.Eur,[e.BritishPound]:n.Gbp,[e.HongKongDollar]:n.Hkd,[e.IndonesianRupiah]:n.Idr,[e.IndianRupee]:n.Inr,[e.JapaneseYen]:n.Jpy,[e.MexicanPeso]:n.Mxn,[e.SouthKoreanWon]:n.Krw,[e.NigerianNaira]:n.Ngn,[e.PakistaniRupee]:n.Pkr,[e.RussianRuble]:n.Rub,[e.SingaporeDollar]:n.Sgd,[e.TurkishLira]:n.Try,[e.UkrainianHryvnia]:n.Uah,[e.UnitedStatesDollar]:n.Usd,[e.VietnameseDong]:n.Vnd},U=n.Usd;function Vr({formatNumberOrString:r}){var t,a;const i=W(),o=Hr[i],{data:u,previousData:m}=cr({variables:{fromCurrency:U,toCurrency:o},pollInterval:ur.Slow}),c=u||m,d=c==null||(t=c.convert)===null||t===void 0?void 0:t.value,f=c==null||(a=c.convert)===null||a===void 0?void 0:a.currency,p=f?Yr[f]:void 0,y=(0,F.useCallback)(D=>{const b={amount:D,currency:e.UnitedStatesDollar};return U===o||!d||!p?b:{amount:D*d,currency:p}},[d,p,o]),S=(0,F.useCallback)((D,b,I="-")=>{if(D==null)return I;const X=typeof D=="string"?parseFloat(D):D,_=y(X),Z=h(_.currency);return r({value:_.amount,type:b,currencyCode:Z,placeholder:I})},[y,r]);return(0,F.useMemo)(()=>({conversionRate:d,convertFiatAmount:y,convertFiatAmountFormatted:S}),[d,S,y])}function Gr(){const r=z(),t=(0,F.useCallback)(({value:u,type:m=s.TokenNonTx,currencyCode:c,placeholder:d})=>$r({price:u,locale:r,currencyCode:c,type:m,placeholder:d}),[r]),a=(0,F.useCallback)(({value:u,type:m,placeholder:c})=>wr({amount:u,locale:r,type:m,placeholder:c}),[r]),i=(0,F.useCallback)((u,m)=>Mr({rawPercentage:u,locale:r,maxDecimals:m}),[r]),o=(0,F.useCallback)(({value:u,currencyCode:m,currencySymbol:c})=>Or({value:u,currencyCode:m,currencySymbol:c,locale:r}),[r]);return(0,F.useMemo)(()=>({formatNumberOrString:t,formatCurrencyAmount:a,formatPercent:i,addFiatSymbolToNumber:o}),[t,a,i,o])}var Jr=K(ar());const q=(0,F.createContext)(void 0);function oe({children:r}){const{formatNumberOrString:t,formatCurrencyAmount:a,formatPercent:i,addFiatSymbolToNumber:o}=Gr(),{convertFiatAmount:u,convertFiatAmountFormatted:m,conversionRate:c}=Vr({formatNumberOrString:t}),d=(0,F.useMemo)(()=>({conversionRate:c,convertFiatAmount:u,convertFiatAmountFormatted:m,formatNumberOrString:t,formatCurrencyAmount:a,formatPercent:i,addFiatSymbolToNumber:o}),[o,c,u,m,a,t,i]);return(0,Jr.jsx)(q.Provider,{value:d,children:r})}const ae=()=>{const r=(0,F.useContext)(q);if(r===void 0)throw new Error("`useLocalizationContext` must be used inside of `LocalizationContextProvider`");return r};export{oe as LocalizationContextProvider,wr as formatCurrencyAmount,N as formatNumber,Er as getFiatCurrencyComponents,Ur as getFiatCurrencyName,W as useAppFiatCurrency,ne as useAppFiatCurrencyInfo,Lr as useFiatCurrencyComponents,Kr as useFiatCurrencyInfo,ae as useLocalizationContext};
