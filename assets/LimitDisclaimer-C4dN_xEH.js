import{__toESM as f}from"./chunk-DgAfPHQg.js";import{require_react as v}from"./react-CNoFhWkx.js";import{Trans as c}from"./src-DOOtfpHS.js";import{ReactQueryCacheKey as I}from"./cache-BFZkIToX.js";import{require_jsx_runtime as h}from"./jsx-runtime-D7bMTQeG.js";import{ProtectionResult as u,SafetyLevel as j,isUniverseChainId as b}from"./utils-BX1Fu73x.js";import{currencyId as p}from"./currencyId-Ci6selsx.js";import{useQuery as x}from"./useQuery-D_ZCw8XG.js";import{isSameAddress as m}from"./addresses-D56PBUHX.js";import{USDC_OPTIMISM as _}from"./objects-DlLkJwrJ.js";import{TokenList as l,buildCurrencyInfo as d,getCurrencySafetyInfo as S}from"./getCurrencySafetyInfo-BHD1ohD-.js";import{queryWithoutCache as F}from"./queryOptions-Dj3qRbwo.js";import{Flex as L,Text as P,styled as T}from"./Loader-D83W8G1W.js";import{COMMON_BASES as C,buildPartialCurrencyInfo as U}from"./useCurrencyInfo-Bxa3J04d.js";import{fiatOnRampToCurrency as R,gqlToCurrency as k}from"./util-BZ6kLG7e.js";import{ExternalLink as q}from"./Links-Xomrvpth.js";function er(r){var e,t,o,n;if(!r)return;const a=k(r);return a?d({currency:a,currencyId:p(a),logoUrl:((e=r.project)===null||e===void 0||(e=e.logo)===null||e===void 0?void 0:e.url)??((t=r.project)===null||t===void 0?void 0:t.logoUrl),isSpam:((o=r.project)===null||o===void 0?void 0:o.isSpam)??!1,safetyInfo:S(((n=r.project)===null||n===void 0?void 0:n.safetyLevel)??j.StrongWarning,r.protectionInfo)}):void 0}function tr(r){if(!b(Number(r.chainId)))return;const e=Number(r.chainId),o=C[e].find(a=>a.currency.isNative?!r.address:m(a.currency.address,r.address));if(o)return{...o,logoUrl:r.symbol,safetyInfo:{tokenList:l.Default,protectionResult:u.Benign},isSpam:!1};if(m(r.address,"0x7f5c764cbc14f9669b88837ca1490cca17c31607"))return U(_);const n=R(r);if(n)return d({currency:n,currencyId:p(n),logoUrl:r.symbol,safetyInfo:{tokenList:l.Default,protectionResult:u.Benign},isSpam:!1})}var y=f(v()),g=(function(r){return r.Legacy="legacy",r.Eip1559="eip1559",r})(g||{});let w=(function(r){return r.Normal="normal",r.Fast="fast",r.Urgent="urgent",r})({});function or(r,e=w.Urgent){const{data:t,isLoading:o}=M(r);return(0,y.useMemo)(()=>{if(!t)return{isLoading:o};const n=t.type===g.Eip1559?{maxPriorityFeePerGas:t.maxPriorityFeePerGas[e],maxFeePerGas:t.maxFeePerGas[e],gasLimit:t.gasLimit}:{gasPrice:t.gasPrice[e],gasLimit:t.gasLimit};return{value:t.gasFee[e],isLoading:o,params:n}},[t,o,e])}const N="https://interface.gateway.uniswap.org",E=(r,e)=>r.status<200||r.status>202;function M(r){const e=!r,t=(0,y.useCallback)(async()=>{const o=await fetch(`${N}/v1/gas-fee`,{method:"POST",body:JSON.stringify(r)}),n=await o.json();return E(o,n)?null:n},[r]);return x(F({queryKey:[I.WebTransactionGasFee,r],queryFn:t,enabled:!e}))}var i=f(h());const s=T(P,{variant:"body4",color:"$neutral2"});function nr(r){return(0,i.jsxs)(L,{backgroundColor:"$surface2",borderRadius:"$rounded12",p:"$spacing12",mt:"$spacing12",gap:"$gap4",...r,children:[(0,i.jsx)(s,{children:(0,i.jsx)(c,{i18nKey:"pool.limitFluctuation.warning"})}),(0,i.jsx)(s,{children:"Canceling a limit has a network cost."}),(0,i.jsx)(s,{children:(0,i.jsx)(q,{href:"https://support.uniswap.org/hc/en-us/articles/24300813697933",children:(0,i.jsx)(c,{i18nKey:"common.button.learn"})})})]})}export{w as GasSpeed,nr as LimitDisclaimer,er as gqlTokenToCurrencyInfo,tr as meldSupportedCurrencyToCurrencyInfo,or as useTransactionGasFee};
