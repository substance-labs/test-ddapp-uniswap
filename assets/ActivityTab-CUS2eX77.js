import{__toESM as A}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as M}from"./react-CNoFhWkx.js";import{AnimatePresence as b}from"./src-DOOtfpHS.js";import"./useTranslation-BotBuoJf.js";import"./index.web-BqgtOHN3.js";import"./constants-CrXoXfFH.js";import"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as k}from"./jsx-runtime-D7bMTQeG.js";import"./useEnabledChains-DuB86c95.js";import{logger as B}from"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import"./api-BsCrUy1C.js";import"./state-BVuwBOpM.js";import"./utils-CK6a47NA.js";import{TransactionType as P}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import"./currencyId-Ci6selsx.js";import{AlertTriangleFilled as R,createGroups as E,useAllActivities as O,useOpenOffchainActivityModal as C,useTimeSince as H}from"./OffchainActivityModal-B5RlXTeb.js";import"./constants-vVZBLDwL.js";import"./constants-CZ9iND_H.js";import"./slice-DimuiOR8.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import"./wallet-gHLp87c6.js";import"./features-yACC1hVw.js";import"./interface-BdpC4qOF.js";import{ElementName as N}from"./element-Wnp4RkdY.js";import"./modal-Dvm06CN4.js";import"./uniswap-Bm-6KILn.js";import{isHex as D,size as F}from"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./call-CTDbaN-t.js";import"./parseAccount-CRyN5swV.js";import"./encodeFunctionData-CD63gkvM.js";import"./public-fap09Zv6.js";import"./stringify-B82RFruy.js";import"./rpc-nQR4Ijs4.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import{ExplorerDataType as U,getExplorerLink as W}from"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./V3DutchOrderTrade-Cl7yELmp.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./v2-sdk.esm-CIiDMO7F.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import"./types-DbOmsKtk.js";import"./slice-CYdI68Yo.js";import"./defaultOptions-ENwqzwHj.js";import"./getCurrencyAmount-vvZpAzIm.js";import"./addresses-D56PBUHX.js";import"./currency-DIOEzjz2.js";import"./actions-BvAnf7JG.js";import"./reducer-26KeQlno.js";import"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./providers-BELGpWsr.js";import"./erc20-CdGGKIp0.js";import"./getContract-CMwwszTa.js";import"./objects-DlLkJwrJ.js";import"./analytics-Ccvj1WVk.js";import"./send.web-CrSXW2rw.js";import"./TradingApiClient-Cp_0ez5S.js";import"./ProtocolItems-DhZWSiXS.js";import"./selectors-BwkayGDl.js";import"./useUSDCPrice-HO7Wgroz.js";import"./balances-DV0Wvmri.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./mutation-CRQvRc5_.js";import"./infiniteQueryBehavior-C10I_UVS.js";import"./connector-Cw8HJLtm.js";import"./queryOptions-P48mrm5X.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./embeddedWallet-BdHUTaHg.js";import"./promise-client-BYLTs0DC.js";import"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import"./types_pb-yZxlo4b1.js";import{useHideSpamTokensSetting as q}from"./hooks-Dhx5teK4.js";import{TransactionStatus as l}from"./transactionDetails-BsNW_jus.js";import"./types-JuyYLR0O.js";import"./LocalizationContext-B31peW1_.js";import"./getAlertColor-J5DrJWHv.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import"./useSupportedChainId-DskHoisQ.js";import"./useWallet-CL5owP9P.js";import"./TraceContext-Ddfk7zjz.js";import"./queryOptions-Dj3qRbwo.js";import"./types-7DAoWLTI.js";import"./analytics-UE3_EENu.js";import"./types-BSmAADNJ.js";import"./eventemitter3-DFes51ku.js";import"./eventemitter3-BHLpX1jX.js";import"./dist-BWRHWQ_J.js";import"./readContract-Cae4hIjn.js";import"./recoverAddress-oPdWABRo.js";import"./getBalance-TsPVbzB5.js";import"./localBatchGatewayRequest-CdT4Kija.js";import"./createBatchScheduler-BJBpfhFD.js";import"./createTransport-WEDNYdh5.js";import"./useEthersProvider-CBgc_azi.js";import"./http-CIklBnX8.js";import"./wagmiConfig-0BYSDqyO.js";import"./hashMessage-DdzTBpWL.js";import"./multicall-BYS6jvE9.js";import"./secp256k1-fbKD5lyl.js";import"./getAction-BBhbL9mE.js";import"./useAccount-C5hwiBwN.js";import"./config-CDfnfyHL.js";import"./useSwitchChain-CY8eYAUF.js";import"./useAccountEffect-CHrs5vTR.js";import"./query-qNZtVuxH.js";import"./constants-CGJJmXwV.js";import{useUpdateAtom as z}from"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./passkey.web-DakcatU3.js";import"./hex-njd-4N-2.js";import{SignatureType as G}from"./slice-qANrfSbi.js";import"./noop-BDbB2pLB.js";import"./walletMeta-DaLhfhet.js";import"./signing-DH5GfhKu.js";import"./i18n-CroUvoJw.js";import"./v4-D6Rlvprs.js";import"./errors-BaezSPLl.js";import"./swapErrorToUserReadableMessage-DgHZMHU-.js";import"./AccountDetails-pkaz6EG4.js";import"./lpIncentivesSaga-CyYcBLmn.js";import"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./breakpoints-B-pYqY7D.js";import"./urls-aCnKF23w.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import"./ArrowDown-B8kFPZPX.js";import{BridgeIcon as V}from"./SplitLogo-Ct--07LT.js";import"./reducer-CcXO4HTO.js";import"./useSelectChain-CA5zoRWi.js";import"./tokens-Dxd89cHj.js";import"./prices-BzyZhpWW.js";import"./useWallet-CpLwPvrh.js";import"./timing-DsWr56iv.js";import"./useIsUnichainFlashblocksEnabled-BbPYkimv.js";import"./uniswapx-DgS0k47c.js";import"./experiments-rc6XUB0U.js";import"./SwapFormStoreContext-3NrPQE3L.js";import"./useSwapFormStore-D1oVGbBf.js";import"./swapTxAndGasInfo-DxVAGFqc.js";import"./types-NWGai6aQ.js";import"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import"./reducer-1kwGyyVS.js";import"./constants-BNEwFtLH.js";import"./slice-CGCdMmTE.js";import"./actions-Budqlwp-.js";import"./slice-DoLbOto3.js";import"./slice-Crjw990S.js";import"./slice-CI92BTuM.js";import"./slice-CaJcHsUP.js";import"./usePrevious-CggM0Zir.js";import"./hooks-Muz170pO.js";import"./types-00FZ6Wno.js";import"./chainParams-DIOvplzi.js";import"./util-BZ6kLG7e.js";import"./LimitDisclaimer-C4dN_xEH.js";import"./useContract-CKZ4cOLX.js";import"./UniswapInterfaceMulticall-DLE8QJ-2.js";import"./constants-CqzaOqD-.js";import"./Arrow-DIna6t35.js";import"./TokenLogo-JlSSDr3Q.js";import"./utils-CjNzOxi9.js";import"./hooks-DB50ZKAa.js";import"./hooks-BA_A7Su9.js";import{useAccountDrawer as J}from"./hooks-CRfHBoLD.js";import"./Tokens-HEKZ8edJ.js";import"./UnitagsApiClient-CvShPRCK.js";import{LoaderV2 as K}from"./Identicon-SnsLMqUD.js";import"./api-u3dxy1Uz.js";import"./Dividers-D5mIbKhU.js";import"./useIsWindowVisible-CtuFA8fK.js";import"./useIsMobile-Cq3RSgOi.js";import{styled_components_default as a}from"./styled-components-DbVO3u5J.js";import{ThemedText as c}from"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import"./prop-types-BL9JsGr9.js";import"./arrow-down-DCHNWUQ6.js";import"./arrow-right-pRMus0t-.js";import{OpenLimitOrdersButton as Q}from"./OpenLimitOrdersButton-Dx0HFPxC.js";import"./slash-ayZ3is1Y.js";import"./clickable-D5qUCIhr.js";import{EllipsisStyle as X}from"./ellipsis-DjwAKJIh.js";import"./Links-Xomrvpth.js";import{Column_default as w}from"./Column-ekA0cfjc.js";import{TestID as Y}from"./testIDs-CxYpwoP6.js";import{Trace_default as Z}from"./Trace-DgHN3Ak9.js";import"./Modal.web-DHbL39pN.js";import"./LearnMoreLink-CrJtGK7U.js";import"./useDeviceDimensions-iftoqxuy.js";import{Row_default as j}from"./Row-D0lmZ56K.js";import{MenuState as S,miniPortfolioMenuStateAtom as $}from"./constants-Cf8nqJuy.js";import"./EnvelopeHeart-DxsgNuRq.js";import"./GetHelpHeader-DB6Sgdgo.js";import"./Dialog-DZrFRjU_.js";import"./tryParseCurrencyAmount-Bt3FPZDG.js";import{PortfolioLogo as tt}from"./PortfolioLogo-C-reBpb6.js";import"./CurrencyLogo-CvvmRzOI.js";import"./DoubleLogo-D40dQ2P7.js";import"./styled-qLLlrMEu.js";import"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import"./useHoverProps-BdQsOXMz.js";import"./DetailLineItem-d-0mcMrN.js";import{LoadingBubble as rt}from"./loading-C4pQN7jn.js";import{PortfolioRow as ot,PortfolioSkeleton as it}from"./PortfolioRow-D03IkJcm.js";import{EmptyWalletModule as mt}from"./EmptyWalletContent-KKAW7AY9.js";function pt(r){return D(r)&&F(r)===32}var T=A(M()),t=A(k());const et=a(c.BodySmall)`
  color: ${({theme:r})=>r.neutral2};
  ${X}
  max-width: 100%;
`,nt=a(c.BodySmall)`
  color: ${({theme:r})=>r.neutral2};
  line-height: 24px;
  font-variant: small;
  padding-right: 8px;
  font-feature-settings:
    'tnum' on,
    'lnum' on,
    'ss02' on;
`;function st({activity:{status:r,timestamp:i,offchainOrderDetails:o}}){const p=H(i);switch(r){case l.Pending:return(o==null?void 0:o.type)===G.SIGN_LIMIT?null:(0,t.jsx)(K,{});case l.Success:return(0,t.jsx)(nt,{children:p});case l.Failed:return(0,t.jsx)(R,{});default:return B.error(new Error("Unhandled web transaction status"),{tags:{file:"ActivityRow.tsx",function:"StatusIndicator"},extra:{status:r}}),null}}function lt({activity:r}){const{chainId:i,title:o,descriptor:p,otherAccount:u,currencies:s,hash:m,prefixIconSrc:e,suffixIconSrc:n,offchainOrderDetails:d,logos:I,type:v}=r,y=v===P.Bridging,g=C(),x=W({chainId:i,data:m,type:U.TRANSACTION}),L=(0,T.useCallback)(()=>{if(d){var f,h;g(d,{inputLogo:(f=r.logos)===null||f===void 0?void 0:f[0],outputLogo:(h=r.logos)===null||h===void 0?void 0:h[1]});return}r.status===l.Pending&&!pt(m)||window.open(x,"_blank")},[r.logos,r.status,x,m,d,g]);return(0,t.jsx)(Z,{logPress:!0,element:N.MiniPortfolioActivityRow,properties:{hash:m,chain_id:i,explorer_url:x},children:(0,t.jsx)(ot,{left:(0,t.jsx)(w,{children:(0,t.jsx)(tt,{chainId:i,currencies:s,images:I,accountAddress:u,customIcon:y?V:void 0})}),title:(0,t.jsxs)(j,{align:"space-between","justify-content":"center",children:[(0,t.jsxs)(j,{gap:"4px",children:[e&&(0,t.jsx)("img",{height:"14px",width:"14px",src:e,alt:""}),(0,t.jsx)(c.SubHeader,{children:o}),n&&(0,t.jsx)("img",{height:"14px",width:"14px",src:n,alt:""})]}),(0,t.jsx)(st,{activity:r})]}),descriptor:(0,t.jsx)(et,{color:"neutral2",children:p}),onClick:L})})}const at="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-10037 ",ct=a(w)`
  margin-top: 16px;
  gap: 8px;
`,_=a(Q)`
  width: calc(100% - 32px);
  margin: 0 16px -4px;
`;function Vm({account:r}){const i=J(),o=z($),{activities:p,loading:u}=O(r),s=q(),m=(0,T.useMemo)(()=>E(p,s),[p,s]);return m.length===0?u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rt,{height:"16px",width:"80px",margin:"16px 16px 8px"}),(0,t.jsx)(it,{shrinkRight:!0})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{openLimitsMenu:()=>o(S.LIMITS),account:r}),(0,t.jsx)(mt,{type:"activity",onNavigateClick:i.close})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{openLimitsMenu:()=>o(S.LIMITS),account:r}),(0,t.jsx)(b,{children:m.map(e=>(0,t.jsxs)(ct,{children:[(0,t.jsx)(c.SubHeader,{color:"neutral2",marginLeft:"16px",children:e.title}),(0,t.jsx)("div",{"data-testid":Y.ActivityContent,className:at,children:e.transactions.map(n=>!(s&&n.isSpam)&&(0,t.jsx)(lt,{activity:n},n.hash))})]},e.title))})]})}export{Vm as ActivityTab};
