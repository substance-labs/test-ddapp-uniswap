import{__esm as g,__export as ee}from"./chunk-DgAfPHQg.js";import{BigNumber as y,Logger as re,arrayify as Q,concat as te,getAddress as de,hexConcat as J,hexZeroPad as b,hexlify as M,init_lib as K,init_lib$2 as Ge,init_lib$4 as G,init_lib$5 as ze,init_lib$6 as z,init_lib$7 as ne,isHexString as ae,keccak256 as w,toUtf8Bytes as Y,toUtf8CodePoints as qe,toUtf8String as Re}from"./lib-DPFIyRke.js";var we,xe=g({"../../node_modules/@ethersproject/properties/lib.esm/_version.js"(){we="properties/5.7.0"}}),Pe={};ee(Pe,{Description:()=>Be,checkProperties:()=>je,deepCopy:()=>T,defineReadOnly:()=>D,getStatic:()=>Le,resolveProperties:()=>Xe,shallowCopy:()=>X});function D(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Le(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Xe(r){return pe(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const A=r[n];return Promise.resolve(A).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,A)=>(n[A.key]=A.value,n),{})})}function je(r,e){(!r||typeof r!="object")&&H.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||H.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function X(r){const e={};for(const t in r)e[t]=r[t];return e}function me(r){if(r==null||Ce[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!me(n))return!1}return!0}return H.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function We(r){if(me(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>T(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&D(e,t,T(n))}return e}return H.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function T(r){return We(r)}var pe,H,Ce,Be,Ze=g({"../../node_modules/@ethersproject/properties/lib.esm/index.js"(){ne(),xe(),pe=function(r,e,t,n){function A(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function i(f){try{c(n.next(f))}catch(l){s(l)}}function a(f){try{c(n.throw(f))}catch(l){s(l)}}function c(f){f.done?o(f.value):A(f.value).then(i,a)}c((n=n.apply(r,e||[])).next())})},H=new re(we),Ce={bigint:!0,boolean:!0,function:!0,number:!0,string:!0},Be=class{constructor(r){for(const e in r)this[e]=T(r[e])}}}});function Ae(r){return w(Y(r))}var Ee=g({"../../node_modules/@ethersproject/hash/lib.esm/id.js"(){G(),K()}}),ie,ye=g({"../../node_modules/@ethersproject/hash/lib.esm/_version.js"(){ie="hash/5.7.0"}});function De(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return Q(e)}function Ve(r){r=Q(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}var _e=g({"../../node_modules/@ethersproject/base64/lib.esm/base64.js"(){z()}}),$e={};ee($e,{decode:()=>De,encode:()=>Ve});var er=g({"../../node_modules/@ethersproject/base64/lib.esm/index.js"(){_e()}});function Qe(r,e){e==null&&(e=1);const t=[],n=t.forEach,A=function(o,s){n.call(o,function(i){s>0&&Array.isArray(i)?A(i,s-1):t.push(i)})};return A(r,e),t}function rr(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function tr(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),A=1,o=[0,1];for(let d=1;d<n;d++)o.push(A+=t());let s=t(),i=e;e+=s;let a=0,c=0;function f(){return a==0&&(c=c<<8|r[e++],a=8),c>>--a&1}const l=31,v=Math.pow(2,l),m=v>>>1,Ke=m>>1,N=v-1;let p=0;for(let d=0;d<l;d++)p=p<<1|f();let se=[],S=0,U=v;for(;;){let d=Math.floor(((p-S+1)*A-1)/U),B=0,R=n;for(;R-B>1;){let x=B+R>>>1;d<o[x]?R=x:B=x}if(B==0)break;se.push(B);let C=S+Math.floor(U*o[B]/A),E=S+Math.floor(U*o[B+1]/A)-1;for(;((C^E)&m)==0;)p=p<<1&N|f(),C=C<<1&N,E=E<<1&N|1;for(;C&~E&Ke;)p=p&m|p<<1&N>>>1|f(),C=C<<1^m,E=(E^m)<<1|m|1;S=C,U=1+E-C}let k=n-4;return se.map(d=>{switch(d-k){case 3:return k+65792+(r[i++]<<16|r[i++]<<8|r[i++]);case 2:return k+256+(r[i++]<<8|r[i++]);case 1:return k+r[i++];default:return d-1}})}function nr(r){let e=0;return()=>r[e++]}function Ar(r){return nr(tr(r))}function ir(r){return r&1?~r>>1:r>>1}function or(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function ce(r,e){let t=Array(r);for(let n=0,A=-1;n<r;n++)t[n]=A+=1+e();return t}function sr(r,e){let t=Array(r);for(let n=0,A=0;n<r;n++)t[n]=A+=ir(e());return t}function F(r,e){let t=ce(r(),r),n=r(),A=ce(n,r),o=or(n,r);for(let s=0;s<n;s++)for(let i=0;i<o[s];i++)t.push(A[s]+i);return e?t.map(s=>e[s]):t}function ar(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(fr(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(ur(t,r))}return rr(Qe(e))}function cr(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function ve(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let A=0;A<e;A++)sr(r,t).forEach((o,s)=>n[s].push(o));return n}function fr(r,e){let t=1+e(),n=e(),A=cr(e),o=ve(A.length,1+r,e);return Qe(o.map((s,i)=>{const a=s[0],c=s.slice(1);return Array(A[i]).fill(void 0).map((f,l)=>{let v=l*n;return[a+l*t,c.map(m=>m+v)]})}))}function ur(r,e){let t=1+e();return ve(t,1+r,e).map(A=>[A[0],A.slice(1)])}function lr(r){let e=F(r).sort((n,A)=>n-A);return t();function t(){let n=[];for(;;){let c=F(r,e);if(c.length==0)break;n.push({set:new Set(c),node:t()})}n.sort((c,f)=>f.set.size-c.set.size);let A=r(),o=A%3;A=A/3|0;let s=!!(A&1);A>>=1;let i=A==1,a=A==2;return{branches:n,valid:o,fe0f:s,save:i,check:a}}}var Ie=g({"../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/decoder.js"(){}});function gr(){return Ar(De("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"))}var hr=g({"../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/include.js"(){er(),Ie()}});function Ye(r){return qe(r)}function dr(r){return r.filter(e=>e!=65039)}function Me(r){for(let e of r.split(".")){let t=Ye(e);try{for(let n=t.lastIndexOf(W)-1;n>=0;n--)if(t[n]!==W)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===j&&t[3]===j)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function wr(r){return Me(mr(r,dr))}function mr(r,e){let t=Ye(r).reverse(),n=[];for(;t.length;){let A=Cr(t);if(A){n.push(...e(A));continue}let o=t.pop();if(Te.has(o)){n.push(o);continue}if(He.has(o))continue;let s=Ne[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return Me(pr(String.fromCodePoint(...n)))}function pr(r){return r.normalize("NFC")}function Cr(r,e){var t;let n=Se,A,o,s=[],i=r.length;for(e&&(e.length=0);i;){let a=r[--i];if(n=(t=n.branches.find(c=>c.set.has(a)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)o=a;else if(n.check&&a===o)break;s.push(a),n.fe0f&&(s.push(65039),i>0&&r[i-1]==65039&&i--),n.valid&&(A=s.slice(),n.valid==2&&A.splice(1,1),e&&e.push(...r.slice(i).reverse()),r.length=i)}return A}var I,Te,He,Ne,Se,j,W,Br=g({"../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/lib.js"(){K(),hr(),Ie(),I=gr(),Te=new Set(F(I)),He=new Set(F(I)),Ne=ar(I),Se=lr(I),j=45,W=95}});function fe(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function q(r){const e=Y(wr(r)),t=[];if(r.length===0)return t;let n=0;for(let A=0;A<e.length;A++)e[A]===46&&(t.push(fe(e.slice(n,A))),n=A+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(fe(e.slice(n))),t}function Er(r){return q(r).map(e=>Re(e)).join(".")}function yr(r){try{return q(r).length!==0}catch{}return!1}function Dr(r){typeof r!="string"&&Ue.throwArgumentError("invalid ENS name; not a string","name",r);let e=Z;const t=q(r);for(;t.length;)e=w(te([e,w(t.pop())]));return M(e)}function Qr(r){return M(te(q(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}var Ue,Z,vr=g({"../../node_modules/@ethersproject/hash/lib.esm/namehash.js"(){z(),K(),G(),ne(),ye(),Br(),Ue=new re(ie),Z=new Uint8Array(32),Z.fill(0)}});function Ir(r){return typeof r=="string"&&(r=Y(r)),w(te([Y(oe),Y(String(r.length)),r]))}var oe,Yr=g({"../../node_modules/@ethersproject/hash/lib.esm/message.js"(){z(),G(),K(),oe=`Ethereum Signed Message:
`}});function Mr(r){const e=Q(r),t=e.length%32;return t?J([e,V.slice(t)]):M(e)}function ue(r){return function(e){return typeof e!="string"&&u.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}function P(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&u.throwArgumentError("invalid numeric width","type",r);const A=Oe.mask(t?n-1:n),o=t?A.add($).mul(ke):_;return function(s){const i=y.from(s);return(i.lt(o)||i.gt(A))&&u.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),b(i.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&u.throwArgumentError("invalid bytes width","type",r),function(n){return Q(n).length!==t&&u.throwArgumentError(`invalid length for ${r}`,"value",n),Mr(n)}}}switch(r){case"address":return function(e){return b(de(e),32)};case"bool":return function(e){return e?Je:be};case"bytes":return function(e){return w(e)};case"string":return function(e){return Ae(e)}}return null}function le(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}var ge,u,V,ke,_,$,Oe,Je,be,L,O,he,Fe,Tr=g({"../../node_modules/@ethersproject/hash/lib.esm/typed-data.js"(){Ge(),ze(),z(),G(),Ze(),ne(),ye(),Ee(),ge=function(r,e,t,n){function A(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function i(f){try{c(n.next(f))}catch(l){s(l)}}function a(f){try{c(n.throw(f))}catch(l){s(l)}}function c(f){f.done?o(f.value):A(f.value).then(i,a)}c((n=n.apply(r,e||[])).next())})},u=new re(ie),V=new Uint8Array(32),V.fill(0),ke=y.from(-1),_=y.from(0),$=y.from(1),Oe=y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Je=b($.toHexString(),32),be=b(_.toHexString(),32),L={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},O=["name","version","chainId","verifyingContract","salt"],he={name:ue("name"),version:ue("version"),chainId:function(r){try{return y.from(r).toString()}catch{}return u.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return de(r).toLowerCase()}catch{}return u.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=Q(r);if(e.length!==32)throw new Error("bad length");return M(e)}catch{}return u.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}},Fe=class h{constructor(e){D(this,"types",Object.freeze(T(e))),D(this,"_encoderCache",{}),D(this,"_types",{});const t={},n={},A={};Object.keys(e).forEach(i=>{t[i]={},n[i]=[],A[i]={}});for(const i in e){const a={};e[i].forEach(c=>{a[c.name]&&u.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(i)}`,"types",e),a[c.name]=!0;const f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===i&&u.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),!P(f)&&(n[f]||u.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e),n[f].push(i),t[i][f]=!0)})}const o=Object.keys(n).filter(i=>n[i].length===0);o.length===0?u.throwArgumentError("missing primary type","types",e):o.length>1&&u.throwArgumentError(`ambiguous primary types or unused types: ${o.map(i=>JSON.stringify(i)).join(", ")}`,"types",e),D(this,"primaryType",o[0]);function s(i,a){a[i]&&u.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),a[i]=!0,Object.keys(t[i]).forEach(c=>{n[c]&&(s(c,a),Object.keys(a).forEach(f=>{A[f][c]=!0}))}),delete a[i]}s(this.primaryType,{});for(const i in A){const a=Object.keys(A[i]);a.sort(),this._types[i]=le(i,e[i])+a.map(c=>le(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const A=P(e);if(A)return A}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const A=t[1],o=this.getEncoder(A),s=parseInt(t[3]);return i=>{s>=0&&i.length!==s&&u.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",i);let a=i.map(o);return this._types[A]&&(a=a.map(w)),w(J(a))}}const n=this.types[e];if(n){const A=Ae(this._types[e]);return o=>{const s=n.map(({name:i,type:a})=>{const c=this.getEncoder(a)(o[i]);return this._types[a]?w(c):c});return s.unshift(A),J(s)}}return u.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||u.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return w(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(P(e))return n(e,t);const A=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(A){const s=A[1],i=parseInt(A[3]);return i>=0&&t.length!==i&&u.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(a=>this._visit(s,a,n))}const o=this.types[e];return o?o.reduce((s,{name:i,type:a})=>(s[i]=this._visit(a,t[i],n),s),{}):u.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new h(e)}static getPrimaryType(e){return h.from(e).primaryType}static hashStruct(e,t,n){return h.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const A=L[n];A||u.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:A})}return t.sort((n,A)=>O.indexOf(n.name)-O.indexOf(A.name)),h.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return J(["0x1901",h.hashDomain(e),h.from(t).hash(n)])}static hash(e,t,n){return w(h.encode(e,t,n))}static resolveNames(e,t,n,A){return ge(this,void 0,void 0,function*(){e=X(e);const o={};e.verifyingContract&&!ae(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=h.from(t);s.visit(n,(i,a)=>(i==="address"&&!ae(a,20)&&(o[a]="0x"),a));for(const i in o)o[i]=yield A(i);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(i,a)=>i==="address"&&o[a]?o[a]:a),{domain:e,value:n}})}static getPayload(e,t,n){h.hashDomain(e);const A={},o=[];O.forEach(a=>{const c=e[a];c!=null&&(A[a]=he[a](c),o.push({name:a,type:L[a]}))});const s=h.from(t),i=X(t);return i.EIP712Domain?u.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):i.EIP712Domain=o,s.encode(n),{types:i,domain:A,primaryType:s.primaryType,message:s.visit(n,(a,c)=>{if(a.match(/^bytes(\d*)/))return M(Q(c));if(a.match(/^u?int/))return y.from(c).toString();switch(a){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&u.throwArgumentError("invalid string","value",c),c}return u.throwArgumentError("unsupported type","type",a)})}}}}}),Hr={};ee(Hr,{_TypedDataEncoder:()=>Fe,dnsEncode:()=>Qr,ensNormalize:()=>Er,hashMessage:()=>Ir,id:()=>Ae,isValidName:()=>yr,messagePrefix:()=>oe,namehash:()=>Dr});var Ur=g({"../../node_modules/@ethersproject/hash/lib.esm/index.js"(){Ee(),vr(),Yr(),Tr()}});export{Be as Description,Fe as TypedDataEncoder,je as checkProperties,De as decode,T as deepCopy,D as defineReadOnly,Qr as dnsEncode,Ve as encode,Le as getStatic,Ir as hashMessage,Ae as id,Ur as init_lib,er as init_lib$1,Ze as init_lib$2,yr as isValidName,Hr as lib_exports,$e as lib_exports$1,Pe as lib_exports$2,Dr as namehash,Xe as resolveProperties,X as shallowCopy};
