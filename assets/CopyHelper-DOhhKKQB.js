import{__toESM as g}from"./chunk-DgAfPHQg.js";import{require_react as L}from"./react-CNoFhWkx.js";import{Trans as v}from"./src-DOOtfpHS.js";import{require_jsx_runtime as M}from"./jsx-runtime-D7bMTQeG.js";import{Flex as i,Text as y,isTouchable as S}from"./Loader-D83W8G1W.js";import{check_circle_default as B,copy_default as D,useCopyClipboard as C}from"./copy-bNdbH7uS.js";import{ClickableTamaguiStyle as k}from"./clickable-D5qUCIhr.js";import{EllipsisTamaguiStyle as q}from"./ellipsis-DjwAKJIh.js";var r=g(L());const A=({title:e,titleId:o,...s},l)=>r.createElement("svg",{width:12,height:7,viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":o,...s},e?r.createElement("title",{id:o},e):null,r.createElement("path",{d:"M4.4 1.13333C5.2 0.0666671 6.8 0.0666668 7.6 1.13333L12 7H0L4.4 1.13333Z",fill:"#0D0E0E"})),F=(0,r.forwardRef)(A);var t=g(M());const w=60;function K({isCopyContractTooltip:e,tooltipX:o}){return(0,t.jsxs)(i,{alignItems:"center",position:"absolute",left:e&&o?`${o-w/2}px`:"50%",transform:"translate(5px, 32px)",zIndex:"$tooltip",children:[(0,t.jsx)(F,{path:"black"}),(0,t.jsx)(y,{color:"$white",variant:"body3",borderRadius:"$rounded8",backgroundColor:"$black",textAlign:"center",justifyContent:"center",width:e?"auto":`${w}px`,height:e?"auto":"32px",lineHeight:e?"auto":"32px",children:(0,t.jsx)(v,{i18nKey:"common.copied"})})]})}function X({toCopy:e,children:o}){const[s,l]=C(),a=(0,r.useCallback)(()=>{l(e)},[e,l]);return(0,t.jsxs)(i,{row:!0,onPress:a,justifyContent:"center",alignItems:"center",...k,"$platform-web":{textDecoration:"none"},children:[o,s&&(0,t.jsx)(K,{isCopyContractTooltip:!1})]})}function O(e){return!!(e&&e.offsetWidth<e.scrollWidth)}const z=(0,r.forwardRef)(({InitialIcon:e=D,CopiedIcon:o=n=>(0,t.jsx)(B,{...n,color:"var(--statusSuccess)",strokeWidth:1.5}),toCopy:s,color:l,fontSize:a,iconSize:f=20,gap:u=4,iconPosition:c="left",iconColor:d="currentColor",alwaysShowIcon:_=!1,children:E},$)=>{const[n,m]=C(),x=(0,r.useCallback)(()=>{m(s)},[s,m]);(0,r.useImperativeHandle)($,()=>({forceCopy(){x()}}));const h=(0,r.useRef)(null),H=O(h.current)?u-4:u,[T,b]=(0,r.useState)(!1),I=(0,r.useCallback)(()=>b(!0),[]),W=(0,r.useCallback)(()=>b(!1),[]),j=_||!!(c==="left"||T||S||n),p=n?o:j?e:null,R=j?u+f:0;return(0,t.jsxs)(i,{row:!0,onPress:x,gap:H,onMouseEnter:I,onMouseLeave:W,...k,alignItems:"center","$platform-web":{color:l??"inherit"},children:[c==="left"&&p&&(0,t.jsx)(p,{size:f,strokeWidth:1.5,color:d}),(0,t.jsx)(i,{ref:h,maxWidth:`calc(100% - ${R+"px"})`,...q,"$platform-web":{fontSize:a||"inherit"},children:n&&c==="left"?(0,t.jsx)(y,{children:(0,t.jsx)(v,{i18nKey:"common.copied"})}):E}),(0,t.jsx)(i,{"$platform-web":{clear:"both"}}),c==="right"&&p&&(0,t.jsx)(p,{size:f,strokeWidth:1.5,color:d})]})});z.displayName="CopyHelper";export{z as CopyHelper,X as CopyToClipboard};
