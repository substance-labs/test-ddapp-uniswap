import{__toESM as N}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as H}from"./react-CNoFhWkx.js";import{AnimatePresence as L,TouchableArea as G}from"./src-DOOtfpHS.js";import{useTranslation as U}from"./useTranslation-BotBuoJf.js";import"./index.web-BqgtOHN3.js";import"./constants-CrXoXfFH.js";import"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import{useNavigate as B}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as F}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as W}from"./useEnabledChains-DuB86c95.js";import{useEvent as z}from"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import{ZERO_ADDRESS as E}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import"./currencyId-Ci6selsx.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import"./features-yACC1hVw.js";import"./interface-BdpC4qOF.js";import{ElementName as K}from"./element-Wnp4RkdY.js";import"./modal-Dvm06CN4.js";import"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./call-CTDbaN-t.js";import"./parseAccount-CRyN5swV.js";import"./encodeFunctionData-CD63gkvM.js";import"./stringify-B82RFruy.js";import"./rpc-nQR4Ijs4.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./V3DutchOrderTrade-Cl7yELmp.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./v2-sdk.esm-CIiDMO7F.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import"./getCurrencyAmount-vvZpAzIm.js";import"./addresses-D56PBUHX.js";import"./currency-DIOEzjz2.js";import"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./erc20-CdGGKIp0.js";import"./objects-DlLkJwrJ.js";import"./send.web-CrSXW2rw.js";import"./TradingApiClient-Cp_0ez5S.js";import"./ProtocolItems-DhZWSiXS.js";import"./selectors-BwkayGDl.js";import"./useUSDCPrice-HO7Wgroz.js";import"./balances-DV0Wvmri.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./mutation-CRQvRc5_.js";import"./infiniteQueryBehavior-C10I_UVS.js";import{useGetPositionsQuery as I}from"./getPositions-B2zd3dQ2.js";import"./connector-Cw8HJLtm.js";import"./queryOptions-P48mrm5X.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./use-query-8AOGtvlP.js";import"./promise-client-BYLTs0DC.js";import"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import{PositionStatus as b,ProtocolVersion as l}from"./types_pb-yZxlo4b1.js";import"./hooks-Dhx5teK4.js";import"./transactionDetails-BsNW_jus.js";import"./types-JuyYLR0O.js";import"./LocalizationContext-B31peW1_.js";import"./getAlertColor-J5DrJWHv.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import"./useSupportedChainId-DskHoisQ.js";import"./useWallet-CL5owP9P.js";import"./TraceContext-Ddfk7zjz.js";import"./readContract-Cae4hIjn.js";import"./createBatchScheduler-BJBpfhFD.js";import"./multicall-BYS6jvE9.js";import"./getAction-BBhbL9mE.js";import{useAccount as Q}from"./useAccount-C5hwiBwN.js";import"./config-CDfnfyHL.js";import"./useReadContracts-Orb8TypL.js";import"./wagmi-CsUiFCSO.js";import{useSwitchChain as Z}from"./useSwitchChain-CY8eYAUF.js";import"./query-qNZtVuxH.js";import"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./hex-njd-4N-2.js";import"./noop-BDbB2pLB.js";import"./v4-D6Rlvprs.js";import"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./Anchor-B1nkrQbP.js";import"./HeightAnimator-DF8znv78.js";import"./urls-aCnKF23w.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import{LiquidityPositionCard as J}from"./LiquidityPositionCard-BpA_IBXB.js";import"./CopyAlt-CU_LJNbN.js";import"./LpIncentivesAprDisplay-DAZ9W112.js";import"./Eye-D482ahgC.js";import"./EyeOff-BiBJTOh0.js";import"./LiquidityPositionRangeChart-CJw3rPyq.js";import"./InfoCircleFilled-CBAL5Wj0.js";import"./Minus-CNfbH3_0.js";import"./MoreHorizontal-BC-VtLFW.js";import"./Plus-_LmEFxOC.js";import"./SplitLogo-Ct--07LT.js";import"./LiquidityPositionInfo-Cs-PVI1A.js";import"./reducer-CcXO4HTO.js";import"./prices-BzyZhpWW.js";import"./timing-DsWr56iv.js";import"./experiments-rc6XUB0U.js";import"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import"./reducer-1kwGyyVS.js";import"./actions-Budqlwp-.js";import"./slice-CaJcHsUP.js";import"./usePrevious-CggM0Zir.js";import"./hooks-Muz170pO.js";import"./chainParams-DIOvplzi.js";import"./TokenLogo-JlSSDr3Q.js";import{useAccountDrawer as O}from"./hooks-CRfHBoLD.js";import"./use-transport-CPomNX05.js";import"./types-OmNOta2_.js";import"./useMultichainContext-BVmgxqO2.js";import"./ErrorBoundary-oYzyK_hY.js";import"./useIsMobile-Cq3RSgOi.js";import"./styled-components-DbVO3u5J.js";import"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import"./CopyHelper-DOhhKKQB.js";import"./copy-bNdbH7uS.js";import"./prop-types-BL9JsGr9.js";import"./clickable-D5qUCIhr.js";import"./ellipsis-DjwAKJIh.js";import"./Links-Xomrvpth.js";import{Trace_default as X}from"./Trace-DgHN3Ak9.js";import"./pools-5GjP-hMy.js";import"./ContextMenuV2.web-DtsTwCPj.js";import"./useBooleanState-QNOWYlXb.js";import"./Badge-vnMif72r.js";import"./bundle.esm-B4P3X753.js";import"./api-PoolsService_connectquery-N1pfS4Yc.js";import"./tryParseCurrencyAmount-Bt3FPZDG.js";import"./CurrencyLogo-CvvmRzOI.js";import"./DoubleLogo-D40dQ2P7.js";import"./useOnClickOutside-B5O2_6zc.js";import"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import"./useHoverProps-BdQsOXMz.js";import"./loading-C4pQN7jn.js";import{PortfolioSkeleton as Y}from"./PortfolioRow-D03IkJcm.js";import{EmptyWalletModule as oo}from"./EmptyWalletContent-KKAW7AY9.js";import{ExpandoRow as S}from"./ExpandoRow-ByvAjPmx.js";import"./AdaptiveDropdown-Cv1C9ooR.js";import"./util-CfowgtYu.js";import"./currency-Brc-ymXr.js";import"./protocolVersion-Djp_Gxjw.js";import"./networkSupportsV4-CXcYAtrx.js";import"./usePools-Bz9FGvMj.js";import"./getTickToPrice-BudeFeQp.js";import"./priceRangeInfo-DbHE3vOq.js";import"./LPIncentiveFeeStatTooltip-CknsSvzz.js";import"./useLpIncentivesFormattedEarnings-Cp8RbAci.js";import"./feeTiers-D9BvLkmt.js";import"./LiquidityPositionInfoBadges-DdjNrqYk.js";import{getPositionUrl as io}from"./getPositionUrl-Cmm1Puj7.js";import{parseRestPosition as C}from"./parseFromRest-Dp36Fdyo.js";import{usePositionVisibilityCheck as to}from"./usePositionVisibilityCheck-Bx-HbV5v.js";var a=N(H()),i=N(F());const y="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa1360334080 ";function A(t){return!!t}function j(t){const{chainId:p}=t;return t.version===l.V2?`${t.liquidityToken.address}-${p}`:`${t.tokenId}-${p}`}function Gr({account:t}){const{t:p}=U(),{chains:e}=W(),u=to(),{data:m,isLoading:d}=I({address:t,chainIds:e,positionStatuses:[b.IN_RANGE,b.OUT_OF_RANGE],protocolVersions:[l.V2,l.V3,l.V4],includeHidden:!0}),{data:r}=I({address:t,chainIds:e,positionStatuses:[b.CLOSED],protocolVersions:[l.V2,l.V3,l.V4],includeHidden:!0}),s=(0,a.useMemo)(()=>m==null?void 0:m.positions.map(C).filter(A),[m==null?void 0:m.positions]),n=(0,a.useMemo)(()=>r==null?void 0:r.positions.map(C).filter(A),[r==null?void 0:r.positions]),[h,f]=(0,a.useReducer)(o=>!o,!1),[_,P]=(0,a.useState)(!1),{visibleOpenPositions:v,visibleClosedPositions:x,hiddenPositions:g}=(0,a.useMemo)(()=>{function o(q=[]){const V=[],w=[];return q.forEach(c=>{u({poolId:c.poolId,tokenId:c.tokenId,chainId:c.chainId,isFlaggedSpam:c.isHidden})?V.push(c):w.push(c)}),{visible:V,hidden:w}}const{visible:M,hidden:R}=o(s),{visible:T,hidden:$}=o(n);return{visibleOpenPositions:M,visibleClosedPositions:T,hiddenPositions:[...R,...$]}},[s,n,u]),D=O();return!s&&d?(0,i.jsx)(Y,{}):!s||s.length===0&&(n==null?void 0:n.length)===0?(0,i.jsx)(oo,{type:"pool",onNavigateClick:D.close}):(0,i.jsxs)(L,{children:[(0,i.jsx)("div",{className:y,children:v.map(o=>(0,i.jsx)(k,{positionInfo:o},j(o)))}),x.length>0&&(0,i.jsx)(S,{title:p("liquidityPool.positions.closed.title"),isExpanded:h,toggle:f,numItems:x.length,children:(0,i.jsx)("div",{className:y,children:x.map(o=>(0,i.jsx)(k,{positionInfo:o},j(o)))})}),g.length>0&&(0,i.jsx)(S,{title:p("common.hidden"),isExpanded:_,toggle:()=>P(o=>!o),numItems:g.length,children:(0,i.jsx)("div",{className:y,children:g.map(o=>(0,i.jsx)(k,{positionInfo:o,isVisible:!1},j(o)))})})]})}function k({positionInfo:t,isVisible:p=!0}){const{chainId:e,currency0Amount:u,currency1Amount:m}=t,d=u.currency,r=m.currency,s=B(),n=O(),h=Q(),f=Z(),_=io(t),P=z(async()=>{h.chainId!==e&&await f(e),n.close(),s(_)}),v=(0,a.useMemo)(()=>({chain_id:e,pool_token_0_symbol:d.symbol,pool_token_1_symbol:r.symbol,pool_token_0_address:d.isToken?d.wrapped.address:E,pool_token_1_address:r.isToken?r.wrapped.address:E}),[e,d,r]);return(0,i.jsx)(X,{logPress:!0,element:K.MiniPortfolioPoolsRow,properties:v,children:(0,i.jsx)(G,{onPress:P,mx:"$spacing16",children:(0,i.jsx)(J,{isMiniVersion:!0,liquidityPosition:t,showVisibilityOption:!0,isVisible:p})})})}export{Gr as default};
