import{__toESM as ye}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as Or}from"./react-CNoFhWkx.js";import{Button as X,Chevron as Tr,Image as Ge,ModalCloseIcon as Ve,RotatableChevron as Dr,TouchableArea as Pr,Trans as re,UniversalImage as Nr,YStack as Ke,createContextScope as Mr,useIsDarkMode as Br,useIsShortMobileDevice as Wr,useScrollbarStyles as Ye,useSporeColors as Xe}from"./src-DOOtfpHS.js";import{useTranslation as q}from"./useTranslation-BotBuoJf.js";import{isWeb as fe}from"./index.web-BqgtOHN3.js";import{useUrlContext as zr}from"./constants-CrXoXfFH.js";import"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import{useNavigate as Er,useSearchParams as ge}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as Lr}from"./jsx-runtime-D7bMTQeG.js";import"./useEnabledChains-DuB86c95.js";import{logger as Hr,usePrevious as Ur}from"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import{RampDirection as P,createOnRampTransactionId as qr,getCountryFlagSvgUrl as Ze,isBadRequestAmountTooHigh as Qr,isBadRequestAmountTooLow as Gr,isFiatOnRampApiError as Vr,isInvalidRequestAmountTooHigh as Kr,isInvalidRequestAmountTooLow as Yr,skipToken as xe,useFiatOnRampAggregatorCountryListQuery as Xr,useFiatOnRampAggregatorCryptoQuoteQuery as Zr,useFiatOnRampAggregatorGetCountryQuery as Jr,useFiatOnRampAggregatorOffRampTransferDetailsQuery as eo,useFiatOnRampAggregatorOffRampWidgetQuery as ro,useFiatOnRampAggregatorSupportedFiatCurrenciesQuery as oo,useFiatOnRampAggregatorSupportedTokensQuery as to,useFiatOnRampAggregatorWidgetQuery as no}from"./api-BsCrUy1C.js";import{CurrencyAmount as io,UniverseChainId as _e,bubbleToTop as so,init_sdk_core_esm as ao}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import{buildCurrencyId as co,currencyId as Fe}from"./currencyId-Ci6selsx.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import{FiatOffRampEventName as le,FiatOnRampEventName as se}from"./features-yACC1hVw.js";import"./interface-BdpC4qOF.js";import{ElementName as Je}from"./element-Wnp4RkdY.js";import{ModalName as Z}from"./modal-Dvm06CN4.js";import{InterfacePageName as lo}from"./page-zDkoCQe4.js";import{UniswapEventName as uo}from"./uniswap-Bm-6KILn.js";import"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./call-CTDbaN-t.js";import"./parseAccount-CRyN5swV.js";import"./encodeFunctionData-CD63gkvM.js";import"./stringify-B82RFruy.js";import"./rpc-nQR4Ijs4.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./V3DutchOrderTrade-Cl7yELmp.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./v2-sdk.esm-CIiDMO7F.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import"./types-DbOmsKtk.js";import"./getCurrencyAmount-vvZpAzIm.js";import{isAddress as po,shortenAddress as er}from"./addresses-D56PBUHX.js";import{getSymbolDisplayText as Oe}from"./currency-DIOEzjz2.js";import"./reducer-26KeQlno.js";import{require_ms as mo}from"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./providers-BELGpWsr.js";import"./erc20-CdGGKIp0.js";import"./getContract-CMwwszTa.js";import{nativeOnChain as rr}from"./objects-DlLkJwrJ.js";import"./analytics-Ccvj1WVk.js";import{sendAnalyticsEvent as Q}from"./send.web-CrSXW2rw.js";import"./TradingApiClient-Cp_0ez5S.js";import"./ProtocolItems-DhZWSiXS.js";import"./selectors-BwkayGDl.js";import{getTokenWarningSeverity as fo,useUSDValueOfGasFee as xo}from"./useUSDCPrice-HO7Wgroz.js";import{usePortfolioBalances as _o}from"./balances-DV0Wvmri.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./mutation-CRQvRc5_.js";import"./infiniteQueryBehavior-C10I_UVS.js";import"./getPositions-B2zd3dQ2.js";import{useMutation as ho}from"./connector-Cw8HJLtm.js";import"./queryOptions-P48mrm5X.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./use-query-8AOGtvlP.js";import"./promise-client-BYLTs0DC.js";import{uniswapUrls as or}from"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import"./types_pb-yZxlo4b1.js";import"./hooks-Dhx5teK4.js";import"./transactionDetails-BsNW_jus.js";import{NumberType as G}from"./types-JuyYLR0O.js";import{getFiatCurrencyComponents as vo,getFiatCurrencyName as yo,useAppFiatCurrency as tr,useFiatCurrencyComponents as nr,useLocalizationContext as ee}from"./LocalizationContext-B31peW1_.js";import{WarningSeverity as me}from"./getAlertColor-J5DrJWHv.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import{useSupportedChainId as go}from"./useSupportedChainId-DskHoisQ.js";import"./useWallet-CL5owP9P.js";import"./TraceContext-Ddfk7zjz.js";import"./queryOptions-Dj3qRbwo.js";import{PopupType as bo,SwitchNetworkAction as Te,popupRegistry as ir}from"./types-BSmAADNJ.js";import"./readContract-Cae4hIjn.js";import"./getBalance-TsPVbzB5.js";import"./createBatchScheduler-BJBpfhFD.js";import"./createTransport-WEDNYdh5.js";import"./useEthersProvider-CBgc_azi.js";import"./multicall-BYS6jvE9.js";import"./getAction-BBhbL9mE.js";import{useAccount as oe}from"./useAccount-C5hwiBwN.js";import"./config-CDfnfyHL.js";import{useCurrencyBalance as Co,useTokenBalances as Io}from"./useCurrencyBalance-BuHM_Z2M.js";import"./useReadContracts-Orb8TypL.js";import"./wagmi-CsUiFCSO.js";import"./useSwitchChain-CY8eYAUF.js";import"./useAccountEffect-CHrs5vTR.js";import"./query-qNZtVuxH.js";import"./useReadContract-DodDFlY8.js";import"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./hex-njd-4N-2.js";import"./slice-qANrfSbi.js";import"./noop-BDbB2pLB.js";import"./walletMeta-DaLhfhet.js";import"./signing-DH5GfhKu.js";import"./i18n-CroUvoJw.js";import"./v4-D6Rlvprs.js";import"./errors-BaezSPLl.js";import"./swapErrorToUserReadableMessage-DgHZMHU-.js";import{Flex as W,Text as w,concatClassName as So,getTokens as jo,getVariableValue as ko,iconSizes as J,styled as z,useMedia as sr,withStaticProperties as Ro}from"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./Anchor-B1nkrQbP.js";import{AlternateCurrencyDisplay as wo,Square as Ao,TimePast as $o,getShapeSize as Fo,useCreateTransferTransaction as Oo,useSendCallback as To,useUSDTokenUpdater as Do}from"./AlternateCurrencyDisplay-BcahpX0q.js";import{NetworkFeeWarning as Po}from"./NetworkFee-D_F4jDwh.js";import"./urls-aCnKF23w.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import{AlertTriangleFilled as No}from"./AlertTriangleFilled-C9tf2eUJ.js";import{ArrowDown as Mo}from"./ArrowDown-B8kFPZPX.js";import"./Blocked-BNx3Epiv.js";import{ExternalLink as Bo}from"./ExternalLink-DO2F__JQ.js";import"./InfoCircleFilled-CBAL5Wj0.js";import{FixedSizeList as Wo,VariableSizeList as zo}from"./index.esm-CLP40SHA.js";import"./UniswapX-CtuHCpO-.js";import"./reducer-CcXO4HTO.js";import{NATIVE_CHAIN_ID as Eo}from"./tokens-Dxd89cHj.js";import"./prices-BzyZhpWW.js";import{useDebounce as Lo,useInterval as Ho}from"./timing-DsWr56iv.js";import"./experiments-rc6XUB0U.js";import"./SwapFormStoreContext-3NrPQE3L.js";import{buildPartialCurrencyInfo as Uo,useCurrencyInfo as qo}from"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import{updateFiatOnRampTransaction as Qo}from"./constants-BNEwFtLH.js";import"./slice-DoLbOto3.js";import"./slice-CI92BTuM.js";import{useAppDispatch as Go}from"./hooks-Muz170pO.js";import{FiatOnRampTransactionStatus as ae,FiatOnRampTransactionType as De,useAddFiatOnRampTransaction as Vo,useFiatOnRampTransactions as Ko}from"./types-00FZ6Wno.js";import{getChainUrlParam as Yo}from"./chainParams-DIOvplzi.js";import"./util-BZ6kLG7e.js";import{GasSpeed as Xo,meldSupportedCurrencyToCurrencyInfo as Zo,useTransactionGasFee as Jo}from"./LimitDisclaimer-C4dN_xEH.js";import"./useContract-CKZ4cOLX.js";import"./UniswapInterfaceMulticall-DLE8QJ-2.js";import"./TokenLogo-JlSSDr3Q.js";import{statusToTransactionInfoStatus as et}from"./utils-CjNzOxi9.js";import"./hooks-BA_A7Su9.js";import{useAccountDrawer as rt}from"./hooks-CRfHBoLD.js";import"./use-transport-CPomNX05.js";import"./useEthersSigner-kdo6Ipah.js";import"./types-OmNOta2_.js";import"./useMultichainContext-BVmgxqO2.js";import"./Dividers-D5mIbKhU.js";import{showSwitchNetworkNotification as ot}from"./showSwitchNetworkNotification-C9hFtpTD.js";import"./useIsWindowVisible-CtuFA8fK.js";import"./useIsMobile-Cq3RSgOi.js";import{styled_components_default as ar}from"./styled-components-DbVO3u5J.js";import{ThemedText as tt}from"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import"./prop-types-BL9JsGr9.js";import"./arrow-left-64Zt5ugC.js";import{ClickableTamaguiStyle as nt}from"./clickable-D5qUCIhr.js";import"./Links-Xomrvpth.js";import{useWeb3React as it}from"./web3reactShim-CQtxnXhb.js";import"./Column-ekA0cfjc.js";import{TestID as he}from"./testIDs-CxYpwoP6.js";import{PAGE_WRAPPER_MAX_WIDTH as st}from"./styled-Cb09-IEr.js";import{Trace_default as be}from"./Trace-DgHN3Ak9.js";import{Modal as te}from"./Modal.web-DHbL39pN.js";import"./WarningModal-f8Gfhd_G.js";import"./InfoTooltip.web-CkgGEmd3.js";import"./assets-D-uPpcBZ.js";import"./LearnMoreLink-CrJtGK7U.js";import{AutoSizer as cr,WarningIcon as lr,useDismissedTokenWarnings as at}from"./react-virtualized-auto-sizer.esm-5JBVmqYi.js";import{useDynamicFontSizing as ct}from"./useDynamicFontSizing-DOxjEhTh.js";import"./pools-5GjP-hMy.js";import{RowBetween as lt}from"./Row-D0lmZ56K.js";import"./Pill-Bbfdbo1q.js";import{useResizeObserver as dt}from"./bundle.esm-B4P3X753.js";import"./api-PoolsService_connectquery-N1pfS4Yc.js";import{currencyKey as dr}from"./currencyKey-B-LQIyOE.js";import"./EnvelopeHeart-DxsgNuRq.js";import{GetHelpHeader as ur}from"./GetHelpHeader-DB6Sgdgo.js";import{Dialog as ut}from"./Dialog-DZrFRjU_.js";import{ContentWrapper as Ce,formatFORErrorAmount as Pe,formatFiatOnRampFiatAmount as pt,getOnRampInputAmount as pr,parseAndFormatFiatOnRampFiatAmount as Ne}from"./shared-D1rwQsrh.js";import"./tryParseCurrencyAmount-Bt3FPZDG.js";import{CurrencyLogo as Ie}from"./CurrencyLogo-CvvmRzOI.js";import"./styled-qLLlrMEu.js";import"./NumericalInput-wkthWxek.js";import{ApprovedCheckmarkIcon as mt}from"./iconExports-DR2SoqU0.js";import{NumericalInputMimic as ft,NumericalInputSymbolContainer as xt,NumericalInputWrapper as _t,StyledNumericalInput as ht,useWidthAdjustedDisplayValue as vt}from"./shared-EXoQIK7V.js";import{MouseoverTooltip as ve,TooltipSize as yt}from"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import"./useHoverProps-BdQsOXMz.js";import"./DetailLineItem-d-0mcMrN.js";import"./hooks-ViKlw47o.js";import{FORQuoteItem as gt,ProviderConnectedView as bt,ProviderConnectionError as Ct}from"./ProviderConnectionError-DkCYDieb.js";import{ForwardRef as It}from"./search-Buiy5VA5.js";import"./useTokenAllowance-B1d-BbCj.js";import{PredefinedAmount as Me}from"./PredefinedAmount-D_ex-B61.js";import{DropdownController as St}from"./SwapDetails-CgubqLa5.js";import"./SwapLineItem-CkeBjgN3.js";var Y=(function(r){function o(i){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(i)}function t(i,c){if(o(i)!="object"||!i)return i;var v=i[Symbol.toPrimitive];if(v!==void 0){var _=v.call(i,c||"default");if(o(_)!="object")return _;throw TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function n(i){var c=t(i,"string");return o(c)=="symbol"?c:c+""}function s(i,c,v){return(c=n(c))in i?Object.defineProperty(i,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):i[c]=v,i}return r.defineProperty=s,r})({}),d=ye(Or(),1),e=ye(Lr(),1);const de="Avatar",[jt,fl]=Mr(de),[kt,mr]=jt(de),fr="AvatarImage",xr=d.forwardRef((r,o)=>{var t;const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...c}=r,v=mr(fr,n),[_,h]=d.useState("idle"),g=ko((t=Fo(v.size,{tokens:jo()}))===null||t===void 0?void 0:t.width);return d.useEffect(()=>{h("idle")},[JSON.stringify(s)]),d.useEffect(()=>{i(_),v.onImageLoadingStatusChange(_)},[_]),(0,e.jsx)(Ke,{fullscreen:!0,zIndex:1,children:(0,e.jsx)(Ge,{fullscreen:!0,...typeof g=="number"&&!Number.isNaN(g)&&{width:g,height:g},...c,ref:o,src:s,onError:()=>{h("error")},onLoad:()=>{h("loaded")}})})});xr.displayName=fr;const Se="AvatarFallback",Be=z(Ke,{name:Se,position:"absolute",fullscreen:!0,zIndex:0}),_r=Be.extractable(d.forwardRef((r,o)=>{const{__scopeAvatar:t,delayMs:n,...s}=r,i=mr(Se,t),[c,v]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const _=setTimeout(()=>v(!0),n);return()=>clearTimeout(_)}},[n]),c&&i.imageLoadingStatus!=="loaded"?(0,e.jsx)(Be,{...s,ref:o}):null}));_r.displayName=Se;const Rt=z(Ao,{name:de,position:"relative",overflow:"hidden"}),ce=Ro(d.forwardRef((r,o)=>{const{__scopeAvatar:t,size:n="$true",...s}=r,[i,c]=d.useState("idle");return(0,e.jsx)(kt,{size:n,scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:(0,e.jsx)(Rt,{size:n,...s,ref:o})})}),{Image:xr,Fallback:_r});ce.displayName=de;const hr={...vo("en-US","USD"),symbol:"$",name:"United States Dollar",shortName:"USD",code:"USD"};function wt(r){const{data:o}=oo({countryCode:(r==null?void 0:r.countryCode)??"US"}),t=tr(),n=nr(t),{t:s}=q(),i=o&&o.fiatCurrencies.some(v=>t.toLowerCase()===v.fiatCurrencyCode.toLowerCase());return{meldSupportedFiatCurrency:(0,d.useMemo)(()=>{const{name:v,shortName:_}=yo(s,t),h={...n,name:v,shortName:_,code:t};return i?h:hr},[t,i,n,s]),notAvailableInThisRegion:(o==null?void 0:o.fiatCurrencies.length)===0}}function At(r,o){const{data:t}=to({fiatCurrency:r.code,countryCode:o??"US"});return(0,d.useMemo)(()=>(t==null?void 0:t.supportedTokens.map(n=>{const s=n.cryptoCurrencyCode;return{currencyInfo:Zo(n),meldCurrencyCode:s}}))??[],[t==null?void 0:t.supportedTokens])}function $t(){const[r]=ge(),o=r.get("externalTransactionId"),t=r.get("baseCurrencyCode"),n=r.get("baseCurrencyAmount"),s=r.get("depositWalletAddress");return(0,d.useMemo)(()=>t&&n&&s?{moonpayDetails:{baseCurrencyCode:t,baseCurrencyAmount:Number(n),depositWalletAddress:s}}:o?{meldDetails:{sessionId:o}}:null,[t,n,s,o])}var B=class extends Error{constructor(r){super(r),this.message=r}};const xl=Uo(rr(_e.Mainnet)),vr={inputAmount:"",inputInFiat:!0,quoteCurrency:void 0,selectedCountry:void 0,countryModalOpen:!1,currencyModalOpen:!1,providerModalOpen:!1,rampDirection:P.ONRAMP,selectedUnsupportedCurrency:void 0,moonpayOnly:!1},yr=(0,d.createContext)({buyFormState:vr,setBuyFormState:()=>{},derivedBuyFormInfo:{meldSupportedFiatCurrency:void 0,notAvailableInThisRegion:!1,countryOptionsResult:void 0,supportedTokens:[],amountOut:void 0,amountOutLoading:!1,quotes:void 0,fetchingQuotes:!1,error:void 0}});function ue(){return(0,d.useContext)(yr)}function Ft(r){var o,t,n,s,i;const{t:c}=q(),v=oe(),_=Lo(r.inputAmount),{formattedAmount:h,loading:g}=Do({isFiatInput:r.inputInFiat,exactAmount:_,exactCurrency:(o=r.quoteCurrency)===null||o===void 0||(o=o.currencyInfo)===null||o===void 0?void 0:o.currency}),l=Co(v.address,(t=r.quoteCurrency)===null||t===void 0||(t=t.currencyInfo)===null||t===void 0?void 0:t.currency),{meldSupportedFiatCurrency:b,notAvailableInThisRegion:A}=wt(r.selectedCountry),{data:m}=Xr({rampDirection:r.rampDirection}),p=At(b,(n=r.selectedCountry)===null||n===void 0?void 0:n.countryCode),u=(0,d.useMemo)(()=>pr({rampDirection:r.rampDirection,inputAmount:_,amountOut:h??"0",inputInFiat:r.inputInFiat}),[r.rampDirection,_,h,r.inputInFiat]),[C,y]=(0,d.useMemo)(()=>{var S,F;return r.rampDirection===P.ONRAMP?[b.code,(S=r.quoteCurrency)===null||S===void 0?void 0:S.meldCurrencyCode]:[(F=r.quoteCurrency)===null||F===void 0?void 0:F.meldCurrencyCode,b.code]},[b,r.quoteCurrency,r.rampDirection]),{data:I,isFetching:f,error:k}=Zr(_&&_!==""&&h&&h!==""&&v.address&&(!((s=r.selectedCountry)===null||s===void 0)&&s.countryCode)&&C&&y?{sourceAmount:parseFloat(u),sourceCurrencyCode:C,destinationCurrencyCode:y,countryCode:r.selectedCountry.countryCode,walletAddress:v.address,state:r.selectedCountry.state,rampDirection:r.rampDirection}:xe,{refetchOnMountOrArgChange:!0}),{formatNumberOrString:R}=ee(),O=(0,d.useMemo)(()=>{if(r.rampDirection===P.OFFRAMP&&u&&l&&Number(u)>Number(l.toExact()))return new B(c("fiatOffRamp.error.balance"));if(k&&Vr(k)){if(Yr(k)){var S;const x=k,N=x.data.context.unit==="fiat",H=(S=r.quoteCurrency)===null||S===void 0||(S=S.currencyInfo)===null||S===void 0?void 0:S.currency,E=Pe({amount:x.data.context.minimumAllowed,isFiat:N,fiatCurrencyInfo:b,quoteCurrency:H,formatNumberOrString:R,getSymbolDisplayText:Oe});return E?new B(c("fiatOnRamp.error.min",{amount:E})):new B(c("common.card.error.description"))}if(Kr(k)){var F;const x=k,N=(F=r.quoteCurrency)===null||F===void 0||(F=F.currencyInfo)===null||F===void 0?void 0:F.currency,H=x.data.context.unit==="fiat",E=Pe({amount:x.data.context.maximumAllowed,isFiat:H,fiatCurrencyInfo:b,quoteCurrency:N,formatNumberOrString:R,getSymbolDisplayText:Oe});return E?new B(c("fiatOnRamp.error.max",{amount:E})):new B(c("common.card.error.description"))}if(Gr(k)){const x=Ne(k.data.context,b);return x?new B(c("fiatOnRamp.error.min",{amount:x})):new B(c("common.card.error.description"))}if(Qr(k)){const x=Ne(k.data.context,b);return x?new B(c("fiatOnRamp.error.max",{amount:x})):new B(c("common.card.error.description"))}return new B(c("common.card.error.description"))}if(_&&(I!=null&&I.quotes)&&I.quotes.length===0)return new B(c("fiatOnRamp.noQuotes.error"))},[l,R,_,b,u,I==null?void 0:I.quotes,k,(i=r.quoteCurrency)===null||i===void 0||(i=i.currencyInfo)===null||i===void 0?void 0:i.currency,r.rampDirection,c]);return(0,d.useMemo)(()=>({amountOut:h,amountOutLoading:g,notAvailableInThisRegion:A,meldSupportedFiatCurrency:b,supportedTokens:p,countryOptionsResult:m,quotes:I,fetchingQuotes:f,error:O}),[h,g,m,O,f,b,A,I,p])}function Ot({children:r,rampDirection:o}){const[t,n]=(0,d.useState)({...vr,rampDirection:o}),s=Ft(t),i=(0,d.useMemo)(()=>({buyFormState:t,setBuyFormState:n,derivedBuyFormInfo:s}),[t,s]);return(0,e.jsx)(yr.Provider,{value:i,children:r})}function Tt({forceDisabled:r}){const o=oe(),t=rt(),{t:n}=q(),s=Wr(),{buyFormState:i,derivedBuyFormInfo:c,setBuyFormState:v}=ue(),{inputAmount:_,quoteCurrency:h}=i,{notAvailableInThisRegion:g,quotes:l,fetchingQuotes:b,error:A}=c,m=s?"small":"large";return o.isConnected?!_||r||g||!h?(0,e.jsx)(X,{size:m,isDisabled:!0,children:n(g?"common.notAvailableInRegion.error":h?"common.noAmount.error":"common.selectToken.label")},"BuyFormButton"):(0,e.jsx)(X,{size:m,variant:"branded",loading:b,isDisabled:!!(b||!l||!l.quotes||l.quotes.length===0||A),onPress:()=>{v(p=>({...p,providerModalOpen:!0}))},children:n("common.button.continue")},"BuyFormButton"):(0,e.jsx)(X,{size:m,variant:"branded",emphasis:"secondary",fill:!0,onPress:t.open,children:n("common.connectWallet.button")})}function We({quote:r,selectedCountry:o,quoteCurrencyCode:t,inputAmount:n,meldSupportedFiatCurrency:s,walletAddress:i,setConnectedProvider:c,setErrorProvider:v,rampDirection:_}){const h=Vo(),g=(0,d.useMemo)(()=>qr(r.serviceProviderDetails.serviceProvider),[r.serviceProviderDetails.serviceProvider]),l=(0,d.useMemo)(()=>{const R=new URL("/buy",window.location.origin);return{serviceProvider:r.serviceProviderDetails.serviceProvider,countryCode:o.countryCode,destinationCurrencyCode:t,sourceAmount:parseFloat(n),sourceCurrencyCode:s.code,walletAddress:i,externalSessionId:g,redirectUrl:R.toString()}},[g,n,s.code,r.serviceProviderDetails.serviceProvider,t,o.countryCode,i]),b=(0,d.useMemo)(()=>{const R=new URL("/sell",window.location.origin);return R.searchParams.set("externalTransactionId",g),{serviceProvider:r.serviceProviderDetails.serviceProvider,countryCode:o.countryCode,baseCurrencyCode:t,sourceAmount:parseFloat(n),quoteCurrencyCode:s.code,refundWalletAddress:i,externalCustomerId:i,externalSessionId:g,redirectUrl:R.toString()}},[g,n,s.code,r.serviceProviderDetails.serviceProvider,t,o.countryCode,i]),{data:A,error:m,isLoading:p}=no(_===P.ONRAMP?l:xe),{data:u,error:C,isLoading:y}=ro(_===P.OFFRAMP?b:xe),I=A||u,f=m||C,k=p||y;return(0,e.jsx)(gt,{serviceProvider:r.serviceProviderDetails,hoverIcon:(0,e.jsx)(Bo,{position:"absolute",right:"$spacing12",size:20}),isLoading:k,onPress:async()=>{I?(window.open(I.widgetUrl,"_blank"),c(r.serviceProviderDetails),h({externalSessionId:g,account:i,status:ae.INITIATED,forceFetched:!1,addedAt:Date.now(),type:_===P.ONRAMP?De.BUY:De.SELL,syncedWithBackend:!1,provider:r.serviceProviderDetails.serviceProvider}),Q(_===P.ONRAMP?se.FiatOnRampWidgetOpened:le.FiatOffRampWidgetOpened,{countryCode:o.countryCode,countryState:o.state,cryptoCurrency:t,externalTransactionId:g,fiatCurrency:s.code,serviceProvider:r.serviceProviderDetails.serviceProvider})):f&&v(r.serviceProviderDetails)}},r.serviceProviderDetails.serviceProvider)}var ze=ye(mo());const Ee="  is_Separator _display-flex _alignItems-stretch _flexDirection-column _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _flexShrink-1 _borderTopWidth-0px _borderRightWidth-0px _borderBottomWidth-1px _borderLeftWidth-0px _flexGrow-1 _height-0px _maxHeight-0px _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid ",Dt="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center _gap-t-space-spa1360334080 _mt-t-space-spa1360334080 ",Pt="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _pb-t-space-spa1360334080 _pl-t-space-spa94665593 ",Nt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa1360334080 ",Mt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-16px ";function Bt({closeModal:r}){const{derivedBuyFormInfo:o,buyFormState:t}=ue(),{quoteCurrency:n,selectedCountry:s,inputAmount:i,inputInFiat:c,rampDirection:v,moonpayOnly:_}=t,{quotes:h,meldSupportedFiatCurrency:g,amountOut:l}=o,[b,A]=(0,d.useState)(),[m,p]=(0,d.useState)(),u=(0,d.useMemo)(()=>pr({rampDirection:v,inputAmount:i,amountOut:l??"0",inputInFiat:c}),[v,i,l,c]),C=oe(),[y,I]=(0,d.useMemo)(()=>{if(!h||!h.quotes)return[void 0,[]];if(_&&h.quotes.some(S=>S.serviceProviderDetails.serviceProvider.toLowerCase()==="moonpay"))return[void 0,h.quotes.filter(S=>S.serviceProviderDetails.serviceProvider.toLowerCase()==="moonpay")];const O=h.quotes.find(S=>S.isMostRecentlyUsedProvider);return O?[O,h.quotes.filter(S=>!S.isMostRecentlyUsedProvider)]:[void 0,h.quotes]},[_,h]),f=()=>{r(),setTimeout(()=>{A(void 0),p(void 0)},(0,ze.default)("500ms"))};Ho(()=>{!b&&!m&&f()},(0,ze.default)("5m"));const k=n==null?void 0:n.meldCurrencyCode,R=C.address;return!s||!k||!g||!R?(Hr.debug("ChooseProviderModal","ChooseProviderModalContent","Modal opened with invalid state. Closing modal."),f(),null):b?(0,e.jsx)(Ct,{onBack:()=>A(void 0),closeModal:f,selectedServiceProvider:b}):m?(0,e.jsx)(bt,{closeModal:f,selectedServiceProvider:m}):(0,e.jsxs)(W,{gap:"$spacing24",pb:"$spacing8",$sm:{px:"$spacing8",pb:"$spacing16"},id:"ChooseProviderModal",children:[(0,e.jsx)(ur,{title:v===P.ONRAMP?(0,e.jsx)(re,{i18nKey:"fiatOnRamp.checkout.title"}):(0,e.jsx)(re,{i18nKey:"fiatOffRamp.checkout.title"}),link:or.helpArticleUrls.fiatOnRampHelp,closeModal:r,closeDataTestId:"ChooseProviderModal-close"}),(0,e.jsxs)("div",{className:Mt,children:[y&&(0,e.jsxs)("div",{className:Nt,children:[(0,e.jsxs)("div",{className:Pt,children:[(0,e.jsx)($o,{color:"$neutral3",size:"$icon.16"}),(0,e.jsx)(w,{color:"$neutral2",pl:"$spacing4",variant:"body3",children:(0,e.jsx)(re,{i18nKey:"fiatOnRamp.quote.type.recent"})})]}),(0,e.jsx)(We,{quote:y,selectedCountry:s,quoteCurrencyCode:k,inputAmount:u,meldSupportedFiatCurrency:g,walletAddress:R,setConnectedProvider:p,setErrorProvider:A,rampDirection:v},y.serviceProviderDetails.serviceProvider),I.length>0&&(0,e.jsxs)("div",{className:Dt,children:[(0,e.jsx)("div",{className:Ee}),(0,e.jsx)(w,{color:"$neutral3",variant:"body3",children:(0,e.jsx)(re,{i18nKey:"fiatOnRamp.quote.type.other"})}),(0,e.jsx)("div",{className:Ee})]})]}),I.map(O=>(0,e.jsx)(We,{quote:O,selectedCountry:s,quoteCurrencyCode:k,inputAmount:u,meldSupportedFiatCurrency:g,walletAddress:R,setConnectedProvider:p,setErrorProvider:A,rampDirection:v},O.serviceProviderDetails.serviceProvider)),(0,e.jsx)(w,{variant:"body3",textAlign:"center",color:"$neutral2",children:(0,e.jsx)(re,{i18nKey:"fiatOnRamp.chooseProvider.description"})})]})]})}function Wt(r){return(0,e.jsx)(te,{name:Z.FiatOnramp,isModalOpen:r.isOpen,onClose:r.closeModal,maxWidth:420,children:(0,e.jsx)(Ce,{children:(0,e.jsx)(Bt,{...r})})})}const zt=ar(lt)`
  padding: 4px 20px;
  height: 60px;
  display: grid;
  grid-template-columns: auto minmax(auto, 1fr) auto minmax(0, 72px);
  grid-gap: 16px;
  cursor: ${({disabled:r})=>!r&&"pointer"};
  pointer-events: ${({disabled:r})=>r&&"none"};
  :hover {
    background-color: ${({theme:r})=>r.deprecated_hoverDefault};
  }
  opacity: ${({disabled:r,selected:o,dim:t})=>t||r||o?.4:1};
`,Et=ar.input`
  padding: 16px;
  padding-left: 40px;
  height: 40px;
  align-items: center;
  width: 100%;
  white-space: nowrap;
  background-color: ${({theme:r})=>r.surface2};
  border: none;
  outline: none;
  border-radius: 12px;
  color: ${({theme:r})=>r.neutral1};
  border-style: solid;
  border: 1px solid ${({theme:r})=>r.surface3};
  -webkit-appearance: none;
  font-weight: 485;

  font-size: 16px;

  ::placeholder {
    color: ${({theme:r})=>r.neutral3};
    font-size: 16px;
  }
  transition: border 100ms;
  :focus {
    border: 1px solid ${({theme:r})=>r.surface3};
    background-color: ${({theme:r})=>r.surface2};
    outline: none;
  }
`,Lt="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa1360334080 ",Ht=z(W,{row:!0,height:"$spacing60",px:"$spacing20",justifyContent:"space-between",alignItems:"center",cursor:"pointer",hoverStyle:{backgroundColor:"$surface2"}});function Ut({style:r,country:o,selectedCountry:t,onClick:n}){if(!o)return null;const s=Ze(o.countryCode);return(0,e.jsxs)(Ht,{style:r,onPress:n,children:[(0,e.jsxs)("div",{className:Lt,children:[(0,e.jsxs)(ce,{circular:!0,size:J.icon32,children:[(0,e.jsx)(ce.Image,{accessibilityLabel:"Country flag",src:s,alt:o.countryCode}),(0,e.jsx)(ce.Fallback,{backgroundColor:"$neutral3"})]}),(0,e.jsx)(w,{variant:"body2",children:o.displayName})]}),(t==null?void 0:t.countryCode)===o.countryCode&&(0,e.jsx)(mt,{height:24,width:24})]})}const qt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",Qt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",Gt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _position-relative _height-10037 _flexGrow-1 ",Vt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _justifyContent-space-betwe3241 ",Kt=56,gr=z(W,{flexShrink:1,$sm:{pt:"$none"},p:"$spacing20",gap:"$spacing12"});function Yt({isOpen:r,onDismiss:o,countryList:t,selectedCountry:n,onSelectCountry:s}){const[i,c]=(0,d.useState)(""),{t:v}=q(),_=Xe(),h=sr(),g=Ye(),l=(0,d.useMemo)(()=>{const p=so(t,u=>u.countryCode===(n==null?void 0:n.countryCode));return i?p.filter(u=>u.displayName.toLowerCase().startsWith(i.toLowerCase())):p},[t,i,n==null?void 0:n.countryCode]),b=(0,d.useRef)(),A=(0,d.useCallback)(p=>{var u;const C=p.target.value;c(C),(u=b.current)===null||u===void 0||u.scrollTo(0)},[]),m=(0,d.useCallback)(()=>{c(""),o()},[o]);return(0,e.jsx)(te,{name:Z.FiatOnRampCountryList,maxWidth:420,height:h.sm?"100vh":"100%",maxHeight:700,isModalOpen:r,onClose:o,padding:0,children:(0,e.jsxs)(Ce,{children:[(0,e.jsxs)(gr,{children:[(0,e.jsxs)("div",{className:Vt,children:[(0,e.jsx)(w,{variant:"body2",children:v("common.selectRegion.label")}),(0,e.jsx)(Ve,{testId:"CountryListModal-close",onClose:m})]}),(0,e.jsxs)("div",{className:Gt,children:[(0,e.jsx)(It,{fill:_.neutral3.val,style:{position:"absolute",left:"12px",top:"10px"},width:J.icon20,height:J.icon20,pointerEvents:"none"}),(0,e.jsx)(Et,{type:"text",id:"for-country-search-input","data-testid":"for-country-search-input",placeholder:v`swap.buy.countryModal.placeholder`,autoComplete:"off",value:i,onChange:A})]})]}),(0,e.jsx)("div",{className:Qt,children:(0,e.jsx)(cr,{disableWidth:!0,children:({height:p})=>(0,e.jsx)("div",{"data-testid":"country-list-wrapper",className:qt,children:(0,e.jsx)(Wo,{height:p,ref:b,width:"100%",itemData:l,itemCount:l.length,itemSize:Kt,itemKey:(u,C)=>{var y;return(y=C[u])===null||y===void 0?void 0:y.countryCode},style:g,children:({style:u,data:C,index:y})=>(0,e.jsx)(Ut,{style:u,country:C[y],selectedCountry:n,onClick:()=>{s(C[y]),m()}})})})})})]})})}var Xt=class{constructor(r,o){Y.defineProperty(this,"isNative",!1),Y.defineProperty(this,"isToken",!0),Y.defineProperty(this,"list",void 0),Y.defineProperty(this,"tokenInfo",void 0),Y.defineProperty(this,"_checksummedAddress",void 0),Y.defineProperty(this,"_tags",null),this.tokenInfo=r,this.list=o;const t=po(this.tokenInfo.address);if(!t)throw new Error(`Invalid token address: ${this.tokenInfo.address}`);this._checksummedAddress=t}get address(){return this._checksummedAddress}get chainId(){return this.tokenInfo.chainId}get decimals(){return this.tokenInfo.decimals}get name(){return this.tokenInfo.name}get symbol(){return this.tokenInfo.symbol}get logoURI(){return this.tokenInfo.logoURI}get tags(){var r;if(this._tags!==null)return this._tags;if(!this.tokenInfo.tags)return this._tags=[];const o=(r=this.list)===null||r===void 0?void 0:r.tags;return o?this._tags=this.tokenInfo.tags.map(t=>({...o[t],id:t})):this._tags=[]}equals(r){return r.chainId===this.chainId&&r.isToken&&r.address.toLowerCase()===this.address.toLowerCase()}sortsBefore(r){if(this.equals(r))throw new Error("Addresses should not be equal");return this.address.toLowerCase()<r.address.toLowerCase()}get wrapped(){return this}};const Zt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _alignSelf-center _justifyContent-flex-end ",Jt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignSelf-flex-end ",en="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",rn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 ",on="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665589 ",tn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-flex-end ";function nn(r){return dr(r)}const br={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},Le=z(w,{...br,maxWidth:"80px",textAlign:"right"}),sn=z(w,br),He=z(w,{backgroundColor:"$surface2",color:"$neutral2",fontSize:"14px",borderRadius:"$rounded4",p:"$spacing4",maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignSelf:"flex-end",mr:"$spacing4"});function an({currency:r}){if(!(r instanceof Xt))return null;const o=r.tags;if(o.length===0)return(0,e.jsx)("span",{});const t=o[0];return(0,e.jsxs)("div",{className:tn,children:[(0,e.jsx)(ve,{text:t.description,children:(0,e.jsx)(He,{children:t.name},t.id)}),o.length>1?(0,e.jsx)(ve,{text:o.slice(1).map(({name:n,description:s})=>`${n}: ${s}`).join(`; 
`),children:(0,e.jsx)(He,{children:"..."})}):null]})}const cn=z(W,{row:!0,height:"$spacing60"});function ln({currencyInfo:r,onSelect:o,isSelected:t,otherSelected:n,style:s,showCurrencyAmount:i,showUsdValue:c,eventProperties:v,balance:_,disabled:h,tooltip:g,showAddress:l}){const{currency:b}=r,{convertFiatAmountFormatted:A,formatNumberOrString:m}=ee(),p=nn(b),{tokenWarningDismissed:u}=at(b),C=fo(r),y=C===me.Blocked,I="0.6",{balanceMap:f}=Io({cacheOnly:!0}),{usdValue:k,balance:R}=f[dr(b)]??{},O=_?_.toExact():R,S=g?ve:cn;return(0,e.jsx)(be,{logPress:!0,logKeyPress:!0,eventOnTrigger:uo.TokenSelected,properties:{is_imported_by_user:u,...v,token_balance_usd:k},element:Je.TokenSelectorRow,children:(0,e.jsx)(S,{style:s,text:(0,e.jsx)(tt.Caption,{textAlign:"center",children:g}),size:yt.ExtraSmall,children:(0,e.jsxs)(zt,{tabIndex:0,className:`token-item-${p}`,onKeyDown:F=>F.key==="Enter"?o(C===me.None):null,onClick:()=>o(C===me.None),selected:n||t,dim:y,disabled:h,style:{outline:"none"},children:[(0,e.jsx)(Ie,{currency:b,size:36,style:{opacity:y?I:"1"}}),(0,e.jsxs)(W,{style:{opacity:y?I:"1"},gap:"$spacing2",children:[(0,e.jsxs)("div",{className:on,children:[(0,e.jsx)(sn,{variant:"body2",children:b.name}),(0,e.jsx)(lr,{severity:C,size:"$icon.16",ml:"$spacing4"})]}),(0,e.jsxs)("div",{className:rn,children:[(0,e.jsx)(w,{variant:"body4",ml:"0px",color:"$neutral2",children:b.symbol}),l&&b.isToken&&(0,e.jsx)(w,{variant:"body4",color:"$neutral3",children:er(b.address)})]})]}),(0,e.jsx)("div",{className:en,children:(0,e.jsx)("div",{className:Jt,children:(0,e.jsx)(an,{currency:b})})}),(0,e.jsxs)("div",{className:Zt,children:[c&&k?(0,e.jsx)(Le,{variant:"body4",color:"$neutral1",children:A(k,G.FiatStandard)}):null,i&&O?(0,e.jsx)(Le,{variant:"body4",color:"$neutral2",children:m({value:O,type:G.TokenNonTx})}):null]})]})})})}const dn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",un="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",pn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",mn=56;function fn({isOpen:r,onDismiss:o,currencies:t,unsupportedCurrencies:n,selectedCurrency:s,onSelectCurrency:i}){const{t:c}=q(),v=sr(),_=Ye(),{setBuyFormState:h}=ue(),[g,l]=(0,d.useState)(!0),b=(0,d.useCallback)(p=>p===t.length?40:mn,[t.length]),[A,m]=(0,d.useMemo)(()=>{let p=-1,u=[...t];return n.length>0&&(p=t.length,u=u.concat(null)),g&&(u=u.concat(n)),[u,p]},[t,g,n]);return(0,e.jsx)(te,{name:Z.FiatOnRampTokenSelector,maxWidth:420,height:v.sm?"100vh":"100%",maxHeight:700,isModalOpen:r,onClose:o,padding:0,children:(0,e.jsxs)(Ce,{children:[(0,e.jsx)(gr,{children:(0,e.jsxs)("div",{className:pn,children:[(0,e.jsx)(w,{variant:"subheading1",children:c("common.selectToken.label")}),(0,e.jsx)(Ve,{testId:"FiatOnRampCurrencyModal-close",onClose:o})]})}),(0,e.jsx)("div",{className:un,children:(0,e.jsx)(cr,{disableWidth:!0,children:({height:p})=>(0,e.jsx)("div",{"data-testid":"for-currency-list-wrapper",className:dn,children:(0,e.jsx)(zo,{height:p,width:"100%",itemData:A,itemCount:A.length,itemSize:b,itemKey:(u,C)=>{var y;return((y=C[u])===null||y===void 0?void 0:y.meldCurrencyCode)??u},style:_,children:({style:u,data:C,index:y})=>{var I,f;if(y===m)return(0,e.jsx)(W,{style:{...u},children:(0,e.jsx)(St,{open:g,onClick:()=>{l(R=>!R)},children:c("fiatOffRamp.unsupportedToken.divider")})});const k=(I=C[y])===null||I===void 0?void 0:I.currencyInfo;return k?(0,e.jsx)(ln,{style:u,currencyInfo:k,showUsdValue:!0,showCurrencyAmount:!0,onSelect:()=>{const R=C[y];R&&(t.includes(R)?(i(R),o()):h(O=>({...O,selectedUnsupportedCurrency:R})))},isSelected:(s==null?void 0:s.meldCurrencyCode)===((f=C[y])===null||f===void 0?void 0:f.meldCurrencyCode),eventProperties:{},otherSelected:!1}):null}})})})})]})})}ao();const xn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",_n="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap52 ",hn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _borderBottomWidth-1px _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _mt-t-space-pad1331704929 _mb-t-space-spa1360334076 _borderBottomStyle-solid ",vn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-gap1569 _pb-t-space-gap1569 _gap-t-space-gap1573 ",yn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pr-t-space-pad1331704929 _pl-t-space-pad1331704929 _gap-t-space-gap1569 ",gn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-spa1360334080 _pr-t-space-spa94665593 _pb-t-space-spa94665593 _pl-t-space-spa94665593 _gap-t-space-gap1602 ",bn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _borderTopLeftRadius-t-radius-ro1041013639 _borderTopRightRadius-t-radius-ro1041013639 _borderBottomRightRadius-t-radius-ro1041013639 _borderBottomLeftRadius-t-radius-ro1041013639 _overflowX-hidden _overflowY-hidden ",Cr="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center ",Ir="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap52 ",je="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",Cn=({details:r})=>{const{logos:o}=r,n=Br()?o.darkLogo:o.lightLogo;return(0,e.jsxs)("div",{className:je,children:[(0,e.jsxs)("div",{className:Ir,children:[(0,e.jsx)(w,{variant:"heading2",color:"$neutral1",children:r.provider}),(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:er(r.depositWalletAddress)})]}),(0,e.jsx)("div",{className:Cr,children:(0,e.jsx)("div",{className:bn,children:(0,e.jsx)(Ge,{source:{uri:n},height:40,width:40})})})]})},In=({details:r,currencyInfo:o,transaction:t})=>{const{convertFiatAmountFormatted:n,formatNumberOrString:s}=ee();return(0,e.jsxs)("div",{className:je,children:[(0,e.jsxs)("div",{className:Ir,children:[(0,e.jsxs)(w,{variant:"heading2",color:"$neutral1",children:[s({value:r.baseCurrencyAmount,type:G.TokenNonTx})," ",r.baseCurrencyCode]}),(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:n(t.destinationAmount,G.FiatTokenPrice)})]}),(0,e.jsx)("div",{className:Cr,children:(0,e.jsx)(Ie,{currency:o.currency})})]})},Sn=({isOpen:r,onClose:o,request:t})=>{const n=oe(),{formatNumberOrString:s}=ee(),{provider:i}=it(),c=Go(),[v]=ge(),_=v.get("externalTransactionId"),{t:h}=q(),g=Ko(),{data:l,isLoading:b,error:A}=eo(t),m=(0,d.useMemo)(()=>_?g[_]:null,[g,_]),p=(0,d.useMemo)(()=>!m||!!A,[A,m]),u=go(l!=null&&l.chainId?Number(l.chainId):void 0),C=(0,d.useMemo)(()=>{if(!(!l||!u))return co(u,l.tokenAddress)},[u,l]),y=qo(C),I=(0,d.useMemo)(()=>{if(!(!l||!y||!u))return{provider:i,account:n.address,chainId:u,currencyAmount:io.fromRawAmount(y.currency,l.baseCurrencyAmount*10**y.currency.decimals),toAddress:l.depositWalletAddress}},[l,y,u,i,n.address]),f=Oo(I)??void 0,k=Jo(f,Xo.Normal),{value:R,isLoading:O}=xo(u,k.value),S=(0,d.useMemo)(()=>({cryptoCurrency:(l==null?void 0:l.baseCurrencyCode)??"",currencyAmount:(l==null?void 0:l.baseCurrencyAmount)??0,serviceProvider:(l==null?void 0:l.provider)??"",chainId:(l==null?void 0:l.chainId)??"",externalTransactionId:(m==null?void 0:m.externalSessionId)??""}),[l,m]);(0,d.useEffect)(()=>{m!=null&&m.original&&[ae.FAILED,ae.COMPLETE].includes(et(m.original.status))&&o()},[m,o]);const F=To({currencyAmount:I==null?void 0:I.currencyAmount,recipient:I==null?void 0:I.toAddress,transactionRequest:f,gasFee:k}),{mutate:x,isPending:N}=ho({mutationFn:F,onSuccess:()=>{!(m!=null&&m.original)||!C||(c(Qo({...m,status:ae.PENDING})),ir.addPopup({type:bo.FORTransaction,transaction:m.original,currencyId:C},`forTransaction-${m.externalSessionId}`,1/0),Q(le.FiatOffRampFundsSent,S),o())}}),H=(0,d.useCallback)(()=>{Q(le.FiatOffRampWidgetCompleted,S),x()},[x,S]);return b?null:p?(0,e.jsx)(ut,{isOpen:!0,onClose:o,title:h("fiatOffRamp.error.populateSend.title"),subtext:h("fiatOffRamp.error.populateSend.description"),icon:(0,e.jsx)(No,{color:"$statusCritical",size:"$icon.24"}),hasIconBackground:!0,primaryButtonText:h("common.close"),primaryButtonOnClick:o,primaryButtonVariant:"default",modalName:Z.FiatOffRampConfirmTransferError}):(0,e.jsx)(te,{name:Z.FiatOffRampConfirmTransfer,isModalOpen:r,onClose:o,padding:"$none",children:(0,e.jsxs)("div",{className:gn,children:[(0,e.jsxs)("div",{className:yn,children:[(0,e.jsx)(ur,{title:(0,e.jsx)(w,{variant:"subheading2",color:"$neutral2",children:h("common.youreSelling")}),link:or.helpArticleUrls.fiatOffRampHelp,closeModal:o}),(0,e.jsxs)("div",{className:vn,children:[l&&y&&(m==null?void 0:m.original)&&(0,e.jsx)(In,{currencyInfo:y,details:l,transaction:m.original}),(0,e.jsx)(Mo,{size:"$icon.20",color:"$neutral3"}),l&&(0,e.jsx)(Cn,{details:l})]}),(0,e.jsx)("div",{className:hn}),(0,e.jsxs)("div",{className:je,children:[(0,e.jsxs)("div",{className:_n,children:[(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:h("common.networkCost")}),u&&(0,e.jsx)(Po,{chainId:u,placement:"top"})]}),(0,e.jsx)(w,{variant:"body3",color:"$neutral2",loading:O,children:s({value:R?Number(R):void 0,type:G.FiatGasPrice})})]})]}),(0,e.jsx)("div",{className:xn,children:(0,e.jsx)(X,{variant:"branded",emphasis:"primary",onPress:H,loading:N,isDisabled:N,children:h("common.confirmTransfer")})})]})})},jn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665589 ",kn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",Rn=({currency:r,balance:o,...t})=>{const{convertFiatAmountFormatted:n,formatNumberOrString:s}=ee();return(0,e.jsxs)(W,{row:!0,borderRadius:"$rounded20",backgroundColor:"$surface2",p:"$spacing16",gap:"$spacing12",alignItems:"center",...nt,...t,children:[(0,e.jsx)(Ie,{currency:r,size:J.icon40}),(0,e.jsxs)("div",{className:kn,children:[(0,e.jsx)(w,{color:"$neutral1",loading:!r,children:r==null?void 0:r.symbol}),o&&(0,e.jsxs)("div",{className:jn,children:[(0,e.jsx)(w,{color:"$neutral2",children:s({value:o.quantity,type:G.TokenNonTx})}),(0,e.jsxs)(w,{color:"$neutral3",children:["(",n(o.balanceUSD,G.FiatStandard),")"]})]})]}),(0,e.jsx)(Tr,{rotate:"180deg",size:"$icon.20"})]})},wn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _borderTopLeftRadius-t-radius-ro1041013639 _borderTopRightRadius-t-radius-ro1041013639 _borderBottomRightRadius-t-radius-ro1041013639 _borderBottomLeftRadius-t-radius-ro1041013639 _overflowX-hidden _overflowY-hidden ",An="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _alignItems-center _flexGrow-0 _gap-t-space-spa94665587 ",ie=J.icon16;function $n({onPress:r,countryCode:o="US"}){if(!o)return null;const t=Ze(o);return(0,e.jsx)(be,{logPress:!0,element:Je.FiatOnRampCountryPicker,children:(0,e.jsx)(Pr,{backgroundColor:"$surface3",borderRadius:"$roundedFull",hoverStyle:{opacity:.5},overflow:"hidden",pl:"$spacing8",pr:"$spacing4",py:"$spacing2",onPress:r,children:(0,e.jsxs)("div",{"data-testid":he.FiatOnRampCountryPicker,className:An,children:[(0,e.jsx)("div",{className:wn,children:fe?(0,e.jsx)("img",{alt:o,height:ie,src:t,width:ie}):(0,e.jsx)(Nr,{size:{height:ie,width:ie},uri:t})}),(0,e.jsx)(Dr,{color:"$neutral2",direction:"down",width:J.icon20})]})})})}const Ue="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",Fn="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334080 _mt-t-space-spa1360334076 _width-10037 ",On="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334080 _width-9037 ",Tn="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334076 ",Dn=" _pr-t-space-spa1360334047 _pl-t-space-spa1360334047",Pn=" _pr-t-space-non101 _pl-t-space-non101",Nn=" _pb-t-space-spa1360334080",Mn=" _pb-t-space-non101",Bn=" _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334076 _pt-t-space-spa1360334080  ";function Wn({isVisible:r,onBack:o,onClose:t,onAccept:n}){const{t:s}=q(),i=Xe();return(0,e.jsx)(te,{isModalOpen:r,maxWidth:420,name:Z.FiatOffRampUnsupportedTokenModal,onClose:t,children:(0,e.jsxs)("div",{className:So(Bn+(fe?Mn:Nn)+(" "+(fe?Pn:Dn))),children:[(0,e.jsxs)("div",{className:Tn,children:[(0,e.jsx)(W,{centered:!0,borderRadius:"$rounded12",p:"$spacing12",style:{backgroundColor:i.statusWarning2.val},children:(0,e.jsx)(lr,{color:"$statusWarning",size:"$icon.24"})}),(0,e.jsx)(w,{variant:"subheading1",children:s("fiatOffRamp.unsupportedToken.title")})]}),(0,e.jsx)("div",{className:On,children:(0,e.jsx)(w,{color:"$neutral2",textAlign:"center",variant:"body3",children:s("fiatOffRamp.unsupportedToken.message")})}),(0,e.jsxs)("div",{className:Fn,children:[(0,e.jsx)("div",{className:Ue,children:(0,e.jsx)(X,{emphasis:"secondary",size:"large",onPress:o,children:s("fiatOffRamp.unsupportedToken.back")})}),(0,e.jsx)("div",{className:Ue,children:(0,e.jsx)(X,{size:"large",variant:"branded",onPress:n,children:s("fiatOffRamp.unsupportedToken.swap")})})]})]})})}const zn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",qe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 _justifyContent-center ",En="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _height-36px _justifyContent-center ",Ln="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _alignItems-center _gap-t-space-spa1360334076 _maxWidth-10037 _overflowX-hidden _overflowY-hidden ",Hn=z(W,{backgroundColor:"$surface1",p:"$spacing16",pt:"$spacing12",pb:52,height:264,alignItems:"center",borderRadius:"$rounded20",justifyContent:"space-between",overflow:"hidden",gap:"$spacing8",borderWidth:1,borderColor:"$surface3"}),Un=z(W,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}),Qe=2,qn=[100,300,1e3],Qn=[25,50,75,100],Gn=45,Vn=70,Kn=24;function Yn({disabled:r,initialCurrency:o}){var t,n,s,i,c,v;const _=oe(),{t:h}=q(),{convertFiatAmount:g}=ee(),l=tr(),{symbol:b}=nr(l),[,A]=ge(),{buyFormState:m,setBuyFormState:p,derivedBuyFormInfo:u}=ue(),{inputAmount:C,inputInFiat:y,selectedCountry:I,quoteCurrency:f,currencyModalOpen:k,countryModalOpen:R,providerModalOpen:O,rampDirection:S,selectedUnsupportedCurrency:F}=m,{supportedTokens:x,countryOptionsResult:N,error:H,amountOut:E,meldSupportedFiatCurrency:Sr}=u,jr=Er(),L=Ur(f),kr=vt(C),ne=dt();(0,d.useEffect)(()=>{const a=y?C:u.amountOut;a&&Q(se.FiatOnRampAmountEntered,{amountUSD:g(Number(a)).amount,source:"textInput"})},[C,u.amountOut,y,g]);const{fontSize:ke,onLayout:Rr,onSetFontSize:Re}=ct({maxCharWidthAtMaxFontSize:Gn,maxFontSize:Vn,minFontSize:Kn}),wr=(0,d.useCallback)(a=>{Re(a),p(j=>({...j,inputAmount:a}))},[Re,p]),{data:pe}=Jr();(0,d.useEffect)(()=>{!I&&pe&&p(a=>({...a,selectedCountry:pe}))},[m.selectedCountry,pe,I,p]);const{useParsedQueryString:Ar}=zr(),V=Ar();(0,d.useEffect)(()=>{let a;const j=V.quoteCurrencyCode,M=V.moonpayCurrencyCode;if(o){const T=x==null?void 0:x.find($=>{var D;return((D=$.currencyInfo)===null||D===void 0?void 0:D.currency.chainId)===o.chainId&&$.currencyInfo.currency.isNative});a=(x==null?void 0:x.find($=>{var D;return((D=$.currencyInfo)===null||D===void 0?void 0:D.currency.chainId)===o.chainId&&$.currencyInfo.currency.isToken&&$.currencyInfo.currency.address===o.address}))||T}else if(M)a=x==null?void 0:x.find(T=>{var $;return(($=T.meldCurrencyCode)===null||$===void 0?void 0:$.toLowerCase())===M.toLowerCase()});else if(j){const T=V.chainId?Number(V.chainId):_e.Mainnet;a=x==null?void 0:x.find($=>{var D;return((D=$.currencyInfo)===null||D===void 0?void 0:D.currency.symbol)===j&&$.currencyInfo.currency.chainId===T})}else a=(x==null?void 0:x.find(T=>{var $;return($=T.currencyInfo)===null||$===void 0?void 0:$.currency.equals(rr(_e.Mainnet))}))??(x==null?void 0:x[0]);if(a){const T={};M&&(T.inputAmount=V.amount,T.moonpayOnly=!0),p($=>({...$,...T,quoteCurrency:a}));return}const $e=x==null?void 0:x.find(T=>{var $,D;return(($=T.currencyInfo)===null||$===void 0?void 0:$.currency.chainId)===_.chainId&&((D=T.currencyInfo)===null||D===void 0?void 0:D.currency.isNative)});$e&&p(T=>({...T,quoteCurrency:$e}))},[_.chainId,V,o,p,x]);const{data:U}=_o({address:_.address}),$r=(0,d.useMemo)(()=>{if(!U)return[];const a=(x==null?void 0:x.map(j=>{var M;return Fe((M=j.currencyInfo)===null||M===void 0?void 0:M.currency)}))??[];return Object.keys(U).filter(j=>!a.includes(j)).map(j=>({currencyInfo:U[j].currencyInfo}))},[U,x]),K=(0,d.useMemo)(()=>{var a;const j=Fe(f==null||(a=f.currencyInfo)===null||a===void 0?void 0:a.currency);return j?U==null?void 0:U[j.toLowerCase()]:void 0},[U,f==null||(t=f.currencyInfo)===null||t===void 0?void 0:t.currency]),we=st*.8,Fr=(0,d.useMemo)(()=>C&&ne.width?Math.min(ne.width+1,we):void 0,[C,ne.width,we]),Ae=$t();return(0,d.useEffect)(()=>{var a,j;!(L==null||(a=L.currencyInfo)===null||a===void 0)&&a.currency&&(!(f==null||(j=f.currencyInfo)===null||j===void 0)&&j.currency)&&L.currencyInfo.currency.chainId!==f.currencyInfo.currency.chainId&&(ir.removePopup(`switchNetwork-${L.currencyInfo.currency.chainId}`),ot({prevChainId:L.currencyInfo.currency.chainId,chainId:f.currencyInfo.currency.chainId,action:S===P.ONRAMP?Te.Buy:Te.Sell}))},[f==null||(n=f.currencyInfo)===null||n===void 0?void 0:n.currency,L==null||(s=L.currencyInfo)===null||s===void 0?void 0:s.currency,S]),(0,e.jsxs)(be,{page:lo.Buy,logImpression:!0,children:[(0,e.jsxs)(W,{gap:"$spacing4",onLayout:Rr,children:[(0,e.jsxs)(Hn,{children:[(0,e.jsxs)(Un,{children:[(0,e.jsx)(w,{variant:"body3",userSelect:"none",color:"$neutral2",children:S===P.ONRAMP?h("common.youreBuying"):h("common.youreSelling")}),(0,e.jsx)($n,{onPress:()=>{p(a=>({...a,countryModalOpen:!0}))},countryCode:I==null?void 0:I.countryCode})]}),(0,e.jsxs)("div",{className:Ln,children:[H&&(0,e.jsx)(w,{variant:"body3",userSelect:"none",color:"$statusCritical",children:H.message}),(0,e.jsxs)(_t,{children:[y&&(0,e.jsx)(xt,{showPlaceholder:!C,$fontSize:ke,children:b}),(0,e.jsx)(ht,{value:kr,disabled:r,onUserInput:wr,placeholder:"0",$width:Fr,$fontSize:ke,maxDecimals:y?Qe:(f==null||(i=f.currencyInfo)===null||i===void 0?void 0:i.currency.decimals)??Qe,testId:he.BuyFormAmountInput}),(0,e.jsx)(ft,{ref:ne.ref,children:C})]}),(f==null||(c=f.currencyInfo)===null||c===void 0?void 0:c.currency)&&C&&(0,e.jsx)("div",{className:En,children:(0,e.jsx)(wo,{disabled:r||!E,inputCurrency:f.currencyInfo.currency,inputInFiat:y,exactAmountOut:E,onToggle:()=>{p(a=>({...a,inputInFiat:!a.inputInFiat,inputAmount:E||""}))}})}),!C&&S===P.ONRAMP&&(0,e.jsx)("div",{className:qe,children:qn.map(a=>(0,e.jsx)(Me,{onPress:()=>{p(j=>({...j,inputInFiat:!0,inputAmount:a.toString()})),Q(se.FiatOnRampAmountEntered,{amountUSD:g(a).amount,source:"chip"})},label:pt(a,Sr??hr),disabled:r},a))}),!C&&S===P.OFFRAMP&&(0,e.jsx)("div",{className:qe,children:Qn.map(a=>(0,e.jsx)(Me,{label:a===100?h("common.max"):`${a}%`,disabled:r||!(K!=null&&K.balanceUSD),onPress:()=>{if(!K)return;const j=K.quantity*(a/100);p(M=>({...M,inputInFiat:!1,inputAmount:String(j)})),Q(le.FiatOffRampAmountEntered,{amountUSD:g(j).amount,source:"chip"})}},a))})]})]}),(0,e.jsx)(Rn,{currency:f==null||(v=f.currencyInfo)===null||v===void 0?void 0:v.currency,balance:K,disabled:r,testID:he.ChooseInputToken,onPress:()=>{p(a=>({...a,currencyModalOpen:!0}))}}),(0,e.jsx)("div",{className:zn,children:(0,e.jsx)(Tt,{})})]}),x&&!!x.length&&(0,e.jsx)(fn,{isOpen:k,onDismiss:()=>{p(a=>({...a,currencyModalOpen:!1}))},onSelectCurrency:a=>{var j;p(M=>({...M,quoteCurrency:a})),Q(se.FiatOnRampTokenSelected,{token:a.meldCurrencyCode??a.moonpayCurrencyCode??((j=a.currencyInfo)===null||j===void 0?void 0:j.currency.symbol)??""})},currencies:x,unsupportedCurrencies:$r}),(0,e.jsx)(Wn,{isVisible:!!F,onAccept:()=>{const a=F==null?void 0:F.currencyInfo;if(!a)return;const j=new URLSearchParams({inputCurrency:a.currency.wrapped.address,chain:Yo(a.currency.chainId),outputCurrency:Eo});jr(`/swap?${j.toString()}`)},onClose:()=>{p(a=>({...a,selectedUnsupportedCurrency:void 0}))},onBack:()=>{p(a=>({...a,selectedUnsupportedCurrency:void 0}))}}),(N==null?void 0:N.supportedCountries)&&(0,e.jsx)(Yt,{onSelectCountry:a=>p(j=>({...j,selectedCountry:a})),countryList:N.supportedCountries,isOpen:R,onDismiss:()=>p(a=>({...a,countryModalOpen:!1})),selectedCountry:I}),O&&(0,e.jsx)(Wt,{isOpen:!0,closeModal:()=>p(a=>({...a,providerModalOpen:!1}))}),Ae&&(0,e.jsx)(Sn,{isOpen:!0,onClose:()=>A({}),request:Ae})]})}function _l({rampDirection:r,...o}){return(0,e.jsx)(Ot,{rampDirection:r,children:(0,e.jsx)(Yn,{...o})})}export{_l as BuyForm};
