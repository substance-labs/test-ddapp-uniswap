import{__toESM as E}from"./chunk-DgAfPHQg.js";import{require_react as S}from"./react-CNoFhWkx.js";import{useDispatch as c}from"./es-Iwj7vF3u.js";import{useAccount as d}from"./useAccount-C5hwiBwN.js";import{OFFCHAIN_ORDER_TYPE_TO_SIGNATURE_TYPE as a,SignatureType as r}from"./slice-qANrfSbi.js";import{addSignature as p}from"./useIsUnichainFlashblocksEnabled-BbPYkimv.js";import{UniswapXOrderStatus as t}from"./uniswapx-DgS0k47c.js";import{useAppSelector as R}from"./hooks-Muz170pO.js";var N=E(S());function u(){const e=d(),s=R(n=>n.signatures);return!e.address||!s[e.address]?{}:s[e.address]}function U(){const e=u();return(0,N.useMemo)(()=>Object.values(e).filter(f),[e])}function F(e){const s=u();return(0,N.useMemo)(()=>{const n=s[e];if(!(!n||![r.SIGN_UNISWAPX_ORDER,r.SIGN_UNISWAPX_V2_ORDER,r.SIGN_UNISWAPX_V3_ORDER,r.SIGN_LIMIT,r.SIGN_PRIORITY_ORDER].includes(n.type)))return n},[s,e])}function L(){const e=c();return(0,N.useCallback)(({offerer:s,orderHash:n,chainId:I,expiry:i,swapInfo:_,encodedOrder:o,offchainOrderType:O})=>{e(p({type:a[O],offerer:s,id:n,chainId:I,expiry:i,orderHash:n,swapInfo:_,status:t.OPEN,addedTime:Date.now(),encodedOrder:o}))},[e])}function y(e){return e.type===r.SIGN_LIMIT?![t.OPEN,t.PENDING_CANCELLATION,t.INSUFFICIENT_FUNDS].includes(e.status):![t.OPEN,t.PENDING_CANCELLATION].includes(e.status)}function X(e){return e===t.FILLED}function f(e){return e.type===r.SIGN_LIMIT?[t.OPEN,t.PENDING_CANCELLATION,t.INSUFFICIENT_FUNDS].includes(e.status):e.type===r.SIGN_UNISWAPX_ORDER||e.type===r.SIGN_UNISWAPX_V2_ORDER||e.type===r.SIGN_UNISWAPX_V3_ORDER||e.type===r.SIGN_PRIORITY_ORDER?[t.OPEN,t.PENDING_CANCELLATION,t.INSUFFICIENT_FUNDS].includes(e.status):!1}export{y as isFinalizedOrder,X as isOnChainOrder,L as useAddOrder,u as useAllSignatures,F as useOrder,U as usePendingOrders};
