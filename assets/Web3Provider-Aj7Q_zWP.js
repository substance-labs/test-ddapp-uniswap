import{__commonJS as oe,__esm as Lr,__export as Pr,__toCommonJS as cn,__toESM as bt}from"./chunk-DgAfPHQg.js";import{require_react as jr}from"./react-CNoFhWkx.js";import{ReactQueryCacheKey as Dr}from"./cache-BFZkIToX.js";import{useLocation as Ur}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as qr}from"./jsx-runtime-D7bMTQeG.js";import{CONNECTION_PROVIDER_NAMES as zr}from"./useEnabledChains-DuB86c95.js";import{getLogger as kr,logger as Ft,useEvent as dn}from"./hooks-BXO4d1DJ.js";import{PublicKey as Fr,SIGNATURE_LENGTH_IN_BYTES as xr,Transaction as un,VersionedMessage as $r,VersionedTransaction as fn,index_browser_esm_exports as Qn,init_index_browser_esm as Gt}from"./utils-BX1Fu73x.js";import{InterfaceEventName as tn}from"./interface-BdpC4qOF.js";import{useQueryClient as Kr}from"./useQuery-D_ZCw8XG.js";import{Web3Provider as Hr,init_lib as Vr}from"./lib-Dj-AwQVD.js";import{InterfaceUserPropertyName as ot,SolanaSignerUpdater as Gr,handleGetCapabilities as Zr,handleResetWalletCapabilitiesState as Yr,selectNeedsToCheckCapabilities as Qr,setCapabilitiesByChain as Jr,setCapabilitiesNotSupported as Rn,setUserProperty as it}from"./defaultOptions-ENwqzwHj.js";import{require_ms as Xr}from"./ms-BqmEYo6j.js";import{FeatureFlags as Jn,useFeatureFlag as Xn}from"./hooks-Bp0VtWbX.js";import{RPC_PROVIDERS as eo}from"./providers-BELGpWsr.js";import{sendAnalyticsEvent as nn}from"./send.web-CrSXW2rw.js";import{useMutation as to}from"./connector-Cw8HJLtm.js";import{queryOptions as no}from"./queryOptions-P48mrm5X.js";import{walletTypeToAmplitudeWalletType as In}from"./embeddedWallet-BdHUTaHg.js";import{useIsSupportedChainId as ro}from"./useSupportedChainId-DskHoisQ.js";import{useTrace as oo}from"./TraceContext-Ddfk7zjz.js";import{require_eventemitter3 as io}from"./eventemitter3-DFes51ku.js";import{eventemitter3_default as ao}from"./eventemitter3-BHLpX1jX.js";import{useEthersWeb3Provider as so}from"./useEthersProvider-CBgc_azi.js";import{wagmiConfig as lo}from"./wagmiConfig-0BYSDqyO.js";import{WagmiProvider as co,useAccount as Kt,useAccount$1 as uo}from"./useAccount-C5hwiBwN.js";import{ConnectionProvider as fo}from"./useConnect-DQZiZ0j4.js";import{useAccountEffect as ho}from"./useAccountEffect-CHrs5vTR.js";import{recentConnectorIdAtom as mo}from"./constants-CGJJmXwV.js";import{useUpdateAtom as go}from"./utils-CDaPKk14.js";import{WalletType as wo,getWalletMeta as Nn}from"./walletMeta-DaLhfhet.js";import{require_dijkstra as po}from"./dijkstra-6umg7ymP.js";import{addConnectedWallet as _o}from"./reducer-CcXO4HTO.js";import{WalletContext as vo}from"./useWallet-CpLwPvrh.js";import{require_utils as bo}from"./_u64-XHsHocZf.js";import{require_sha2 as yo,require_utils as Ct}from"./utils-CGDZDFkg.js";import{esm_default as Eo}from"./esm-DSGHq0HW.js";import{usePrevious as On}from"./usePrevious-CggM0Zir.js";import{useAppDispatch as _n,useAppSelector as er}from"./hooks-Muz170pO.js";import{CONVERSION_EVENTS as Bn,useConversionTracking as So}from"./useConversionTracking-9d_tCytj.js";import{WalletConnectionResult as Ln}from"./types-DhBONJgE.js";import{getCurrentPageFromLocation as Ao}from"./urlRoutes-Bn-NftBz.js";var de=bt(jr());const To=(0,de.createContext)({});function Mo(){return(0,de.useContext)(To)}var Qe=class extends Error{constructor(e,t){super(e),this.error=t}},hn=class extends Qe{constructor(){super(...arguments),this.name="WalletNotReadyError"}},Nt=class extends Qe{constructor(){super(...arguments),this.name="WalletConfigError"}},Wo=class extends Qe{constructor(){super(...arguments),this.name="WalletConnectionError"}},Co=class extends Qe{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},Ro=class extends Qe{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},At=class extends Qe{constructor(){super(...arguments),this.name="WalletAccountError"}},Io=class extends Qe{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},ht=class extends Qe{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},Pn=class extends Qe{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},jn=class extends Qe{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},No=class extends Qe{constructor(){super(...arguments),this.name="WalletSignMessageError"}},Dn=class extends Qe{constructor(){super(...arguments),this.name="WalletSignInError"}},tt;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(tt||(tt={}));var Oo=class extends ao{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,i={}){const n=this.publicKey;if(!n)throw new ht;return e.feePayer=e.feePayer||n,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:i.preflightCommitment,minContextSlot:i.minContextSlot})).blockhash,e}};function Ot(e){return"version"in e}const mt="solana:signAndSendTransaction",rn="solana:signIn",It="solana:signMessage",Ke="solana:signTransaction",tr="standard:connect",Un="standard:disconnect",nr="standard:events";function Bo(e){return tr in e.features&&nr in e.features&&(mt in e.features||Ke in e.features)}var qn=class extends Qe{constructor(){super(...arguments),this.name="WalletNotSelectedError"}};function Lo(e,t){const i=(0,de.useState)(()=>{try{const o=localStorage.getItem(e);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return t}),n=i[0],r=(0,de.useRef)(!0);return(0,de.useEffect)(()=>{if(r.current){r.current=!1;return}try{n===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n))}catch(o){typeof window<"u"&&console.error(o)}},[n,e]),i}var vn=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/errors.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletWindowClosedError=e.WalletWindowBlockedError=e.WalletTimeoutError=e.WalletSignInError=e.WalletSignMessageError=e.WalletSignTransactionError=e.WalletSendTransactionError=e.WalletNotConnectedError=e.WalletKeypairError=e.WalletPublicKeyError=e.WalletAccountError=e.WalletDisconnectionError=e.WalletDisconnectedError=e.WalletConnectionError=e.WalletConfigError=e.WalletLoadError=e.WalletNotReadyError=e.WalletError=void 0;var t=class extends Error{constructor(C,u){super(C),this.error=u}};e.WalletError=t;var i=class extends t{constructor(){super(...arguments),this.name="WalletNotReadyError"}};e.WalletNotReadyError=i;var n=class extends t{constructor(){super(...arguments),this.name="WalletLoadError"}};e.WalletLoadError=n;var r=class extends t{constructor(){super(...arguments),this.name="WalletConfigError"}};e.WalletConfigError=r;var o=class extends t{constructor(){super(...arguments),this.name="WalletConnectionError"}};e.WalletConnectionError=o;var a=class extends t{constructor(){super(...arguments),this.name="WalletDisconnectedError"}};e.WalletDisconnectedError=a;var l=class extends t{constructor(){super(...arguments),this.name="WalletDisconnectionError"}};e.WalletDisconnectionError=l;var f=class extends t{constructor(){super(...arguments),this.name="WalletAccountError"}};e.WalletAccountError=f;var w=class extends t{constructor(){super(...arguments),this.name="WalletPublicKeyError"}};e.WalletPublicKeyError=w;var O=class extends t{constructor(){super(...arguments),this.name="WalletKeypairError"}};e.WalletKeypairError=O;var p=class extends t{constructor(){super(...arguments),this.name="WalletNotConnectedError"}};e.WalletNotConnectedError=p;var s=class extends t{constructor(){super(...arguments),this.name="WalletSendTransactionError"}};e.WalletSendTransactionError=s;var g=class extends t{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};e.WalletSignTransactionError=g;var M=class extends t{constructor(){super(...arguments),this.name="WalletSignMessageError"}};e.WalletSignMessageError=M;var d=class extends t{constructor(){super(...arguments),this.name="WalletSignInError"}};e.WalletSignInError=d;var A=class extends t{constructor(){super(...arguments),this.name="WalletTimeoutError"}};e.WalletTimeoutError=A;var W=class extends t{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}};e.WalletWindowBlockedError=W;var N=class extends t{constructor(){super(...arguments),this.name="WalletWindowClosedError"}};e.WalletWindowClosedError=N}}),rr=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/adapter.js"(e){var t=function(w,O,p,s){function g(M){return M instanceof p?M:new p(function(d){d(M)})}return new(p||(p=Promise))(function(M,d){function A(C){try{N(s.next(C))}catch(u){d(u)}}function W(C){try{N(s.throw(C))}catch(u){d(u)}}function N(C){C.done?M(C.value):g(C.value).then(A,W)}N((s=s.apply(w,O||[])).next())})},i=function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseWalletAdapter=e.WalletReadyState=e.EventEmitter=void 0,e.scopePollingDetectionStrategy=l,e.isIosAndRedirectable=f;const n=i(io());e.EventEmitter=n.default;const r=vn();var o;(function(w){w.Installed="Installed",w.NotDetected="NotDetected",w.Loadable="Loadable",w.Unsupported="Unsupported"})(o||(e.WalletReadyState=o={}));var a=class extends n.default{get connected(){return!!this.publicKey}autoConnect(){return t(this,void 0,void 0,function*(){yield this.connect()})}prepareTransaction(w,O){return t(this,arguments,void 0,function*(p,s,g={}){const M=this.publicKey;if(!M)throw new r.WalletNotConnectedError;return p.feePayer=p.feePayer||M,p.recentBlockhash=p.recentBlockhash||(yield s.getLatestBlockhash({commitment:g.preflightCommitment,minContextSlot:g.minContextSlot})).blockhash,p})}};e.BaseWalletAdapter=a;function l(w){if(typeof window>"u"||typeof document>"u")return;const O=[];function p(){if(w())for(const M of O)M()}const s=setInterval(p,1e3);O.push(()=>clearInterval(s)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",p,{once:!0}),O.push(()=>document.removeEventListener("DOMContentLoaded",p))),document.readyState!=="complete"&&(window.addEventListener("load",p,{once:!0}),O.push(()=>window.removeEventListener("load",p))),p()}function f(){if(!navigator)return!1;const w=navigator.userAgent.toLowerCase(),O=w.includes("iphone")||w.includes("ipad"),p=w.includes("safari");return O&&p}}}),or=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/transaction.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isVersionedTransaction=t;function t(i){return"version"in i}}}),Po=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/signer.js"(e){var t=function(w,O,p,s){function g(M){return M instanceof p?M:new p(function(d){d(M)})}return new(p||(p=Promise))(function(M,d){function A(C){try{N(s.next(C))}catch(u){d(u)}}function W(C){try{N(s.throw(C))}catch(u){d(u)}}function N(C){C.done?M(C.value):g(C.value).then(A,W)}N((s=s.apply(w,O||[])).next())})},i=function(w,O){var p={};for(var s in w)Object.prototype.hasOwnProperty.call(w,s)&&O.indexOf(s)<0&&(p[s]=w[s]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,s=Object.getOwnPropertySymbols(w);g<s.length;g++)O.indexOf(s[g])<0&&Object.prototype.propertyIsEnumerable.call(w,s[g])&&(p[s[g]]=w[s[g]]);return p};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSignInMessageSignerWalletAdapter=e.BaseMessageSignerWalletAdapter=e.BaseSignerWalletAdapter=void 0;const n=rr(),r=vn(),o=or();var a=class extends n.BaseWalletAdapter{sendTransaction(w,O){return t(this,arguments,void 0,function*(p,s,g={}){let M=!0;try{if((0,o.isVersionedTransaction)(p)){if(!this.supportedTransactionVersions)throw new r.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(p.version))throw new r.WalletSendTransactionError(`Sending transaction version ${p.version} isn't supported by this wallet`);try{p=yield this.signTransaction(p);const d=p.serialize();return yield s.sendRawTransaction(d,g)}catch(d){throw d instanceof r.WalletSignTransactionError?(M=!1,d):new r.WalletSendTransactionError(d==null?void 0:d.message,d)}}else try{const{signers:d}=g,A=i(g,["signers"]);p=yield this.prepareTransaction(p,s,A),d!=null&&d.length&&p.partialSign(...d),p=yield this.signTransaction(p);const W=p.serialize();return yield s.sendRawTransaction(W,A)}catch(d){throw d instanceof r.WalletSignTransactionError?(M=!1,d):new r.WalletSendTransactionError(d==null?void 0:d.message,d)}}catch(d){throw M&&this.emit("error",d),d}})}signAllTransactions(w){return t(this,void 0,void 0,function*(){for(const p of w)if((0,o.isVersionedTransaction)(p)){if(!this.supportedTransactionVersions)throw new r.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(p.version))throw new r.WalletSignTransactionError(`Signing transaction version ${p.version} isn't supported by this wallet`)}const O=[];for(const p of w)O.push(yield this.signTransaction(p));return O})}};e.BaseSignerWalletAdapter=a;var l=class extends a{};e.BaseMessageSignerWalletAdapter=l;var f=class extends l{};e.BaseSignInMessageSignerWalletAdapter=f}}),jo=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendTransaction.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaSignAndSendTransaction=void 0,e.SolanaSignAndSendTransaction="solana:signAndSendTransaction"}}),Do=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/signIn.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaSignIn=void 0,e.SolanaSignIn="solana:signIn"}}),Uo=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/signMessage.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaSignMessage=void 0,e.SolanaSignMessage="solana:signMessage"}}),qo=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/signTransaction.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaSignTransaction=void 0,e.SolanaSignTransaction="solana:signTransaction"}}),zo=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendAllTransactions.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SignAndSendAllTransactions=void 0,e.SignAndSendAllTransactions="solana:signAndSendAllTransactions"}}),bn=oe({"../../node_modules/@solana/wallet-standard-features/lib/cjs/index.js"(e){var t=Object.create?function(n,r,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(n,a,l)}:function(n,r,o,a){a===void 0&&(a=o),n[a]=r[o]},i=function(n,r){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&t(r,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),i(jo(),e),i(Do(),e),i(Uo(),e),i(qo(),e),i(zo(),e)}}),ko=oe({"../../node_modules/@wallet-standard/features/lib/cjs/connect.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connect=e.StandardConnect=void 0,e.StandardConnect="standard:connect",e.Connect=e.StandardConnect}}),Fo=oe({"../../node_modules/@wallet-standard/features/lib/cjs/disconnect.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disconnect=e.StandardDisconnect=void 0,e.StandardDisconnect="standard:disconnect",e.Disconnect=e.StandardDisconnect}}),xo=oe({"../../node_modules/@wallet-standard/features/lib/cjs/events.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Events=e.StandardEvents=void 0,e.StandardEvents="standard:events",e.Events=e.StandardEvents}}),ir=oe({"../../node_modules/@wallet-standard/features/lib/cjs/index.js"(e){var t=Object.create?function(n,r,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(n,a,l)}:function(n,r,o,a){a===void 0&&(a=o),n[a]=r[o]},i=function(n,r){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&t(r,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),i(ko(),e),i(Fo(),e),i(xo(),e)}}),$o=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/standard.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isWalletAdapterCompatibleStandardWallet=n;const t=bn(),i=ir();function n(r){return i.StandardConnect in r.features&&i.StandardEvents in r.features&&(t.SolanaSignAndSendTransaction in r.features||t.SolanaSignTransaction in r.features)}}}),Ko=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/types.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletAdapterNetwork=void 0;var t;(function(i){i.Mainnet="mainnet-beta",i.Testnet="testnet",i.Devnet="devnet"})(t||(e.WalletAdapterNetwork=t={}))}}),Ho=oe({"../../node_modules/@solana/wallet-adapter-base/lib/cjs/index.js"(e){var t=Object.create?function(n,r,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(n,a,l)}:function(n,r,o,a){a===void 0&&(a=o),n[a]=r[o]},i=function(n,r){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&t(r,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),i(rr(),e),i(vn(),e),i(Po(),e),i($o(),e),i(or(),e),i(Ko(),e)}}),Vo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/can-promise.js"(e,t){t.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}}}),yt=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js"(e){let t;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},e.getSymbolTotalCodewords=function(r){return i[r]},e.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},e.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},e.isKanjiModeEnabled=function(){return typeof t<"u"},e.toSJIS=function(r){return t(r)}}}),yn=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-level.js"(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+i)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,r){if(e.isValid(n))return n;try{return t(n)}catch{return r}}}}),Go=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-buffer.js"(e,t){function i(){this.buffer=[],this.length=0}i.prototype={get:function(n){const r=Math.floor(n/8);return(this.buffer[r]>>>7-n%8&1)===1},put:function(n,r){for(let o=0;o<r;o++)this.putBit((n>>>r-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),n&&(this.buffer[r]|=128>>>this.length%8),this.length++}},t.exports=i}}),Zo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-matrix.js"(e,t){function i(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}i.prototype.set=function(n,r,o,a){const l=n*this.size+r;this.data[l]=o,a&&(this.reservedBit[l]=!0)},i.prototype.get=function(n,r){return this.data[n*this.size+r]},i.prototype.xor=function(n,r,o){this.data[n*this.size+r]^=o},i.prototype.isReserved=function(n,r){return this.reservedBit[n*this.size+r]},t.exports=i}}),Yo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alignment-pattern.js"(e){const t=yt().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,o=t(n),a=o===145?26:Math.ceil((o-13)/(2*r-2))*2,l=[o-7];for(let f=1;f<r-1;f++)l[f]=l[f-1]-a;return l.push(6),l.reverse()},e.getPositions=function(n){const r=[],o=e.getRowColCoords(n),a=o.length;for(let l=0;l<a;l++)for(let f=0;f<a;f++)l===0&&f===0||l===0&&f===a-1||l===a-1&&f===0||r.push([o[l],o[f]]);return r}}}),Qo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/finder-pattern.js"(e){const t=yt().getSymbolSize,i=7;e.getPositions=function(r){const o=t(r);return[[0,0],[o-i,0],[0,o-i]]}}}),Jo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mask-pattern.js"(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const o=r.size;let a=0,l=0,f=0,w=null,O=null;for(let p=0;p<o;p++){l=f=0,w=O=null;for(let s=0;s<o;s++){let g=r.get(p,s);g===w?l++:(l>=5&&(a+=t.N1+(l-5)),w=g,l=1),g=r.get(s,p),g===O?f++:(f>=5&&(a+=t.N1+(f-5)),O=g,f=1)}l>=5&&(a+=t.N1+(l-5)),f>=5&&(a+=t.N1+(f-5))}return a},e.getPenaltyN2=function(r){const o=r.size;let a=0;for(let l=0;l<o-1;l++)for(let f=0;f<o-1;f++){const w=r.get(l,f)+r.get(l,f+1)+r.get(l+1,f)+r.get(l+1,f+1);(w===4||w===0)&&a++}return a*t.N2},e.getPenaltyN3=function(r){const o=r.size;let a=0,l=0,f=0;for(let w=0;w<o;w++){l=f=0;for(let O=0;O<o;O++)l=l<<1&2047|r.get(w,O),O>=10&&(l===1488||l===93)&&a++,f=f<<1&2047|r.get(O,w),O>=10&&(f===1488||f===93)&&a++}return a*t.N3},e.getPenaltyN4=function(r){let o=0;const a=r.data.length;for(let f=0;f<a;f++)o+=r.data[f];return Math.abs(Math.ceil(o*100/a/5)-10)*t.N4};function i(n,r,o){switch(n){case e.Patterns.PATTERN000:return(r+o)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(r+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return r*o%2+r*o%3===0;case e.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case e.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(r,o){const a=o.size;for(let l=0;l<a;l++)for(let f=0;f<a;f++)o.isReserved(f,l)||o.xor(f,l,i(r,f,l))},e.getBestMask=function(r,o){const a=Object.keys(e.Patterns).length;let l=0,f=1/0;for(let w=0;w<a;w++){o(w),e.applyMask(w,r);const O=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(w,r),O<f&&(f=O,l=w)}return l}}}),ar=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-code.js"(e){const t=yn(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(o,a){switch(a){case t.L:return i[(o-1)*4+0];case t.M:return i[(o-1)*4+1];case t.Q:return i[(o-1)*4+2];case t.H:return i[(o-1)*4+3];default:return}},e.getTotalCodewordsCount=function(o,a){switch(a){case t.L:return n[(o-1)*4+0];case t.M:return n[(o-1)*4+1];case t.Q:return n[(o-1)*4+2];case t.H:return n[(o-1)*4+3];default:return}}}}),Xo=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/galois-field.js"(e){const t=new Uint8Array(512),i=new Uint8Array(256);(function(){let r=1;for(let o=0;o<255;o++)t[o]=r,i[r]=o,r<<=1,r&256&&(r^=285);for(let o=255;o<512;o++)t[o]=t[o-255]})(),e.log=function(r){if(r<1)throw new Error("log("+r+")");return i[r]},e.exp=function(r){return t[r]},e.mul=function(r,o){return r===0||o===0?0:t[i[r]+i[o]]}}}),ei=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/polynomial.js"(e){const t=Xo();e.mul=function(n,r){const o=new Uint8Array(n.length+r.length-1);for(let a=0;a<n.length;a++)for(let l=0;l<r.length;l++)o[a+l]^=t.mul(n[a],r[l]);return o},e.mod=function(n,r){let o=new Uint8Array(n);for(;o.length-r.length>=0;){const a=o[0];for(let f=0;f<r.length;f++)o[f]^=t.mul(r[f],a);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let o=0;o<n;o++)r=e.mul(r,new Uint8Array([1,t.exp(o)]));return r}}}),ti=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/reed-solomon-encoder.js"(e,t){const i=ei();function n(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(o){this.degree=o,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(o.length+this.degree);a.set(o);const l=i.mod(a,this.genPoly),f=this.degree-l.length;if(f>0){const w=new Uint8Array(this.degree);return w.set(l,f),w}return l},t.exports=n}}),sr=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version-check.js"(e){e.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}}}),lr=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/regex.js"(e){const t="[0-9]+",i="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(t,"g"),e.ALPHANUMERIC=new RegExp(i,"g");const o=new RegExp("^"+n+"$"),a=new RegExp("^"+t+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(w){return o.test(w)},e.testNumeric=function(w){return a.test(w)},e.testAlphanumeric=function(w){return l.test(w)}}}),Et=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"(e){const t=sr(),i=lr();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return i.testNumeric(o)?e.NUMERIC:i.testAlphanumeric(o)?e.ALPHANUMERIC:i.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(o,a){if(e.isValid(o))return o;try{return n(o)}catch{return a}}}}),ni=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version.js"(e){const t=yt(),i=ar(),n=yn(),r=Et(),o=sr(),a=7973,l=t.getBCHDigit(a);function f(s,g,M){for(let d=1;d<=40;d++)if(g<=e.getCapacity(d,M,s))return d}function w(s,g){return r.getCharCountIndicator(s,g)+4}function O(s,g){let M=0;return s.forEach(function(d){const A=w(d.mode,g);M+=A+d.getBitsLength()}),M}function p(s,g){for(let M=1;M<=40;M++)if(O(s,M)<=e.getCapacity(M,g,r.MIXED))return M}e.from=function(g,M){return o.isValid(g)?parseInt(g,10):M},e.getCapacity=function(g,M,d){if(!o.isValid(g))throw new Error("Invalid QR Code version");typeof d>"u"&&(d=r.BYTE);const A=t.getSymbolTotalCodewords(g),W=i.getTotalCodewordsCount(g,M),N=(A-W)*8;if(d===r.MIXED)return N;const C=N-w(d,g);switch(d){case r.NUMERIC:return Math.floor(C/10*3);case r.ALPHANUMERIC:return Math.floor(C/11*2);case r.KANJI:return Math.floor(C/13);case r.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(g,M){let d;const A=n.from(M,n.M);if(Array.isArray(g)){if(g.length>1)return p(g,A);if(g.length===0)return 1;d=g[0]}else d=g;return f(d.mode,d.getLength(),A)},e.getEncodedBits=function(g){if(!o.isValid(g)||g<7)throw new Error("Invalid QR Code version");let M=g<<12;for(;t.getBCHDigit(M)-l>=0;)M^=a<<t.getBCHDigit(M)-l;return g<<12|M}}}),ri=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/format-info.js"(e){const t=yt(),i=1335,n=21522,r=t.getBCHDigit(i);e.getEncodedBits=function(a,l){const f=a.bit<<3|l;let w=f<<10;for(;t.getBCHDigit(w)-r>=0;)w^=i<<t.getBCHDigit(w)-r;return(f<<10|w)^n}}}),oi=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/numeric-data.js"(e,t){const i=Et();function n(r){this.mode=i.NUMERIC,this.data=r.toString()}n.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let a,l,f;for(a=0;a+3<=this.data.length;a+=3)l=this.data.substr(a,3),f=parseInt(l,10),o.put(f,10);const w=this.data.length-a;w>0&&(l=this.data.substr(a),f=parseInt(l,10),o.put(f,w*3+1))},t.exports=n}}),ii=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alphanumeric-data.js"(e,t){const i=Et(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(o){this.mode=i.ALPHANUMERIC,this.data=o}r.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(a){let l;for(l=0;l+2<=this.data.length;l+=2){let f=n.indexOf(this.data[l])*45;f+=n.indexOf(this.data[l+1]),a.put(f,11)}this.data.length%2&&a.put(n.indexOf(this.data[l]),6)},t.exports=r}}),ai=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/byte-data.js"(e,t){const i=Et();function n(r){this.mode=i.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}n.getBitsLength=function(o){return o*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let o=0,a=this.data.length;o<a;o++)r.put(this.data[o],8)},t.exports=n}}),si=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/kanji-data.js"(e,t){const i=Et(),n=yt();function r(o){this.mode=i.KANJI,this.data=o}r.getBitsLength=function(a){return a*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let a;for(a=0;a<this.data.length;a++){let l=n.toSJIS(this.data[a]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),o.put(l,13)}},t.exports=r}}),li=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/segments.js"(e){const t=Et(),i=oi(),n=ii(),r=ai(),o=si(),a=lr(),l=yt(),f=po();function w(W){return unescape(encodeURIComponent(W)).length}function O(W,N,C){const u=[];let Y;for(;(Y=W.exec(C))!==null;)u.push({data:Y[0],index:Y.index,mode:N,length:Y[0].length});return u}function p(W){const N=O(a.NUMERIC,t.NUMERIC,W),C=O(a.ALPHANUMERIC,t.ALPHANUMERIC,W);let u,Y;return l.isKanjiModeEnabled()?(u=O(a.BYTE,t.BYTE,W),Y=O(a.KANJI,t.KANJI,W)):(u=O(a.BYTE_KANJI,t.BYTE,W),Y=[]),N.concat(C,u,Y).sort(function(v,m){return v.index-m.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function s(W,N){switch(N){case t.NUMERIC:return i.getBitsLength(W);case t.ALPHANUMERIC:return n.getBitsLength(W);case t.KANJI:return o.getBitsLength(W);case t.BYTE:return r.getBitsLength(W)}}function g(W){return W.reduce(function(N,C){const u=N.length-1>=0?N[N.length-1]:null;return u&&u.mode===C.mode?(N[N.length-1].data+=C.data,N):(N.push(C),N)},[])}function M(W){const N=[];for(let C=0;C<W.length;C++){const u=W[C];switch(u.mode){case t.NUMERIC:N.push([u,{data:u.data,mode:t.ALPHANUMERIC,length:u.length},{data:u.data,mode:t.BYTE,length:u.length}]);break;case t.ALPHANUMERIC:N.push([u,{data:u.data,mode:t.BYTE,length:u.length}]);break;case t.KANJI:N.push([u,{data:u.data,mode:t.BYTE,length:w(u.data)}]);break;case t.BYTE:N.push([{data:u.data,mode:t.BYTE,length:w(u.data)}])}}return N}function d(W,N){const C={},u={start:{}};let Y=["start"];for(let L=0;L<W.length;L++){const v=W[L],m=[];for(let _=0;_<v.length;_++){const h=v[_],j=""+L+_;m.push(j),C[j]={node:h,lastCount:0},u[j]={};for(let P=0;P<Y.length;P++){const q=Y[P];C[q]&&C[q].node.mode===h.mode?(u[q][j]=s(C[q].lastCount+h.length,h.mode)-s(C[q].lastCount,h.mode),C[q].lastCount+=h.length):(C[q]&&(C[q].lastCount=h.length),u[q][j]=s(h.length,h.mode)+4+t.getCharCountIndicator(h.mode,N))}}Y=m}for(let L=0;L<Y.length;L++)u[Y[L]].end=0;return{map:u,table:C}}function A(W,N){let C;const u=t.getBestModeForData(W);if(C=t.from(N,u),C!==t.BYTE&&C.bit<u.bit)throw new Error('"'+W+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(u));switch(C===t.KANJI&&!l.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new i(W);case t.ALPHANUMERIC:return new n(W);case t.KANJI:return new o(W);case t.BYTE:return new r(W)}}e.fromArray=function(N){return N.reduce(function(C,u){return typeof u=="string"?C.push(A(u,null)):u.data&&C.push(A(u.data,u.mode)),C},[])},e.fromString=function(N,C){const u=p(N,l.isKanjiModeEnabled()),Y=M(u),L=d(Y,C),v=f.find_path(L.map,"start","end"),m=[];for(let _=1;_<v.length-1;_++)m.push(L.table[v[_]].node);return e.fromArray(g(m))},e.rawSplit=function(N){return e.fromArray(p(N,l.isKanjiModeEnabled()))}}}),ci=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/qrcode.js"(e){const t=yt(),i=yn(),n=Go(),r=Zo(),o=Yo(),a=Qo(),l=Jo(),f=ar(),w=ti(),O=ni(),p=ri(),s=Et(),g=li();function M(v,m){const _=v.size,h=a.getPositions(m);for(let j=0;j<h.length;j++){const P=h[j][0],q=h[j][1];for(let $=-1;$<=7;$++)if(!(P+$<=-1||_<=P+$))for(let y=-1;y<=7;y++)q+y<=-1||_<=q+y||($>=0&&$<=6&&(y===0||y===6)||y>=0&&y<=6&&($===0||$===6)||$>=2&&$<=4&&y>=2&&y<=4?v.set(P+$,q+y,!0,!0):v.set(P+$,q+y,!1,!0))}}function d(v){const m=v.size;for(let _=8;_<m-8;_++){const h=_%2===0;v.set(_,6,h,!0),v.set(6,_,h,!0)}}function A(v,m){const _=o.getPositions(m);for(let h=0;h<_.length;h++){const j=_[h][0],P=_[h][1];for(let q=-2;q<=2;q++)for(let $=-2;$<=2;$++)q===-2||q===2||$===-2||$===2||q===0&&$===0?v.set(j+q,P+$,!0,!0):v.set(j+q,P+$,!1,!0)}}function W(v,m){const _=v.size,h=O.getEncodedBits(m);let j,P,q;for(let $=0;$<18;$++)j=Math.floor($/3),P=$%3+_-8-3,q=(h>>$&1)===1,v.set(j,P,q,!0),v.set(P,j,q,!0)}function N(v,m,_){const h=v.size,j=p.getEncodedBits(m,_);let P,q;for(P=0;P<15;P++)q=(j>>P&1)===1,P<6?v.set(P,8,q,!0):P<8?v.set(P+1,8,q,!0):v.set(h-15+P,8,q,!0),P<8?v.set(8,h-P-1,q,!0):P<9?v.set(8,15-P-1+1,q,!0):v.set(8,15-P-1,q,!0);v.set(h-8,8,1,!0)}function C(v,m){const _=v.size;let h=-1,j=_-1,P=7,q=0;for(let $=_-1;$>0;$-=2)for($===6&&$--;;){for(let y=0;y<2;y++)if(!v.isReserved(j,$-y)){let K=!1;q<m.length&&(K=(m[q]>>>P&1)===1),v.set(j,$-y,K),P--,P===-1&&(q++,P=7)}if(j+=h,j<0||_<=j){j-=h,h=-h;break}}}function u(v,m,_){const h=new n;_.forEach(function(y){h.put(y.mode.bit,4),h.put(y.getLength(),s.getCharCountIndicator(y.mode,v)),y.write(h)});const j=t.getSymbolTotalCodewords(v),P=f.getTotalCodewordsCount(v,m),q=(j-P)*8;for(h.getLengthInBits()+4<=q&&h.put(0,4);h.getLengthInBits()%8!==0;)h.putBit(0);const $=(q-h.getLengthInBits())/8;for(let y=0;y<$;y++)h.put(y%2?17:236,8);return Y(h,v,m)}function Y(v,m,_){const h=t.getSymbolTotalCodewords(m),j=f.getTotalCodewordsCount(m,_),P=h-j,q=f.getBlocksCount(m,_),$=h%q,y=q-$,K=Math.floor(h/q),c=Math.floor(P/q),I=c+1,z=K-c,U=new w(z);let Z=0;const T=new Array(q),k=new Array(q);let B=0;const F=new Uint8Array(v.buffer);for(let Q=0;Q<q;Q++){const ie=Q<y?c:I;T[Q]=F.slice(Z,Z+ie),k[Q]=U.encode(T[Q]),Z+=ie,B=Math.max(B,ie)}const re=new Uint8Array(h);let S=0,R,G;for(R=0;R<B;R++)for(G=0;G<q;G++)R<T[G].length&&(re[S++]=T[G][R]);for(R=0;R<z;R++)for(G=0;G<q;G++)re[S++]=k[G][R];return re}function L(v,m,_,h){let j;if(Array.isArray(v))j=g.fromArray(v);else if(typeof v=="string"){let K=m;if(!K){const c=g.rawSplit(v);K=O.getBestVersionForData(c,_)}j=g.fromString(v,K||40)}else throw new Error("Invalid data");const P=O.getBestVersionForData(j,_);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!m)m=P;else if(m<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const q=u(m,_,j),$=t.getSymbolSize(m),y=new r($);return M(y,m),d(y),A(y,m),N(y,_,0),m>=7&&W(y,m),C(y,q),isNaN(h)&&(h=l.getBestMask(y,N.bind(null,y,_))),l.applyMask(h,y),N(y,_,h),{modules:y,version:m,errorCorrectionLevel:_,maskPattern:h,segments:j}}e.create=function(m,_){if(typeof m>"u"||m==="")throw new Error("No input text");let h=i.M,j,P;return typeof _<"u"&&(h=i.from(_.errorCorrectionLevel,i.M),j=O.from(_.version),P=l.from(_.maskPattern),_.toSJISFunc&&t.setToSJISFunction(_.toSJISFunc)),L(m,j,h,P)}}}),cr=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/utils.js"(e){function t(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:o,scale:o?4:a,margin:r,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},e.getImageWidth=function(n,r){const o=e.getScale(n,r);return Math.floor((n+r.margin*2)*o)},e.qrToImageData=function(n,r,o){const a=r.modules.size,l=r.modules.data,f=e.getScale(a,o),w=Math.floor((a+o.margin*2)*f),O=o.margin*f,p=[o.color.light,o.color.dark];for(let s=0;s<w;s++)for(let g=0;g<w;g++){let M=(s*w+g)*4,d=o.color.light;if(s>=O&&g>=O&&s<w-O&&g<w-O){const A=Math.floor((s-O)/f),W=Math.floor((g-O)/f);d=p[l[A*a+W]?1:0]}n[M++]=d.r,n[M++]=d.g,n[M++]=d.b,n[M]=d.a}}}}),di=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/canvas.js"(e){const t=cr();function i(r,o,a){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,a,l){let f=l,w=a;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),a||(w=n()),f=t.getOptions(f);const O=t.getImageWidth(o.modules.size,f),p=w.getContext("2d"),s=p.createImageData(O,O);return t.qrToImageData(s.data,o,f),i(p,w,O),p.putImageData(s,0,0),w},e.renderToDataURL=function(o,a,l){let f=l;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),f||(f={});const w=e.render(o,a,f),O=f.type||"image/png",p=f.rendererOpts||{};return w.toDataURL(O,p.quality)}}}),ui=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/svg-tag.js"(e){const t=cr();function i(o,a){const l=o.a/255,f=a+'="'+o.hex+'"';return l<1?f+" "+a+'-opacity="'+l.toFixed(2).slice(1)+'"':f}function n(o,a,l){let f=o+a;return typeof l<"u"&&(f+=" "+l),f}function r(o,a,l){let f="",w=0,O=!1,p=0;for(let s=0;s<o.length;s++){const g=Math.floor(s%a),M=Math.floor(s/a);!g&&!O&&(O=!0),o[s]?(p++,s>0&&g>0&&o[s-1]||(f+=O?n("M",g+l,.5+M+l):n("m",w,0),w=0,O=!1),g+1<a&&o[s+1]||(f+=n("h",p),p=0)):w++}return f}e.render=function(a,l,f){const w=t.getOptions(l),O=a.modules.size,p=a.modules.data,s=O+w.margin*2,g=w.color.light.a?"<path "+i(w.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",M="<path "+i(w.color.dark,"stroke")+' d="'+r(p,O,w.margin)+'"/>',d='viewBox="0 0 '+s+" "+s+'"',W='<svg xmlns="http://www.w3.org/2000/svg" '+(w.width?'width="'+w.width+'" height="'+w.width+'" ':"")+d+' shape-rendering="crispEdges">'+g+M+`</svg>
`;return typeof f=="function"&&f(null,W),W}}}),fi=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/browser.js"(e){const t=Vo(),i=ci(),n=di(),r=ui();function o(a,l,f,w,O){const p=[].slice.call(arguments,1),s=p.length,g=typeof p[s-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(s<2)throw new Error("Too few arguments provided");s===2?(O=f,f=l,l=w=void 0):s===3&&(l.getContext&&typeof O>"u"?(O=w,w=void 0):(O=w,w=f,f=l,l=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(f=l,l=w=void 0):s===2&&!l.getContext&&(w=f,f=l,l=void 0),new Promise(function(M,d){try{const A=i.create(f,w);M(a(A,l,w))}catch(A){d(A)}})}try{const M=i.create(f,w);O(null,a(M,l,w))}catch(M){O(M)}}e.create=i.create,e.toCanvas=o.bind(null,n.render),e.toDataURL=o.bind(null,n.renderToDataURL),e.toString=o.bind(null,function(a,l,f){return r.render(a,f)})}}),dr=oe({"../../node_modules/@solana/wallet-standard-chains/lib/cjs/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SOLANA_CHAINS=e.SOLANA_LOCALNET_CHAIN=e.SOLANA_TESTNET_CHAIN=e.SOLANA_DEVNET_CHAIN=e.SOLANA_MAINNET_CHAIN=void 0,e.isSolanaChain=t,e.SOLANA_MAINNET_CHAIN="solana:mainnet",e.SOLANA_DEVNET_CHAIN="solana:devnet",e.SOLANA_TESTNET_CHAIN="solana:testnet",e.SOLANA_LOCALNET_CHAIN="solana:localnet",e.SOLANA_CHAINS=[e.SOLANA_MAINNET_CHAIN,e.SOLANA_DEVNET_CHAIN,e.SOLANA_TESTNET_CHAIN,e.SOLANA_LOCALNET_CHAIN];function t(i){return e.SOLANA_CHAINS.includes(i)}}}),hi=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/commitment.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCommitment=t;function t(i){switch(i){case"processed":case"confirmed":case"finalized":case void 0:return i;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}}}),mi=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/endpoint.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LOCALNET_ENDPOINT=e.TESTNET_ENDPOINT=e.DEVNET_ENDPOINT=e.MAINNET_ENDPOINT=void 0,e.getChainForEndpoint=i,e.getEndpointForChain=n;const t=dr();e.MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com",e.DEVNET_ENDPOINT="https://api.devnet.solana.com",e.TESTNET_ENDPOINT="https://api.testnet.solana.com",e.LOCALNET_ENDPOINT="http://localhost:8899";function i(r){return r.includes(e.MAINNET_ENDPOINT)?t.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(r)?t.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(r)?t.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?t.SOLANA_LOCALNET_CHAIN:t.SOLANA_MAINNET_CHAIN}function n(r,o){return o||(r===t.SOLANA_MAINNET_CHAIN?e.MAINNET_ENDPOINT:r===t.SOLANA_DEVNET_CHAIN?e.DEVNET_ENDPOINT:r===t.SOLANA_TESTNET_CHAIN?e.TESTNET_ENDPOINT:r===t.SOLANA_LOCALNET_CHAIN?e.LOCALNET_ENDPOINT:e.MAINNET_ENDPOINT)}}}),Dt=oe({"../../node_modules/@noble/curves/abstract/modular.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNegativeLE=void 0,e.mod=w,e.pow=O,e.pow2=p,e.invert=s,e.tonelliShanks=d,e.FpSqrt=A,e.validateField=C,e.FpPow=u,e.FpInvertBatch=Y,e.FpDiv=L,e.FpLegendre=v,e.FpIsSquare=m,e.nLength=_,e.Field=h,e.FpSqrtOdd=j,e.FpSqrtEven=P,e.hashToPrivateScalar=q,e.getFieldBytesLength=$,e.getMinHashLength=y,e.mapHashToField=K;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ct(),i=BigInt(0),n=BigInt(1),r=BigInt(2),o=BigInt(3),a=BigInt(4),l=BigInt(5),f=BigInt(8);function w(c,I){const z=c%I;return z>=i?z:I+z}function O(c,I,z){return u(h(z),c,I)}function p(c,I,z){let U=c;for(;I-- >i;)U*=U,U%=z;return U}function s(c,I){if(c===i)throw new Error("invert: expected non-zero number");if(I<=i)throw new Error("invert: expected positive modulus, got "+I);let z=w(c,I),U=I,Z=i,T=n,k=n,B=i;for(;z!==i;){const re=U/z,S=U%z,R=Z-k*re,G=T-B*re;U=z,z=S,Z=k,T=B,k=R,B=G}if(U!==n)throw new Error("invert: does not exist");return w(Z,I)}function g(c,I){const z=(c.ORDER+n)/a,U=c.pow(I,z);if(!c.eql(c.sqr(U),I))throw new Error("Cannot find square root");return U}function M(c,I){const z=(c.ORDER-l)/f,U=c.mul(I,r),Z=c.pow(U,z),T=c.mul(I,Z),k=c.mul(c.mul(T,r),Z),B=c.mul(T,c.sub(k,c.ONE));if(!c.eql(c.sqr(B),I))throw new Error("Cannot find square root");return B}function d(c){if(c<BigInt(3))throw new Error("sqrt is not defined for small field");let I=c-n,z=0;for(;I%r===i;)I/=r,z++;let U=r;const Z=h(c);for(;v(Z,U)===1;)if(U++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(z===1)return g;let T=Z.pow(U,I);const k=(I+n)/r;return function(F,re){if(F.is0(re))return re;if(v(F,re)!==1)throw new Error("Cannot find square root");let S=z,R=F.mul(F.ONE,T),G=F.pow(re,I),Q=F.pow(re,k);for(;!F.eql(G,F.ONE);){if(F.is0(G))return F.ZERO;let ie=1,J=F.sqr(G);for(;!F.eql(J,F.ONE);)if(ie++,J=F.sqr(J),ie===S)throw new Error("Cannot find square root");const ne=n<<BigInt(S-ie-1),fe=F.pow(R,ne);S=ie,R=F.sqr(fe),G=F.mul(G,R),Q=F.mul(Q,fe)}return Q}}function A(c){return c%a===o?g:c%f===l?M:d(c)}const W=(c,I)=>(w(c,I)&n)===n;e.isNegativeLE=W;const N=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function C(c){const I={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},z=N.reduce((U,Z)=>(U[Z]="function",U),I);return(0,t._validateObject)(c,z),c}function u(c,I,z){if(z<i)throw new Error("invalid exponent, negatives unsupported");if(z===i)return c.ONE;if(z===n)return I;let U=c.ONE,Z=I;for(;z>i;)z&n&&(U=c.mul(U,Z)),Z=c.sqr(Z),z>>=n;return U}function Y(c,I,z=!1){const U=new Array(I.length).fill(z?c.ZERO:void 0),Z=I.reduce((k,B,F)=>c.is0(B)?k:(U[F]=k,c.mul(k,B)),c.ONE),T=c.inv(Z);return I.reduceRight((k,B,F)=>c.is0(B)?k:(U[F]=c.mul(k,U[F]),c.mul(k,B)),T),U}function L(c,I,z){return c.mul(I,typeof z=="bigint"?s(z,c.ORDER):c.inv(z))}function v(c,I){const z=(c.ORDER-n)/r,U=c.pow(I,z),Z=c.eql(U,c.ONE),T=c.eql(U,c.ZERO),k=c.eql(U,c.neg(c.ONE));if(!Z&&!T&&!k)throw new Error("invalid Legendre symbol result");return Z?1:T?0:-1}function m(c,I){return v(c,I)===1}function _(c,I){I!==void 0&&(0,t.anumber)(I);const z=I!==void 0?I:c.toString(2).length,U=Math.ceil(z/8);return{nBitLength:z,nByteLength:U}}function h(c,I,z=!1,U={}){if(c<=i)throw new Error("invalid field: expected ORDER > 0, got "+c);let Z,T;if(typeof I=="object"&&I!=null){if(U.sqrt||z)throw new Error("cannot specify opts in two arguments");const S=I;S.BITS&&(Z=S.BITS),S.sqrt&&(T=S.sqrt),typeof S.isLE=="boolean"&&(z=S.isLE)}else typeof I=="number"&&(Z=I),U.sqrt&&(T=U.sqrt);const{nBitLength:k,nByteLength:B}=_(c,Z);if(B>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let F;const re=Object.freeze({ORDER:c,isLE:z,BITS:k,BYTES:B,MASK:(0,t.bitMask)(k),ZERO:i,ONE:n,create:S=>w(S,c),isValid:S=>{if(typeof S!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof S);return i<=S&&S<c},is0:S=>S===i,isValidNot0:S=>!re.is0(S)&&re.isValid(S),isOdd:S=>(S&n)===n,neg:S=>w(-S,c),eql:(S,R)=>S===R,sqr:S=>w(S*S,c),add:(S,R)=>w(S+R,c),sub:(S,R)=>w(S-R,c),mul:(S,R)=>w(S*R,c),pow:(S,R)=>u(re,S,R),div:(S,R)=>w(S*s(R,c),c),sqrN:S=>S*S,addN:(S,R)=>S+R,subN:(S,R)=>S-R,mulN:(S,R)=>S*R,inv:S=>s(S,c),sqrt:T||(S=>(F||(F=A(c)),F(re,S))),toBytes:S=>z?(0,t.numberToBytesLE)(S,B):(0,t.numberToBytesBE)(S,B),fromBytes:S=>{if(S.length!==B)throw new Error("Field.fromBytes: expected "+B+" bytes, got "+S.length);return z?(0,t.bytesToNumberLE)(S):(0,t.bytesToNumberBE)(S)},invertBatch:S=>Y(re,S),cmov:(S,R,G)=>G?R:S});return Object.freeze(re)}function j(c,I){if(!c.isOdd)throw new Error("Field doesn't have isOdd");const z=c.sqrt(I);return c.isOdd(z)?z:c.neg(z)}function P(c,I){if(!c.isOdd)throw new Error("Field doesn't have isOdd");const z=c.sqrt(I);return c.isOdd(z)?c.neg(z):z}function q(c,I,z=!1){c=(0,t.ensureBytes)("privateHash",c);const U=c.length,Z=_(I).nByteLength+8;if(Z<24||U<Z||U>1024)throw new Error("hashToPrivateScalar: expected "+Z+"-1024 bytes of input, got "+U);const T=z?(0,t.bytesToNumberLE)(c):(0,t.bytesToNumberBE)(c);return w(T,I-n)+n}function $(c){if(typeof c!="bigint")throw new Error("field order must be bigint");const I=c.toString(2).length;return Math.ceil(I/8)}function y(c){const I=$(c);return I+Math.ceil(I/2)}function K(c,I,z=!1){const U=c.length,Z=$(I),T=y(I);if(U<16||U<T||U>1024)throw new Error("expected "+T+"-1024 bytes of input, got "+U);const k=z?(0,t.bytesToNumberLE)(c):(0,t.bytesToNumberBE)(c),B=w(k,I-n)+n;return z?(0,t.numberToBytesLE)(B,Z):(0,t.numberToBytesBE)(B,Z)}}}),ur=oe({"../../node_modules/@noble/curves/abstract/curve.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.negateCt=o,e.normalizeZ=a,e.wNAF=A,e.mulEndoUnsafe=W,e.pippenger=N,e.precomputeMSMUnsafe=C,e.validateBasic=u,e._createCurveFields=L;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ct(),i=Dt(),n=BigInt(0),r=BigInt(1);function o(v,m){const _=m.negate();return v?_:m}function a(v,m,_){const h=m==="pz"?q=>q.pz:q=>q.ez,j=(0,i.FpInvertBatch)(v.Fp,_.map(h));return _.map((q,$)=>q.toAffine(j[$])).map(v.fromAffine)}function l(v,m){if(!Number.isSafeInteger(v)||v<=0||v>m)throw new Error("invalid window size, expected [1.."+m+"], got W="+v)}function f(v,m){l(v,m);const _=Math.ceil(m/v)+1,h=2**(v-1),j=2**v,P=(0,t.bitMask)(v),q=BigInt(v);return{windows:_,windowSize:h,mask:P,maxNumber:j,shiftBy:q}}function w(v,m,_){const{windowSize:h,mask:j,maxNumber:P,shiftBy:q}=_;let $=Number(v&j),y=v>>q;$>h&&($-=P,y+=r);const K=m*h,c=K+Math.abs($)-1,I=$===0,z=$<0,U=m%2!==0;return{nextN:y,offset:c,isZero:I,isNeg:z,isNegF:U,offsetF:K}}function O(v,m){if(!Array.isArray(v))throw new Error("array expected");v.forEach((_,h)=>{if(!(_ instanceof m))throw new Error("invalid point at index "+h)})}function p(v,m){if(!Array.isArray(v))throw new Error("array of scalars expected");v.forEach((_,h)=>{if(!m.isValid(_))throw new Error("invalid scalar at index "+h)})}const s=new WeakMap,g=new WeakMap;function M(v){return g.get(v)||1}function d(v){if(v!==n)throw new Error("invalid wNAF")}function A(v,m){return{constTimeNegate:o,hasPrecomputes(_){return M(_)!==1},unsafeLadder(_,h,j=v.ZERO){let P=_;for(;h>n;)h&r&&(j=j.add(P)),P=P.double(),h>>=r;return j},precomputeWindow(_,h){const{windows:j,windowSize:P}=f(h,m),q=[];let $=_,y=$;for(let K=0;K<j;K++){y=$,q.push(y);for(let c=1;c<P;c++)y=y.add($),q.push(y);$=y.double()}return q},wNAF(_,h,j){let P=v.ZERO,q=v.BASE;const $=f(_,m);for(let y=0;y<$.windows;y++){const{nextN:K,offset:c,isZero:I,isNeg:z,isNegF:U,offsetF:Z}=w(j,y,$);j=K,I?q=q.add(o(U,h[Z])):P=P.add(o(z,h[c]))}return d(j),{p:P,f:q}},wNAFUnsafe(_,h,j,P=v.ZERO){const q=f(_,m);for(let $=0;$<q.windows&&j!==n;$++){const{nextN:y,offset:K,isZero:c,isNeg:I}=w(j,$,q);if(j=y,!c){const z=h[K];P=P.add(I?z.negate():z)}}return d(j),P},getPrecomputes(_,h,j){let P=s.get(h);return P||(P=this.precomputeWindow(h,_),_!==1&&(typeof j=="function"&&(P=j(P)),s.set(h,P))),P},wNAFCached(_,h,j){const P=M(_);return this.wNAF(P,this.getPrecomputes(P,_,j),h)},wNAFCachedUnsafe(_,h,j,P){const q=M(_);return q===1?this.unsafeLadder(_,h,P):this.wNAFUnsafe(q,this.getPrecomputes(q,_,j),h,P)},setWindowSize(_,h){l(h,m),g.set(_,h),s.delete(_)}}}function W(v,m,_,h){let j=m,P=v.ZERO,q=v.ZERO;for(;_>n||h>n;)_&r&&(P=P.add(j)),h&r&&(q=q.add(j)),j=j.double(),_>>=r,h>>=r;return{p1:P,p2:q}}function N(v,m,_,h){O(_,v),p(h,m);const j=_.length,P=h.length;if(j!==P)throw new Error("arrays of points and scalars must have equal length");const q=v.ZERO,$=(0,t.bitLen)(BigInt(j));let y=1;$>12?y=$-3:$>4?y=$-2:$>0&&(y=2);const K=(0,t.bitMask)(y),c=new Array(Number(K)+1).fill(q),I=Math.floor((m.BITS-1)/y)*y;let z=q;for(let U=I;U>=0;U-=y){c.fill(q);for(let T=0;T<P;T++){const k=h[T],B=Number(k>>BigInt(U)&K);c[B]=c[B].add(_[T])}let Z=q;for(let T=c.length-1,k=q;T>0;T--)k=k.add(c[T]),Z=Z.add(k);if(z=z.add(Z),U!==0)for(let T=0;T<y;T++)z=z.double()}return z}function C(v,m,_,h){l(h,m.BITS),O(_,v);const j=v.ZERO,P=2**h-1,q=Math.ceil(m.BITS/h),$=(0,t.bitMask)(h),y=_.map(K=>{const c=[];for(let I=0,z=K;I<P;I++)c.push(z),z=z.add(K);return c});return K=>{if(p(K,m),K.length>_.length)throw new Error("array of scalars must be smaller than array of points");let c=j;for(let I=0;I<q;I++){if(c!==j)for(let U=0;U<h;U++)c=c.double();const z=BigInt(q*h-(I+1)*h);for(let U=0;U<K.length;U++){const Z=K[U],T=Number(Z>>z&$);T&&(c=c.add(y[U][T-1]))}}return c}}function u(v){return(0,i.validateField)(v.Fp),(0,t.validateObject)(v,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(v.n,v.nBitLength),...v,p:v.Fp.ORDER})}function Y(v,m){if(m){if(m.ORDER!==v)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.validateField)(m),m}else return(0,i.Field)(v)}function L(v,m,_={}){if(!m||typeof m!="object")throw new Error(`expected valid ${v} CURVE object`);for(const $ of["p","n","h"]){const y=m[$];if(!(typeof y=="bigint"&&y>n))throw new Error(`CURVE.${$} must be positive bigint`)}const h=Y(m.p,_.Fp),j=Y(m.n,_.Fn),q=["Gx","Gy","a",v==="weierstrass"?"b":"d"];for(const $ of q)if(!h.isValid(m[$]))throw new Error(`CURVE.${$} must be valid field element of CURVE.Fp`);return{Fp:h,Fn:j}}}}),gi=oe({"../../node_modules/@noble/curves/abstract/edwards.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.edwards=O,e.eddsa=p,e.twistedEdwards=M;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ct(),i=ur(),n=Dt(),r=BigInt(0),o=BigInt(1),a=BigInt(2),l=BigInt(8),f={zip215:!0};function w(d,A,W,N){const C=d.sqr(W),u=d.sqr(N),Y=d.add(d.mul(A.a,C),u),L=d.add(d.ONE,d.mul(A.d,d.mul(C,u)));return d.eql(Y,L)}function O(d,A={}){const{Fp:W,Fn:N}=(0,i._createCurveFields)("edwards",d,A),{h:C,n:u}=d;(0,t._validateObject)(A,{},{uvRatio:"function"});const Y=a<<BigInt(N.BYTES*8)-o,L=$=>W.create($),v=A.uvRatio||(($,y)=>{try{return{isValid:!0,value:W.sqrt(W.div($,y))}}catch{return{isValid:!1,value:r}}});if(!w(W,d,d.Gx,d.Gy))throw new Error("bad curve params: generator point");function m($,y,K=!1){const c=K?o:r;return(0,t.aInRange)("coordinate "+$,y,c,Y),y}function _($){if(!($ instanceof P))throw new Error("ExtendedPoint expected")}const h=(0,t.memoized)(($,y)=>{const{ex:K,ey:c,ez:I}=$,z=$.is0();y==null&&(y=z?l:W.inv(I));const U=L(K*y),Z=L(c*y),T=L(I*y);if(z)return{x:r,y:o};if(T!==o)throw new Error("invZ was invalid");return{x:U,y:Z}}),j=(0,t.memoized)($=>{const{a:y,d:K}=d;if($.is0())throw new Error("bad point: ZERO");const{ex:c,ey:I,ez:z,et:U}=$,Z=L(c*c),T=L(I*I),k=L(z*z),B=L(k*k),F=L(Z*y),re=L(k*L(F+T)),S=L(B+L(K*L(Z*T)));if(re!==S)throw new Error("bad point: equation left != right (1)");const R=L(c*I),G=L(z*U);if(R!==G)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(y,K,c,I){this.ex=m("x",y),this.ey=m("y",K),this.ez=m("z",c,!0),this.et=m("t",I),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof P)throw new Error("extended point not allowed");const{x:K,y:c}=y||{};return m("x",K),m("y",c),new P(K,c,o,L(K*c))}static normalizeZ(y){return(0,i.normalizeZ)(P,"ez",y)}static msm(y,K){return(0,i.pippenger)(P,N,y,K)}_setWindowSize(y){this.precompute(y)}precompute(y=8,K=!0){return q.setWindowSize(this,y),K||this.multiply(a),this}assertValidity(){j(this)}equals(y){_(y);const{ex:K,ey:c,ez:I}=this,{ex:z,ey:U,ez:Z}=y,T=L(K*Z),k=L(z*I),B=L(c*Z),F=L(U*I);return T===k&&B===F}is0(){return this.equals(P.ZERO)}negate(){return new P(L(-this.ex),this.ey,this.ez,L(-this.et))}double(){const{a:y}=d,{ex:K,ey:c,ez:I}=this,z=L(K*K),U=L(c*c),Z=L(a*L(I*I)),T=L(y*z),k=K+c,B=L(L(k*k)-z-U),F=T+U,re=F-Z,S=T-U,R=L(B*re),G=L(F*S),Q=L(B*S),ie=L(re*F);return new P(R,G,ie,Q)}add(y){_(y);const{a:K,d:c}=d,{ex:I,ey:z,ez:U,et:Z}=this,{ex:T,ey:k,ez:B,et:F}=y,re=L(I*T),S=L(z*k),R=L(Z*c*F),G=L(U*B),Q=L((I+z)*(T+k)-re-S),ie=G-R,J=G+R,ne=L(S-K*re),fe=L(Q*ie),we=L(J*ne),ge=L(Q*ne),he=L(ie*J);return new P(fe,we,he,ge)}subtract(y){return this.add(y.negate())}multiply(y){const K=y;(0,t.aInRange)("scalar",K,o,u);const{p:c,f:I}=q.wNAFCached(this,K,P.normalizeZ);return P.normalizeZ([c,I])[0]}multiplyUnsafe(y,K=P.ZERO){const c=y;return(0,t.aInRange)("scalar",c,r,u),c===r?P.ZERO:this.is0()||c===o?this:q.wNAFCachedUnsafe(this,c,P.normalizeZ,K)}isSmallOrder(){return this.multiplyUnsafe(C).is0()}isTorsionFree(){return q.wNAFCachedUnsafe(this,u).is0()}toAffine(y){return h(this,y)}clearCofactor(){return C===o?this:this.multiplyUnsafe(C)}static fromBytes(y,K=!1){return(0,t.abytes)(y),this.fromHex(y,K)}static fromHex(y,K=!1){const{d:c,a:I}=d,z=W.BYTES;y=(0,t.ensureBytes)("pointHex",y,z),(0,t.abool)("zip215",K);const U=y.slice(),Z=y[z-1];U[z-1]=Z&-129;const T=(0,t.bytesToNumberLE)(U),k=K?Y:W.ORDER;(0,t.aInRange)("pointHex.y",T,r,k);const B=L(T*T),F=L(B-o),re=L(c*B-I);let{isValid:S,value:R}=v(F,re);if(!S)throw new Error("Point.fromHex: invalid y coordinate");const G=(R&o)===o,Q=(Z&128)!==0;if(!K&&R===r&&Q)throw new Error("Point.fromHex: x=0 and x_0=1");return Q!==G&&(R=L(-R)),P.fromAffine({x:R,y:T})}static fromPrivateScalar(y){return P.BASE.multiply(y)}toBytes(){const{x:y,y:K}=this.toAffine(),c=(0,t.numberToBytesLE)(K,W.BYTES);return c[c.length-1]|=y&o?128:0,c}toRawBytes(){return this.toBytes()}toHex(){return(0,t.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}P.BASE=new P(d.Gx,d.Gy,o,L(d.Gx*d.Gy)),P.ZERO=new P(r,o,o,r),P.Fp=W,P.Fn=N;const q=(0,i.wNAF)(P,N.BYTES*8);return P}function p(d,A){(0,t._validateObject)(A,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:W,hash:N}=A,{BASE:C,Fp:u,Fn:Y}=d,L=Y.ORDER,v=A.randomBytes||t.randomBytes,m=A.adjustScalarBytes||(U=>U),_=A.domain||((U,Z,T)=>{if((0,t.abool)("phflag",T),Z.length||T)throw new Error("Contexts/pre-hash are not supported");return U});function h(U){return Y.create(U)}function j(U){return h((0,t.bytesToNumberLE)(U))}function P(U){const Z=u.BYTES;U=(0,t.ensureBytes)("private key",U,Z);const T=(0,t.ensureBytes)("hashed private key",N(U),2*Z),k=m(T.slice(0,Z)),B=T.slice(Z,2*Z),F=j(k);return{head:k,prefix:B,scalar:F}}function q(U){const{head:Z,prefix:T,scalar:k}=P(U),B=C.multiply(k),F=B.toBytes();return{head:Z,prefix:T,scalar:k,point:B,pointBytes:F}}function $(U){return q(U).pointBytes}function y(U=Uint8Array.of(),...Z){const T=(0,t.concatBytes)(...Z);return j(N(_(T,(0,t.ensureBytes)("context",U),!!W)))}function K(U,Z,T={}){U=(0,t.ensureBytes)("message",U),W&&(U=W(U));const{prefix:k,scalar:B,pointBytes:F}=q(Z),re=y(T.context,k,U),S=C.multiply(re).toBytes(),R=y(T.context,S,F,U),G=h(re+R*B);(0,t.aInRange)("signature.s",G,r,L);const Q=u.BYTES,ie=(0,t.concatBytes)(S,(0,t.numberToBytesLE)(G,Q));return(0,t.ensureBytes)("result",ie,Q*2)}const c=f;function I(U,Z,T,k=c){const{context:B,zip215:F}=k,re=u.BYTES;U=(0,t.ensureBytes)("signature",U,2*re),Z=(0,t.ensureBytes)("message",Z),T=(0,t.ensureBytes)("publicKey",T,re),F!==void 0&&(0,t.abool)("zip215",F),W&&(Z=W(Z));const S=(0,t.bytesToNumberLE)(U.slice(re,2*re));let R,G,Q;try{R=d.fromHex(T,F),G=d.fromHex(U.slice(0,re),F),Q=C.multiplyUnsafe(S)}catch{return!1}if(!F&&R.isSmallOrder())return!1;const ie=y(B,G.toBytes(),R.toBytes(),Z);return G.add(R.multiplyUnsafe(ie)).subtract(Q).clearCofactor().is0()}return C.precompute(8),{getPublicKey:$,sign:K,verify:I,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>v(u.BYTES),precompute(U=8,Z=d.BASE){return Z.precompute(U,!1)}},Point:d}}function s(d){const A={a:d.a,d:d.d,p:d.Fp.ORDER,n:d.n,h:d.h,Gx:d.Gx,Gy:d.Gy},W=d.Fp,N=(0,n.Field)(A.n,d.nBitLength,!0),C={Fp:W,Fn:N,uvRatio:d.uvRatio},u={hash:d.hash,randomBytes:d.randomBytes,adjustScalarBytes:d.adjustScalarBytes,domain:d.domain,prehash:d.prehash,mapToCurve:d.mapToCurve};return{CURVE:A,curveOpts:C,eddsaOpts:u}}function g(d,A){return Object.assign({},A,{ExtendedPoint:A.Point,CURVE:d})}function M(d){const{CURVE:A,curveOpts:W,eddsaOpts:N}=s(d),C=O(A,W),u=p(C,N);return g(d,u)}}}),wi=oe({"../../node_modules/@noble/curves/abstract/hash-to-curve.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.expand_message_xmd=l,e.expand_message_xof=f,e.hash_to_field=w,e.isogenyMap=O,e.createHasher=p;const t=Ct(),i=Dt(),n=t.bytesToNumberBE;function r(s,g){if(a(s),a(g),s<0||s>=1<<8*g)throw new Error("invalid I2OSP input: "+s);const M=Array.from({length:g}).fill(0);for(let d=g-1;d>=0;d--)M[d]=s&255,s>>>=8;return new Uint8Array(M)}function o(s,g){const M=new Uint8Array(s.length);for(let d=0;d<s.length;d++)M[d]=s[d]^g[d];return M}function a(s){if(!Number.isSafeInteger(s))throw new Error("number expected")}function l(s,g,M,d){(0,t.abytes)(s),(0,t.abytes)(g),a(M),g.length>255&&(g=d((0,t.concatBytes)((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-"),g)));const{outputLen:A,blockLen:W}=d,N=Math.ceil(M/A);if(M>65535||N>255)throw new Error("expand_message_xmd: invalid lenInBytes");const C=(0,t.concatBytes)(g,r(g.length,1)),u=r(0,W),Y=r(M,2),L=new Array(N),v=d((0,t.concatBytes)(u,s,Y,r(0,1),C));L[0]=d((0,t.concatBytes)(v,r(1,1),C));for(let _=1;_<=N;_++){const h=[o(v,L[_-1]),r(_+1,1),C];L[_]=d((0,t.concatBytes)(...h))}return(0,t.concatBytes)(...L).slice(0,M)}function f(s,g,M,d,A){if((0,t.abytes)(s),(0,t.abytes)(g),a(M),g.length>255){const W=Math.ceil(2*d/8);g=A.create({dkLen:W}).update((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(g).digest()}if(M>65535||g.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return A.create({dkLen:M}).update(s).update(r(M,2)).update(g).update(r(g.length,1)).digest()}function w(s,g,M){(0,t._validateObject)(M,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:d,k:A,m:W,hash:N,expand:C,DST:u}=M;if(!(0,t.isBytes)(u)&&typeof u!="string")throw new Error("DST must be string or uint8array");if(!(0,t.isHash)(M.hash))throw new Error("expected valid hash");(0,t.abytes)(s),a(g);const Y=typeof u=="string"?(0,t.utf8ToBytes)(u):u,L=d.toString(2).length,v=Math.ceil((L+A)/8),m=g*W*v;let _;if(C==="xmd")_=l(s,Y,m,N);else if(C==="xof")_=f(s,Y,m,A,N);else if(C==="_internal_pass")_=s;else throw new Error('expand must be "xmd" or "xof"');const h=new Array(g);for(let j=0;j<g;j++){const P=new Array(W);for(let q=0;q<W;q++){const $=v*(q+j*W),y=_.subarray($,$+v);P[q]=(0,i.mod)(n(y),d)}h[j]=P}return h}function O(s,g){const M=g.map(d=>Array.from(d).reverse());return(d,A)=>{const[W,N,C,u]=M.map(v=>v.reduce((m,_)=>s.add(s.mul(m,d),_))),[Y,L]=(0,i.FpInvertBatch)(s,[N,u],!0);return d=s.mul(W,Y),A=s.mul(A,s.mul(C,L)),{x:d,y:A}}}function p(s,g,M){if(typeof g!="function")throw new Error("mapToCurve() must be defined");function d(W){return s.fromAffine(g(W))}function A(W){const N=W.clearCofactor();return N.equals(s.ZERO)?s.ZERO:(N.assertValidity(),N)}return{defaults:M,hashToCurve(W,N){const C=M.DST?M.DST:{},u=Object.assign({},M,C,N),Y=w(W,2,u),L=d(Y[0]),v=d(Y[1]);return A(L.add(v))},encodeToCurve(W,N){const C=M.encodeDST?M.encodeDST:{},u=Object.assign({},M,C,N),Y=w(W,1,u);return A(d(Y[0]))},mapToCurve(W){if(!Array.isArray(W))throw new Error("expected array of bigints");for(const N of W)if(typeof N!="bigint")throw new Error("expected array of bigints");return A(d(W))}}}}}),pi=oe({"../../node_modules/@noble/curves/abstract/montgomery.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.montgomery=l;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ct(),i=Dt(),n=BigInt(0),r=BigInt(1),o=BigInt(2);function a(f){return(0,t._validateObject)(f,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...f})}function l(f){const w=a(f),{P:O,type:p,adjustScalarBytes:s,powPminus2:g,randomBytes:M}=w,d=p==="x25519";if(!d&&p!=="x448")throw new Error("invalid type");const A=M||t.randomBytes,W=d?255:448,N=d?32:56,C=BigInt(d?9:5),u=BigInt(d?121665:39081),Y=d?o**BigInt(254):o**BigInt(447),L=d?BigInt(8)*o**BigInt(251)-r:BigInt(4)*o**BigInt(445)-r,v=Y+L+r,m=c=>(0,i.mod)(c,O),_=h(C);function h(c){return(0,t.numberToBytesLE)(m(c),N)}function j(c){const I=(0,t.ensureBytes)("u coordinate",c,N);return d&&(I[31]&=127),m((0,t.bytesToNumberLE)(I))}function P(c){return(0,t.bytesToNumberLE)(s((0,t.ensureBytes)("scalar",c,N)))}function q(c,I){const z=K(j(I),P(c));if(z===n)throw new Error("invalid private or public key received");return h(z)}function $(c){return q(c,_)}function y(c,I,z){const U=m(c*(I-z));return I=m(I-U),z=m(z+U),{x_2:I,x_3:z}}function K(c,I){(0,t.aInRange)("u",c,n,O),(0,t.aInRange)("scalar",I,Y,v);const z=I,U=c;let Z=r,T=n,k=c,B=r,F=n;for(let S=BigInt(W-1);S>=n;S--){const R=z>>S&r;F^=R,{x_2:Z,x_3:k}=y(F,Z,k),{x_2:T,x_3:B}=y(F,T,B),F=R;const G=Z+T,Q=m(G*G),ie=Z-T,J=m(ie*ie),ne=Q-J,fe=k+B,we=k-B,ge=m(we*G),he=m(fe*ie),Me=ge+he,ye=ge-he;k=m(Me*Me),B=m(U*m(ye*ye)),Z=m(Q*J),T=m(ne*(Q+m(u*ne)))}({x_2:Z,x_3:k}=y(F,Z,k)),{x_2:T,x_3:B}=y(F,T,B);const re=g(T);return m(Z*re)}return{scalarMult:q,scalarMultBase:$,getSharedSecret:(c,I)=>q(c,I),getPublicKey:c=>$(c),utils:{randomPrivateKey:()=>A(N)},GuBytes:_.slice()}}}}),_i=oe({"../../node_modules/@noble/curves/ed25519.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.ed25519_hasher=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=v,e.edwardsToMontgomeryPriv=m;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=yo(),i=bo(),n=ur(),r=gi(),o=wi(),a=Dt(),l=pi(),f=Ct(),w=BigInt(0),O=BigInt(1),p=BigInt(2),s=BigInt(3),g=BigInt(5),M=BigInt(8),d={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:M,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function A(S){const R=BigInt(10),G=BigInt(20),Q=BigInt(40),ie=BigInt(80),J=d.p,fe=S*S%J*S%J,we=(0,a.pow2)(fe,p,J)*fe%J,ge=(0,a.pow2)(we,O,J)*S%J,he=(0,a.pow2)(ge,g,J)*ge%J,Me=(0,a.pow2)(he,R,J)*he%J,ye=(0,a.pow2)(Me,G,J)*Me%J,Oe=(0,a.pow2)(ye,Q,J)*ye%J,Ce=(0,a.pow2)(Oe,ie,J)*Oe%J,We=(0,a.pow2)(Ce,ie,J)*Oe%J,Ue=(0,a.pow2)(We,R,J)*he%J;return{pow_p_5_8:(0,a.pow2)(Ue,p,J)*S%J,b2:fe}}function W(S){return S[0]&=248,S[31]&=127,S[31]|=64,S}const N=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function C(S,R){const G=d.p,Q=(0,a.mod)(R*R*R,G),ie=(0,a.mod)(Q*Q*R,G),J=A(S*ie).pow_p_5_8;let ne=(0,a.mod)(S*Q*J,G);const fe=(0,a.mod)(R*ne*ne,G),we=ne,ge=(0,a.mod)(ne*N,G),he=fe===S,Me=fe===(0,a.mod)(-S,G),ye=fe===(0,a.mod)(-S*N,G);return he&&(ne=we),(Me||ye)&&(ne=ge),(0,a.isNegativeLE)(ne,G)&&(ne=(0,a.mod)(-ne,G)),{isValid:he||Me,value:ne}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const u=(0,a.Field)(d.p,void 0,!0),Y={...d,Fp:u,hash:t.sha512,adjustScalarBytes:W,uvRatio:C};e.ed25519=(0,r.twistedEdwards)(Y);function L(S,R,G){if(R.length>255)throw new Error("Context is too big");return(0,i.concatBytes)((0,i.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([G?1:0,R.length]),R,S)}e.ed25519ctx=(0,r.twistedEdwards)({...Y,domain:L}),e.ed25519ph=(0,r.twistedEdwards)(Object.assign({},Y,{domain:L,prehash:t.sha512})),e.x25519=(()=>{const S=d.p;return(0,l.montgomery)({P:S,type:"x25519",powPminus2:R=>{const{pow_p_5_8:G,b2:Q}=A(R);return(0,a.mod)((0,a.pow2)(G,s,S)*Q,S)},adjustScalarBytes:W})})();function v(S){const R=(0,f.ensureBytes)("pub",S),{y:G}=e.ed25519.Point.fromHex(R),Q=BigInt(1);return u.toBytes(u.create((Q+G)*u.inv(Q-G)))}e.edwardsToMontgomery=v;function m(S){const R=Y.hash(S.subarray(0,32));return Y.adjustScalarBytes(R).subarray(0,32)}const _=(u.ORDER+s)/M,h=u.pow(p,_),j=u.sqrt(u.neg(u.ONE));function P(S){const R=(u.ORDER-g)/M,G=BigInt(486662);let Q=u.sqr(S);Q=u.mul(Q,p);let ie=u.add(Q,u.ONE),J=u.neg(G),ne=u.sqr(ie),fe=u.mul(ne,ie),we=u.mul(Q,G);we=u.mul(we,J),we=u.add(we,ne),we=u.mul(we,J);let ge=u.sqr(fe);ne=u.sqr(ge),ge=u.mul(ge,fe),ge=u.mul(ge,we),ne=u.mul(ne,ge);let he=u.pow(ne,R);he=u.mul(he,ge);let Me=u.mul(he,j);ne=u.sqr(he),ne=u.mul(ne,fe);let ye=u.eql(ne,we),Oe=u.cmov(Me,he,ye),Ce=u.mul(J,Q),We=u.mul(he,S);We=u.mul(We,h);let Ue=u.mul(We,j),nt=u.mul(we,Q);ne=u.sqr(We),ne=u.mul(ne,fe);let Xe=u.eql(ne,nt),H=u.cmov(Ue,We,Xe);ne=u.sqr(Oe),ne=u.mul(ne,fe);let ee=u.eql(ne,we),te=u.cmov(Ce,J,ee),X=u.cmov(H,Oe,ee),ce=u.isOdd(X);return X=u.cmov(X,u.neg(X),ee!==ce),{xMn:te,xMd:ie,yMn:X,yMd:O}}const q=(0,a.FpSqrtEven)(u,u.neg(BigInt(486664)));function $(S){const{xMn:R,xMd:G,yMn:Q,yMd:ie}=P(S);let J=u.mul(R,ie);J=u.mul(J,q);let ne=u.mul(G,Q),fe=u.sub(R,G),we=u.add(R,G),ge=u.mul(ne,we),he=u.eql(ge,u.ZERO);J=u.cmov(J,u.ZERO,he),ne=u.cmov(ne,u.ONE,he),fe=u.cmov(fe,u.ONE,he),we=u.cmov(we,u.ONE,he);const[Me,ye]=(0,a.FpInvertBatch)(u,[ne,we],!0);return{x:u.mul(J,Me),y:u.mul(fe,ye)}}e.ed25519_hasher=(0,o.createHasher)(e.ed25519.Point,S=>$(S[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:u.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512}),e.hashToCurve=e.ed25519_hasher.hashToCurve,e.encodeToCurve=e.ed25519_hasher.encodeToCurve;function y(S){if(!(S instanceof F))throw new Error("RistrettoPoint expected")}const K=N,c=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),I=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),z=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),U=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Z=S=>C(O,S),T=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),k=S=>e.ed25519.CURVE.Fp.create((0,f.bytesToNumberLE)(S)&T);function B(S){const{d:R}=e.ed25519.CURVE,G=e.ed25519.CURVE.Fp.ORDER,Q=e.ed25519.CURVE.Fp.create,ie=Q(K*S*S),J=Q((ie+O)*z);let ne=BigInt(-1);const fe=Q((ne-R*ie)*Q(ie+R));let{isValid:we,value:ge}=C(J,fe),he=Q(ge*S);(0,a.isNegativeLE)(he,G)||(he=Q(-he)),we||(ge=he),we||(ne=ie);const Me=Q(ne*(ie-O)*U-fe),ye=ge*ge,Oe=Q((ge+ge)*fe),Ce=Q(Me*c),We=Q(O-ye),Ue=Q(O+ye);return new e.ed25519.Point(Q(Oe*Ue),Q(We*Ce),Q(Ce*Ue),Q(Oe*We))}var F=class st{constructor(R){this.ep=R}static fromAffine(R){return new st(e.ed25519.Point.fromAffine(R))}static hashToCurve(R){R=(0,f.ensureBytes)("ristrettoHash",R,64);const G=k(R.slice(0,32)),Q=B(G),ie=k(R.slice(32,64)),J=B(ie);return new st(Q.add(J))}static fromBytes(R){return(0,i.abytes)(R),this.fromHex(R)}static fromHex(R){R=(0,f.ensureBytes)("ristrettoHex",R,32);const{a:G,d:Q}=e.ed25519.CURVE,ie=u.ORDER,J=u.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",fe=k(R);if(!(0,f.equalBytes)((0,f.numberToBytesLE)(fe,32),R)||(0,a.isNegativeLE)(fe,ie))throw new Error(ne);const we=J(fe*fe),ge=J(O+G*we),he=J(O-G*we),Me=J(ge*ge),ye=J(he*he),Oe=J(G*Q*Me-ye),{isValid:Ce,value:We}=Z(J(Oe*ye)),Ue=J(We*he),nt=J(We*Ue*Oe);let Xe=J((fe+fe)*Ue);(0,a.isNegativeLE)(Xe,ie)&&(Xe=J(-Xe));const H=J(ge*nt),ee=J(Xe*H);if(!Ce||(0,a.isNegativeLE)(ee,ie)||H===w)throw new Error(ne);return new st(new e.ed25519.Point(Xe,H,O,ee))}static msm(R,G){const Q=(0,a.Field)(e.ed25519.CURVE.n,e.ed25519.CURVE.nBitLength);return(0,n.pippenger)(st,Q,R,G)}toBytes(){let{ex:R,ey:G,ez:Q,et:ie}=this.ep;const J=u.ORDER,ne=u.create,fe=ne(ne(Q+G)*ne(Q-G)),we=ne(R*G),ge=ne(we*we),{value:he}=Z(ne(fe*ge)),Me=ne(he*fe),ye=ne(he*we),Oe=ne(Me*ye*ie);let Ce;if((0,a.isNegativeLE)(ie*Oe,J)){let Ue=ne(G*K),nt=ne(R*K);R=Ue,G=nt,Ce=ne(Me*I)}else Ce=ye;(0,a.isNegativeLE)(R*Oe,J)&&(G=ne(-G));let We=ne((Q-G)*Ce);return(0,a.isNegativeLE)(We,J)&&(We=ne(-We)),(0,f.numberToBytesLE)(We,32)}toRawBytes(){return this.toBytes()}toHex(){return(0,f.bytesToHex)(this.toBytes())}toString(){return this.toHex()}equals(R){y(R);const{ex:G,ey:Q}=this.ep,{ex:ie,ey:J}=R.ep,ne=u.create,fe=ne(G*J)===ne(Q*ie),we=ne(Q*J)===ne(G*ie);return fe||we}add(R){return y(R),new st(this.ep.add(R.ep))}subtract(R){return y(R),new st(this.ep.subtract(R.ep))}multiply(R){return new st(this.ep.multiply(R))}multiplyUnsafe(R){return new st(this.ep.multiplyUnsafe(R))}double(){return new st(this.ep.double())}negate(){return new st(this.ep.negate())}};e.RistrettoPoint=(F.BASE||(F.BASE=new F(e.ed25519.Point.BASE)),F.ZERO||(F.ZERO=new F(e.ed25519.Point.ZERO)),F);const re=(S,R)=>{const G=R.DST,Q=typeof G=="string"?(0,i.utf8ToBytes)(G):G,ie=(0,o.expand_message_xmd)(S,Q,64,t.sha512);return F.hashToCurve(ie)};e.hashToRistretto255=re,e.hash_to_ristretto255=e.hashToRistretto255}}),fr=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/util.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arraysEqual=t,e.bytesEqual=i;function t(n,r){if(n===r)return!0;const o=n.length;if(o!==r.length)return!1;for(let a=0;a<o;a++)if(n[a]!==r[a])return!1;return!0}function i(n,r){return t(n,r)}}}),hr=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/signMessage.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMessageSignature=n,e.verifySignMessage=r;const t=_i(),i=fr();function n({message:o,signedMessage:a,signature:l,publicKey:f}){return(0,i.bytesEqual)(o,a)&&t.ed25519.verify(l,a,f)}function r(o,a){const{message:l,account:{publicKey:f}}=o,{signedMessage:w,signature:O}=a;return n({message:l,signedMessage:w,signature:O,publicKey:f})}}}),vi=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/signIn.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.verifySignIn=n,e.deriveSignInMessage=r,e.deriveSignInMessageText=o,e.parseSignInMessage=a,e.parseSignInMessageText=Y,e.createSignInMessage=L,e.createSignInMessageText=v;const t=hr(),i=fr();function n(m,_){const{signedMessage:h,signature:j,account:{publicKey:P}}=_,q=r(m,_);return!!q&&(0,t.verifyMessageSignature)({message:q,signedMessage:h,signature:j,publicKey:P})}function r(m,_){const h=o(m,_);return h?new TextEncoder().encode(h):null}function o(m,_){const h=a(_.signedMessage);if(!h||m.domain&&m.domain!==h.domain||m.address&&m.address!==h.address||m.statement!==h.statement||m.uri!==h.uri||m.version!==h.version||m.chainId!==h.chainId||m.nonce!==h.nonce||m.issuedAt!==h.issuedAt||m.expirationTime!==h.expirationTime||m.notBefore!==h.notBefore||m.requestId!==h.requestId)return null;if(m.resources){if(!h.resources||!(0,i.arraysEqual)(m.resources,h.resources))return null}else if(h.resources)return null;return v(h)}function a(m){const _=new TextDecoder().decode(m);return Y(_)}const l="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",f="(?<address>[^\\n]+)(?:\\n|$)",w="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",C="(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",u=new RegExp(`^${l}${f}${w}${C}\\n*$`);function Y(m){var _;const h=u.exec(m);if(!h)return null;const j=h.groups;return j?{domain:j.domain,address:j.address,statement:j.statement,uri:j.uri,version:j.version,nonce:j.nonce,chainId:j.chainId,issuedAt:j.issuedAt,expirationTime:j.expirationTime,notBefore:j.notBefore,requestId:j.requestId,resources:(_=j.resources)===null||_===void 0?void 0:_.split(`
- `).slice(1)}:null}function L(m){const _=v(m);return new TextEncoder().encode(_)}function v(m){let _=`${m.domain} wants you to sign in with your Solana account:
`;_+=`${m.address}`,m.statement&&(_+=`

${m.statement}`);const h=[];if(m.uri&&h.push(`URI: ${m.uri}`),m.version&&h.push(`Version: ${m.version}`),m.chainId&&h.push(`Chain ID: ${m.chainId}`),m.nonce&&h.push(`Nonce: ${m.nonce}`),m.issuedAt&&h.push(`Issued At: ${m.issuedAt}`),m.expirationTime&&h.push(`Expiration Time: ${m.expirationTime}`),m.notBefore&&h.push(`Not Before: ${m.notBefore}`),m.requestId&&h.push(`Request ID: ${m.requestId}`),m.resources){h.push("Resources:");for(const j of m.resources)h.push(`- ${j}`)}return h.length&&(_+=`

${h.join(`
`)}`),_}}}),bi=oe({"../../node_modules/@solana/wallet-standard-util/lib/cjs/index.js"(e){var t=Object.create?function(n,r,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(n,a,l)}:function(n,r,o,a){a===void 0&&(a=o),n[a]=r[o]},i=function(n,r){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&t(r,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),i(hi(),e),i(mi(),e),i(vi(),e),i(hr(),e)}}),yi=oe({"../../node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/cjs/index.browser.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=bi();const i={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};var n=class extends Error{constructor(...H){const[ee,te,X]=H;super(te),this.code=ee,this.data=X,this.name="SolanaMobileWalletAdapterError"}};const r={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};var o=class extends Error{constructor(...H){const[ee,te,X,ce]=H;super(X),this.code=te,this.data=ce,this.jsonRpcMessageId=ee,this.name="SolanaMobileWalletAdapterProtocolError"}};function a(H,ee,te,X){function ce(le){return le instanceof te?le:new te(function(me){me(le)})}return new(te||(te=Promise))(function(le,me){function ve(Re){try{pe(X.next(Re))}catch(Ve){me(Ve)}}function Se(Re){try{pe(X.throw(Re))}catch(Ve){me(Ve)}}function pe(Re){Re.done?le(Re.value):ce(Re.value).then(ve,Se)}pe((X=X.apply(H,ee||[])).next())})}function l(H){return window.btoa(H)}function f(H,ee){const te=window.btoa(String.fromCharCode.call(null,...H));return ee?te.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):te}function w(H){return new Uint8Array(window.atob(H).split("").map(ee=>ee.charCodeAt(0)))}function O(H,ee){return a(this,void 0,void 0,function*(){const te=yield crypto.subtle.exportKey("raw",H),X=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},ee,te),ce=new Uint8Array(te.byteLength+X.byteLength);return ce.set(new Uint8Array(te),0),ce.set(new Uint8Array(X),te.byteLength),ce})}function p(H){return t.createSignInMessageText(H)}function s(H){return l(p(H))}const g="solana:signTransactions",M="solana:cloneAuthorization",d="solana:signInWithSolana";function A(H,ee){return new Proxy({},{get(te,X){return X==="then"?null:(te[X]==null&&(te[X]=function(ce){return a(this,void 0,void 0,function*(){const{method:le,params:me}=W(X,ce,H),ve=yield ee(le,me);return le==="authorize"&&me.sign_in_payload&&!ve.sign_in_result&&(ve.sign_in_result=yield C(me.sign_in_payload,ve,ee)),N(X,ve,H)})}),te[X])},defineProperty(){return!1},deleteProperty(){return!1}})}function W(H,ee,te){let X=ee,ce=H.toString().replace(/[A-Z]/g,le=>`_${le.toLowerCase()}`).toLowerCase();switch(H){case"authorize":{let{chain:le}=X;if(te==="legacy"){switch(le){case"solana:testnet":{le="testnet";break}case"solana:devnet":{le="devnet";break}case"solana:mainnet":{le="mainnet-beta";break}default:le=X.cluster}X.cluster=le}else{switch(le){case"testnet":case"devnet":{le=`solana:${le}`;break}case"mainnet-beta":{le="solana:mainnet";break}}X.chain=le}}case"reauthorize":{const{auth_token:le,identity:me}=X;if(le)switch(te){case"legacy":{ce="reauthorize",X={auth_token:le,identity:me};break}default:{ce="authorize";break}}break}}return{method:ce,params:X}}function N(H,ee,te){switch(H){case"getCapabilities":{const X=ee;switch(te){case"legacy":{const ce=[g];return X.supports_clone_authorization===!0&&ce.push(M),Object.assign(Object.assign({},X),{features:ce})}case"v1":return Object.assign(Object.assign({},X),{supports_sign_and_send_transactions:!0,supports_clone_authorization:X.features.includes(M)})}}}return ee}function C(H,ee,te){var X;return a(this,void 0,void 0,function*(){const ce=(X=H.domain)!==null&&X!==void 0?X:window.location.host,le=ee.accounts[0].address,me=s(Object.assign(Object.assign({},H),{domain:ce,address:le})),ve=yield te("sign_messages",{addresses:[le],payloads:[me]});return{address:le,signed_message:me,signature:ve.signed_payloads[0].slice(me.length)}})}const u=4;function Y(H){if(H>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const ee=new ArrayBuffer(u);return new DataView(ee).setUint32(0,H,!1),new Uint8Array(ee)}const L=12,v=65;function m(H,ee,te){return a(this,void 0,void 0,function*(){const X=Y(ee),ce=new Uint8Array(L);crypto.getRandomValues(ce);const le=yield crypto.subtle.encrypt(h(X,ce),te,new TextEncoder().encode(H)),me=new Uint8Array(X.byteLength+ce.byteLength+le.byteLength);return me.set(new Uint8Array(X),0),me.set(new Uint8Array(ce),X.byteLength),me.set(new Uint8Array(le),X.byteLength+ce.byteLength),me})}function _(H,ee){return a(this,void 0,void 0,function*(){const te=H.slice(0,u),X=H.slice(u,u+L),ce=H.slice(u+L),le=yield crypto.subtle.decrypt(h(te,X),ee,ce);return P().decode(le)})}function h(H,ee){return{additionalData:H,iv:ee,name:"AES-GCM",tagLength:128}}let j;function P(){return j===void 0&&(j=new TextDecoder("utf-8")),j}function q(){return a(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function $(){return a(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function y(H){let ee="";const te=new Uint8Array(H),X=te.byteLength;for(let ce=0;ce<X;ce++)ee+=String.fromCharCode(te[ce]);return window.btoa(ee)}function K(){return c(49152+Math.floor(Math.random()*16384))}function c(H){if(H<49152||H>65535)throw new n(i.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${H} given.`,{port:H});return H}function I(H){return H.replace(/[/+=]/g,ee=>({"/":"_","+":"-","=":"."})[ee])}const z="solana-wallet";function U(H){return H.replace(/(^\/+|\/+$)/g,"").split("/")}function Z(H,ee){let te=null;if(ee){try{te=new URL(ee)}catch{}if((te==null?void 0:te.protocol)!=="https:")throw new n(i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}te||(te=new URL(`${z}:/`));const X=H.startsWith("/")?H:[...U(te.pathname),...U(H)].join("/");return new URL(X,te)}function T(H,ee,te,X=["v1"]){return a(this,void 0,void 0,function*(){const ce=c(ee),le=yield crypto.subtle.exportKey("raw",H),me=y(le),ve=Z("v1/associate/local",te);return ve.searchParams.set("association",I(me)),ve.searchParams.set("port",`${ce}`),X.forEach(Se=>{ve.searchParams.set("v",Se)}),ve})}function k(H,ee,te,X,ce=["v1"]){return a(this,void 0,void 0,function*(){const le=yield crypto.subtle.exportKey("raw",H),me=y(le),ve=Z("v1/associate/remote",X);return ve.searchParams.set("association",I(me)),ve.searchParams.set("reflector",`${ee}`),ve.searchParams.set("id",`${f(te,!0)}`),ce.forEach(Se=>{ve.searchParams.set("v",Se)}),ve})}function B(H,ee){return a(this,void 0,void 0,function*(){const te=JSON.stringify(H),X=H.id;return m(te,X,ee)})}function F(H,ee){return a(this,void 0,void 0,function*(){const te=yield _(H,ee),X=JSON.parse(te);if(Object.hasOwnProperty.call(X,"error"))throw new o(X.id,X.error.code,X.error.message);return X})}function re(H,ee,te){return a(this,void 0,void 0,function*(){const[X,ce]=yield Promise.all([crypto.subtle.exportKey("raw",ee),crypto.subtle.importKey("raw",H.slice(0,v),{name:"ECDH",namedCurve:"P-256"},!1,[])]),le=yield crypto.subtle.deriveBits({name:"ECDH",public:ce},te,256),me=yield crypto.subtle.importKey("raw",le,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(X),info:new Uint8Array},me,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function S(H,ee){return a(this,void 0,void 0,function*(){const te=yield _(H,ee),X=JSON.parse(te);let ce="legacy";if(Object.hasOwnProperty.call(X,"v"))switch(X.v){case 1:case"1":case"v1":ce="v1";break;case"legacy":ce="legacy";break;default:throw new n(i.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${X.v}`)}return{protocol_version:ce}})}const R={Firefox:0,Other:1};function G(H){return H}function Q(){return navigator.userAgent.indexOf("Firefox/")!==-1?R.Firefox:R.Other}function ie(){return new Promise((H,ee)=>{function te(){clearTimeout(ce),window.removeEventListener("blur",X)}function X(){te(),H()}window.addEventListener("blur",X);const ce=setTimeout(()=>{te(),ee()},3e3)})}let J=null;function ne(H){J==null&&(J=document.createElement("iframe"),J.style.display="none",document.body.appendChild(J)),J.contentWindow.location.href=H.toString()}function fe(H){return a(this,void 0,void 0,function*(){if(H.protocol==="https:")window.location.assign(H);else try{const ee=Q();switch(ee){case R.Firefox:ne(H);break;case R.Other:{const te=ie();window.location.assign(H),yield te;break}default:}}catch{throw new n(i.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function we(H,ee){return a(this,void 0,void 0,function*(){const te=K(),X=yield T(H,te,ee);return yield fe(X),te})}const ge={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},he="com.solana.mobilewalletadapter.v1",Me="com.solana.mobilewalletadapter.v1.base64";function ye(){if(typeof window>"u"||window.isSecureContext!==!0)throw new n(i.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Oe(H){let ee;try{ee=new URL(H)}catch{throw new n(i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(ee.protocol!=="https:")throw new n(i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Ce(H){return new DataView(H).getUint32(0,!1)}function We(H){var ee=new Uint8Array(H),te=H.byteLength,X=10,ce=0,le=0,me;do{if(le>=te||le>X)throw new RangeError("Failed to decode varint");me=ee[le++],ce|=(me&127)<<7*le}while(me>=128);return{value:ce,offset:le}}function Ue(H){let{value:ee,offset:te}=We(H);return new Uint8Array(H.slice(te,te+ee))}function nt(H,ee){return a(this,void 0,void 0,function*(){ye();const te=yield q(),ce=`ws://localhost:${yield we(te.publicKey,ee==null?void 0:ee.baseUri)}/solana-wallet`;let le;const me=(()=>{const Re=[...ge.retryDelayScheduleMs];return()=>Re.length>1?Re.shift():Re[0]})();let ve=1,Se=0,pe={__type:"disconnected"};return new Promise((Re,Ve)=>{let _e;const ze={},Ze=()=>a(this,void 0,void 0,function*(){if(pe.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${pe.__type}\`.`);return}_e.removeEventListener("open",Ze);const{associationKeypair:Ae}=pe,Be=yield $();_e.send(yield O(Be.publicKey,Ae.privateKey)),pe={__type:"hello_req_sent",associationPublicKey:Ae.publicKey,ecdhPrivateKey:Be.privateKey}}),Le=Ae=>{Ae.wasClean?pe={__type:"disconnected"}:Ve(new n(i.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Ae.code}: ${Ae.reason}).`,{closeEvent:Ae})),qe()},ke=Ae=>a(this,void 0,void 0,function*(){qe(),Date.now()-le>=ge.timeoutMs?Ve(new n(i.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${ce}.`)):(yield new Promise(Be=>{const Ee=me();rt=window.setTimeout(Be,Ee)}),xe())}),Fe=Ae=>a(this,void 0,void 0,function*(){const Be=yield Ae.data.arrayBuffer();switch(pe.__type){case"connecting":if(Be.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const Ee=yield $();_e.send(yield O(Ee.publicKey,te.privateKey)),pe={__type:"hello_req_sent",associationPublicKey:te.publicKey,ecdhPrivateKey:Ee.privateKey};break;case"connected":try{const Te=Be.slice(0,u),Ie=Ce(Te);if(Ie!==Se+1)throw new Error("Encrypted message has invalid sequence number");Se=Ie;const $e=yield F(Be,pe.sharedSecret),Ge=ze[$e.id];delete ze[$e.id],Ge.resolve($e.result)}catch(Te){if(Te instanceof o){const Ie=ze[Te.jsonRpcMessageId];delete ze[Te.jsonRpcMessageId],Ie.reject(Te)}else throw Te}break;case"hello_req_sent":{if(Be.byteLength===0){const Pe=yield $();_e.send(yield O(Pe.publicKey,te.privateKey)),pe={__type:"hello_req_sent",associationPublicKey:te.publicKey,ecdhPrivateKey:Pe.privateKey};break}const Te=yield re(Be,pe.associationPublicKey,pe.ecdhPrivateKey),Ie=Be.slice(v),$e=Ie.byteLength!==0?yield a(this,void 0,void 0,function*(){const Pe=Ie.slice(0,u),Ye=Ce(Pe);if(Ye!==Se+1)throw new Error("Encrypted message has invalid sequence number");return Se=Ye,S(Ie,Te)}):{protocol_version:"legacy"};pe={__type:"connected",sharedSecret:Te,sessionProperties:$e};const Ge=A($e.protocol_version,(Pe,Ye)=>a(this,void 0,void 0,function*(){const lt=ve++;return _e.send(yield B({id:lt,jsonrpc:"2.0",method:Pe,params:Ye??{}},Te)),new Promise((ct,at)=>{ze[lt]={resolve(dt){switch(Pe){case"authorize":case"reauthorize":{const{wallet_uri_base:ut}=dt;if(ut!=null)try{Oe(ut)}catch(gt){at(gt);return}break}}ct(dt)},reject:at}})}));try{Re(yield H(Ge))}catch(Pe){Ve(Pe)}finally{qe(),_e.close()}break}}});let qe,rt;const xe=()=>{qe&&qe(),pe={__type:"connecting",associationKeypair:te},le===void 0&&(le=Date.now()),_e=new WebSocket(ce,[he]),_e.addEventListener("open",Ze),_e.addEventListener("close",Le),_e.addEventListener("error",ke),_e.addEventListener("message",Fe),qe=()=>{window.clearTimeout(rt),_e.removeEventListener("open",Ze),_e.removeEventListener("close",Le),_e.removeEventListener("error",ke),_e.removeEventListener("message",Fe)}};xe()})})}function Xe(H){return a(this,void 0,void 0,function*(){ye();const ee=yield q(),te=`wss://${H==null?void 0:H.remoteHostAuthority}/reflect`;let X;const ce=(()=>{const Le=[...ge.retryDelayScheduleMs];return()=>Le.length>1?Le.shift():Le[0]})();let le=1,me=0,ve,Se={__type:"disconnected"},pe,Re,Ve=Le=>a(this,void 0,void 0,function*(){if(ve=="base64"){const ke=yield Le.data;return w(ke).buffer}else return yield Le.data.arrayBuffer()});const _e=yield new Promise((Le,ke)=>{const Fe=()=>a(this,void 0,void 0,function*(){if(Se.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${Se.__type}\`.`);return}pe.protocol.includes(Me)?ve="base64":ve="binary",pe.removeEventListener("open",Fe)}),qe=Ee=>{Ee.wasClean?Se={__type:"disconnected"}:ke(new n(i.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Ee.code}: ${Ee.reason}).`,{closeEvent:Ee})),Re()},rt=Ee=>a(this,void 0,void 0,function*(){Re(),Date.now()-X>=ge.timeoutMs?ke(new n(i.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${te}.`)):(yield new Promise(Te=>{const Ie=ce();Ae=window.setTimeout(Te,Ie)}),Be())}),xe=Ee=>a(this,void 0,void 0,function*(){const Te=yield Ve(Ee);if(Se.__type==="connecting"){if(Te.byteLength==0)throw new Error("Encountered unexpected message while connecting");const Ie=Ue(Te);Se={__type:"reflector_id_received",reflectorId:Ie};const $e=yield k(ee.publicKey,H.remoteHostAuthority,Ie,H==null?void 0:H.baseUri);pe.removeEventListener("message",xe),Le($e)}});let Ae;const Be=()=>{Re&&Re(),Se={__type:"connecting",associationKeypair:ee},X===void 0&&(X=Date.now()),pe=new WebSocket(te,[he,Me]),pe.addEventListener("open",Fe),pe.addEventListener("close",qe),pe.addEventListener("error",rt),pe.addEventListener("message",xe),Re=()=>{window.clearTimeout(Ae),pe.removeEventListener("open",Fe),pe.removeEventListener("close",qe),pe.removeEventListener("error",rt),pe.removeEventListener("message",xe)}};Be()});let ze=!1,Ze;return{associationUrl:_e,close:()=>{pe.close(),Ze()},wallet:new Promise((Le,ke)=>{const Fe={},qe=rt=>a(this,void 0,void 0,function*(){const xe=yield Ve(rt);switch(Se.__type){case"reflector_id_received":if(xe.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const Ae=yield $(),Be=yield O(Ae.publicKey,ee.privateKey);ve=="base64"?pe.send(f(Be)):pe.send(Be),Se={__type:"hello_req_sent",associationPublicKey:ee.publicKey,ecdhPrivateKey:Ae.privateKey};break;case"connected":try{const Ee=xe.slice(0,u),Te=Ce(Ee);if(Te!==me+1)throw new Error("Encrypted message has invalid sequence number");me=Te;const Ie=yield F(xe,Se.sharedSecret),$e=Fe[Ie.id];delete Fe[Ie.id],$e.resolve(Ie.result)}catch(Ee){if(Ee instanceof o){const Te=Fe[Ee.jsonRpcMessageId];delete Fe[Ee.jsonRpcMessageId],Te.reject(Ee)}else throw Ee}break;case"hello_req_sent":{const Ee=yield re(xe,Se.associationPublicKey,Se.ecdhPrivateKey),Te=xe.slice(v),Ie=Te.byteLength!==0?yield a(this,void 0,void 0,function*(){const Ge=Te.slice(0,u),Pe=Ce(Ge);if(Pe!==me+1)throw new Error("Encrypted message has invalid sequence number");return me=Pe,S(Te,Ee)}):{protocol_version:"legacy"};Se={__type:"connected",sharedSecret:Ee,sessionProperties:Ie};const $e=A(Ie.protocol_version,(Ge,Pe)=>a(this,void 0,void 0,function*(){const Ye=le++,lt=yield B({id:Ye,jsonrpc:"2.0",method:Ge,params:Pe??{}},Ee);return ve=="base64"?pe.send(f(lt)):pe.send(lt),new Promise((ct,at)=>{Fe[Ye]={resolve(dt){switch(Ge){case"authorize":case"reauthorize":{const{wallet_uri_base:ut}=dt;if(ut!=null)try{Oe(ut)}catch(gt){at(gt);return}break}}ct(dt)},reject:at}})}));ze=!0;try{Le($e)}catch(Ge){ke(Ge)}break}}});pe.addEventListener("message",qe),Ze=()=>{pe.removeEventListener("message",qe),Re(),ze||ke(new n(i.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}e.SolanaCloneAuthorization=M,e.SolanaMobileWalletAdapterError=n,e.SolanaMobileWalletAdapterErrorCode=i,e.SolanaMobileWalletAdapterProtocolError=o,e.SolanaMobileWalletAdapterProtocolErrorCode=r,e.SolanaSignInWithSolana=d,e.SolanaSignTransactions=g,e.startRemoteScenario=Xe,e.transact=nt}}),Ei=oe({"../../node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/node_modules/base-x/src/index.js"(e,t){function i(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<n.length;a++){var l=n.charAt(a),f=l.charCodeAt(0);if(r[f]!==255)throw new TypeError(l+" is ambiguous");r[f]=a}var w=n.length,O=n.charAt(0),p=Math.log(w)/Math.log(256),s=Math.log(256)/Math.log(w);function g(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var W=0,N=0,C=0,u=A.length;C!==u&&A[C]===0;)C++,W++;for(var Y=(u-C)*s+1>>>0,L=new Uint8Array(Y);C!==u;){for(var v=A[C],m=0,_=Y-1;(v!==0||m<N)&&_!==-1;_--,m++)v+=256*L[_]>>>0,L[_]=v%w>>>0,v=v/w>>>0;if(v!==0)throw new Error("Non-zero carry");N=m,C++}for(var h=Y-N;h!==Y&&L[h]===0;)h++;for(var j=O.repeat(W);h<Y;++h)j+=n.charAt(L[h]);return j}function M(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;for(var W=0,N=0,C=0;A[W]===O;)N++,W++;for(var u=(A.length-W)*p+1>>>0,Y=new Uint8Array(u);A[W];){var L=A.charCodeAt(W);if(L>255)return;var v=r[L];if(v===255)return;for(var m=0,_=u-1;(v!==0||m<C)&&_!==-1;_--,m++)v+=w*Y[_]>>>0,Y[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");C=m,W++}for(var h=u-C;h!==u&&Y[h]===0;)h++;for(var j=new Uint8Array(N+(u-h)),P=N;h!==u;)j[P++]=Y[h++];return j}function d(A){var W=M(A);if(W)return W;throw new Error("Non-base"+w+" character")}return{encode:g,decodeUnsafe:M,decode:d}}t.exports=i}}),Si=oe({"../../node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/node_modules/bs58/index.js"(e,t){const i=Ei(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.exports=i(n)}}),mr={};Pr(mr,{startRemoteScenario:()=>Mi,transact:()=>Ti});function on(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function Lt(e,t,i,n){function r(o){return o instanceof i?o:new i(function(a){a(o)})}return new(i||(i=Promise))(function(o,a){function l(O){try{w(n.next(O))}catch(p){a(p)}}function f(O){try{w(n.throw(O))}catch(p){a(p)}}function w(O){O.done?o(O.value):r(O.value).then(l,f)}w((n=n.apply(e,t||[])).next())})}function gr(e){return window.btoa(String.fromCharCode.call(null,...e))}function an(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function zn(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return gr(t)}function Ai(e){const i=e[0]*xr+1;return $r.deserializeMessageVersion(e.slice(i,e.length))==="legacy"?un.from(e):fn.deserialize(e)}function Ti(e,t){return Lt(this,void 0,void 0,function*(){const i=n=>e(wr(n));return yield(0,En.transact)(i,t)})}function Mi(e){return Lt(this,void 0,void 0,function*(){const{wallet:t,close:i,associationUrl:n}=yield(0,En.startRemoteScenario)(e);return{wallet:t.then(o=>wr(o)),close:i,associationUrl:n}})}function wr(e){return new Proxy({},{get(t,i){if(t[i]==null)switch(i){case"signAndSendTransactions":t[i]=function(n){var{minContextSlot:r,commitment:o,skipPreflight:a,maxRetries:l,waitForCommitmentToSendNextTransaction:f,transactions:w}=n,O=on(n,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Lt(this,void 0,void 0,function*(){const p=w.map(zn),s={min_context_slot:r,commitment:o,skip_preflight:a,max_retries:l,wait_for_commitment_to_send_next_transaction:f},{signatures:g}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},O),Object.values(s).some(d=>d!=null)?{options:s}:null),{payloads:p}));return g.map(an).map(pr.default.encode)})};break;case"signMessages":t[i]=function(n){var{payloads:r}=n,o=on(n,["payloads"]);return Lt(this,void 0,void 0,function*(){const a=r.map(gr),{signed_payloads:l}=yield e.signMessages(Object.assign(Object.assign({},o),{payloads:a}));return l.map(an)})};break;case"signTransactions":t[i]=function(n){var{transactions:r}=n,o=on(n,["transactions"]);return Lt(this,void 0,void 0,function*(){const a=r.map(zn),{signed_payloads:l}=yield e.signTransactions(Object.assign(Object.assign({},o),{payloads:a}));return l.map(an).map(Ai)})};break;default:{t[i]=e[i];break}}return t[i]},defineProperty(){return!1},deleteProperty(){return!1}})}var En,pr,Wi=Lr({"../../node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.browser.js"(){Gt(),En=bt(yi()),pr=bt(Si())}}),Ci=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/base-x/src/index.js"(e,t){function i(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<n.length;a++){var l=n.charAt(a),f=l.charCodeAt(0);if(r[f]!==255)throw new TypeError(l+" is ambiguous");r[f]=a}var w=n.length,O=n.charAt(0),p=Math.log(w)/Math.log(256),s=Math.log(256)/Math.log(w);function g(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var W=0,N=0,C=0,u=A.length;C!==u&&A[C]===0;)C++,W++;for(var Y=(u-C)*s+1>>>0,L=new Uint8Array(Y);C!==u;){for(var v=A[C],m=0,_=Y-1;(v!==0||m<N)&&_!==-1;_--,m++)v+=256*L[_]>>>0,L[_]=v%w>>>0,v=v/w>>>0;if(v!==0)throw new Error("Non-zero carry");N=m,C++}for(var h=Y-N;h!==Y&&L[h]===0;)h++;for(var j=O.repeat(W);h<Y;++h)j+=n.charAt(L[h]);return j}function M(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;for(var W=0,N=0,C=0;A[W]===O;)N++,W++;for(var u=(A.length-W)*p+1>>>0,Y=new Uint8Array(u);A[W];){var L=A.charCodeAt(W);if(L>255)return;var v=r[L];if(v===255)return;for(var m=0,_=u-1;(v!==0||m<C)&&_!==-1;_--,m++)v+=w*Y[_]>>>0,Y[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");C=m,W++}for(var h=u-C;h!==u&&Y[h]===0;)h++;for(var j=new Uint8Array(N+(u-h)),P=N;h!==u;)j[P++]=Y[h++];return j}function d(A){var W=M(A);if(W)return W;throw new Error("Non-base"+w+" character")}return{encode:g,decodeUnsafe:M,decode:d}}t.exports=i}}),Ri=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/node_modules/bs58/index.js"(e,t){const i=Ci(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.exports=i(n)}}),Ii=oe({"../../node_modules/@solana-mobile/wallet-standard-mobile/lib/cjs/index.browser.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=bn(),i=(Gt(),cn(Qn)),n=fi(),r=ir(),o=dr(),a=(Wi(),cn(mr)),l=Ri();function f(V){return V&&typeof V=="object"&&"default"in V?V:{default:V}}var w=f(n),O=f(l);function p(V,E,b,D){function x(ae){return ae instanceof b?ae:new b(function(ue){ue(ae)})}return new(b||(b=Promise))(function(ae,ue){function De(ft){try{St(D.next(ft))}catch(Rt){ue(Rt)}}function Ne(ft){try{St(D.throw(ft))}catch(Rt){ue(Rt)}}function St(ft){ft.done?ae(ft.value):x(ft.value).then(De,Ne)}St((D=D.apply(V,E||[])).next())})}function s(V,E,b,D){if(b==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof E=="function"?V!==E||!D:!E.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?D:b==="a"?D.call(V):D?D.value:E.get(V)}function g(V,E,b,D,x){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof E=="function"?V!==E||!x:!E.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?x.call(V,b):x?x.value=b:E.set(V,b),b}var M,d,A,W,N,C,u,Y;const L=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,v=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,m=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;var _=class{constructor(){M.add(this),d.set(this,null),A.set(this,{}),W.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),s(this,M,"m",C).call(this),s(this,d,"f")&&(s(this,d,"f").style.display="flex")},this.close=(V=void 0)=>{var E;console.debug("Modal close"),s(this,M,"m",u).call(this),s(this,d,"f")&&(s(this,d,"f").style.display="none"),(E=s(this,A,"f").close)===null||E===void 0||E.forEach(b=>b(V))},Y.set(this,V=>{V.key==="Escape"&&this.close(V)}),this.init=this.init.bind(this),g(this,d,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f")}init(){return p(this,void 0,void 0,function*(){console.log("Injecting modal"),s(this,M,"m",N).call(this)})}addEventListener(V,E){var b;return!((b=s(this,A,"f")[V])===null||b===void 0)&&b.push(E)||(s(this,A,"f")[V]=[E]),()=>this.removeEventListener(V,E)}removeEventListener(V,E){var b;s(this,A,"f")[V]=(b=s(this,A,"f")[V])===null||b===void 0?void 0:b.filter(D=>E!==D)}};d=new WeakMap,A=new WeakMap,W=new WeakMap,Y=new WeakMap,M=new WeakSet,N=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){s(this,d,"f")||g(this,d,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f");return}g(this,d,document.createElement("div"),"f"),s(this,d,"f").id="mobile-wallet-adapter-embedded-root-ui",s(this,d,"f").innerHTML=L,s(this,d,"f").style.display="none";const E=s(this,d,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");E&&(E.innerHTML=this.contentHtml);const b=document.createElement("style");b.id="mobile-wallet-adapter-embedded-modal-styles",b.textContent=v+this.contentStyles;const D=document.createElement("div");D.innerHTML=m,this.dom=D.attachShadow({mode:"closed"}),this.dom.appendChild(b),this.dom.appendChild(s(this,d,"f")),document.body.appendChild(D)},C=function(){if(!s(this,d,"f")||s(this,W,"f"))return;[...s(this,d,"f").querySelectorAll("[data-modal-close]")].forEach(b=>b==null?void 0:b.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",s(this,Y,"f")),g(this,W,!0,"f")},u=function(){if(!s(this,W,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",s(this,Y,"f")),!s(this,d,"f")))return;[...s(this,d,"f").querySelectorAll("[data-modal-close]")].forEach(b=>b==null?void 0:b.removeEventListener("click",this.close)),g(this,W,!1,"f")};var h=class extends _{constructor(){super(...arguments),this.contentStyles=P,this.contentHtml=j}initWithQR(V){const E=Object.create(null,{init:{get:()=>super.init}});return p(this,void 0,void 0,function*(){E.init.call(this),this.populateQRCode(V)})}populateQRCode(V){var E;return p(this,void 0,void 0,function*(){const b=(E=this.dom)===null||E===void 0?void 0:E.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(b){const D=yield w.default.toCanvas(V,{width:200,margin:0});b.firstElementChild!==null?b.replaceChild(D,b.firstElementChild):b.appendChild(D)}else console.error("QRCode Container not found")})}};const j=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,P=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,q="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function $(V){return"version"in V}function y(V){return window.btoa(String.fromCharCode.call(null,...V))}function K(V){return new Uint8Array(window.atob(V).split("").map(E=>E.charCodeAt(0)))}var c,I,z,U,Z,T,k,B,F,re,S,R,G,Q,ie,J,ne,fe,we,ge,he,Me,ye,Oe,Ce,We,Ue,nt,Xe,H,ee,te,X,ce,le,me,ve,Se,pe,Re,Ve,_e,ze,Ze,Le,ke,Fe,qe,rt,xe,Ae,Be,Ee,Te,Ie,$e,Ge,Pe,Ye,lt,ct,at,dt,ut,gt,Ut,Yt,Qt,Jt,qt;const Xt="Mobile Wallet Adapter",Sn=64,An=[t.SolanaSignAndSendTransaction,t.SolanaSignTransaction,t.SolanaSignMessage,t.SolanaSignIn];var Tn=class{constructor(V){c.add(this),I.set(this,{}),z.set(this,"1.0.0"),U.set(this,Xt),Z.set(this,"https://solanamobile.com/wallets"),T.set(this,q),k.set(this,void 0),B.set(this,void 0),F.set(this,void 0),re.set(this,!1),S.set(this,0),R.set(this,[]),G.set(this,void 0),Q.set(this,void 0),ie.set(this,void 0),J.set(this,(E,b)=>{var D;return!((D=s(this,I,"f")[E])===null||D===void 0)&&D.push(b)||(s(this,I,"f")[E]=[b]),()=>s(this,c,"m",fe).call(this,E,b)}),we.set(this,({silent:E}={})=>p(this,void 0,void 0,function*(){if(s(this,re,"f")||this.connected)return{accounts:this.accounts};g(this,re,!0,"f");try{if(E){const b=yield s(this,F,"f").get();if(b)yield s(this,he,"f").call(this,b);else return{accounts:this.accounts}}else yield s(this,ge,"f").call(this)}catch(b){throw new Error(b instanceof Error&&b.message||"Unknown error")}finally{g(this,re,!1,"f")}return{accounts:this.accounts}})),ge.set(this,E=>p(this,void 0,void 0,function*(){try{const b=yield s(this,F,"f").get();if(b)return s(this,he,"f").call(this,b),b;const D=yield s(this,G,"f").select(s(this,R,"f"));return yield s(this,Ce,"f").call(this,x=>p(this,void 0,void 0,function*(){const[ae,ue]=yield Promise.all([x.getCapabilities(),x.authorize({chain:D,identity:s(this,k,"f"),sign_in_payload:E})]),De=s(this,Ue,"f").call(this,ue.accounts),Ne=Object.assign(Object.assign({},ue),{accounts:De,chain:D});return Promise.all([s(this,Me,"f").call(this,ae),s(this,F,"f").set(Ne),s(this,he,"f").call(this,Ne)]),Ne}))}catch(b){throw new Error(b instanceof Error&&b.message||"Unknown error")}})),he.set(this,E=>p(this,void 0,void 0,function*(){var b;const D=s(this,B,"f")==null||((b=s(this,B,"f"))===null||b===void 0?void 0:b.accounts.length)!==E.accounts.length||s(this,B,"f").accounts.some((x,ae)=>x.address!==E.accounts[ae].address);g(this,B,E,"f"),D&&s(this,c,"m",ne).call(this,"change",{accounts:this.accounts})})),Me.set(this,E=>p(this,void 0,void 0,function*(){const b=E.features.includes("solana:signTransactions"),D=E.supports_sign_and_send_transactions,x=t.SolanaSignAndSendTransaction in this.features!==D||t.SolanaSignTransaction in this.features!==b;g(this,Q,Object.assign(Object.assign({},(D||!D&&!b)&&{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:s(this,H,"f")}}),b&&{[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:s(this,ee,"f")}}),"f"),x&&s(this,c,"m",ne).call(this,"change",{features:this.features})})),ye.set(this,(E,b,D)=>p(this,void 0,void 0,function*(){try{const x=yield E.authorize({auth_token:b,identity:s(this,k,"f"),chain:D}),ae=s(this,Ue,"f").call(this,x.accounts),ue=Object.assign(Object.assign({},x),{accounts:ae,chain:D});Promise.all([s(this,F,"f").set(ue),s(this,he,"f").call(this,ue)])}catch(x){throw s(this,Oe,"f").call(this),new Error(x instanceof Error&&x.message||"Unknown error")}})),Oe.set(this,()=>p(this,void 0,void 0,function*(){var E;s(this,F,"f").clear(),g(this,re,!1,"f"),g(this,S,(E=s(this,S,"f"),E++,E),"f"),g(this,B,void 0,"f"),s(this,c,"m",ne).call(this,"change",{accounts:this.accounts})})),Ce.set(this,E=>p(this,void 0,void 0,function*(){var b;const D=(b=s(this,B,"f"))===null||b===void 0?void 0:b.wallet_uri_base,x=D?{baseUri:D}:void 0,ae=s(this,S,"f");try{return yield a.transact(E,x)}catch(ue){throw s(this,S,"f")!==ae&&(yield new Promise(()=>{})),ue instanceof Error&&ue.name==="SolanaMobileWalletAdapterError"&&ue.code==="ERROR_WALLET_NOT_FOUND"&&(yield s(this,ie,"f").call(this,this)),ue}})),We.set(this,()=>{if(!s(this,B,"f"))throw new Error("Wallet not connected");return{authToken:s(this,B,"f").auth_token,chain:s(this,B,"f").chain}}),Ue.set(this,E=>E.map(b=>{var D,x;const ae=K(b.address);return{address:O.default.encode(ae),publicKey:ae,label:b.label,icon:b.icon,chains:(D=b.chains)!==null&&D!==void 0?D:s(this,R,"f"),features:(x=b.features)!==null&&x!==void 0?x:An}})),nt.set(this,E=>p(this,void 0,void 0,function*(){const{authToken:b,chain:D}=s(this,We,"f").call(this);try{return yield s(this,Ce,"f").call(this,x=>p(this,void 0,void 0,function*(){return yield s(this,ye,"f").call(this,x,b,D),yield x.signTransactions({transactions:E})}))}catch(x){throw new Error(x instanceof Error&&x.message||"Unknown error")}})),Xe.set(this,(E,b)=>p(this,void 0,void 0,function*(){const{authToken:D,chain:x}=s(this,We,"f").call(this);try{return yield s(this,Ce,"f").call(this,ae=>p(this,void 0,void 0,function*(){const[ue,De]=yield Promise.all([ae.getCapabilities(),s(this,ye,"f").call(this,ae,D,x)]);if(ue.supports_sign_and_send_transactions)return(yield ae.signAndSendTransactions(Object.assign(Object.assign({},b),{transactions:[E]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(ae){throw new Error(ae instanceof Error&&ae.message||"Unknown error")}})),H.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=[];for(const D of E){const x=i.VersionedTransaction.deserialize(D.transaction),ae=yield s(this,Xe,"f").call(this,x,D.options);b.push({signature:O.default.decode(ae)})}return b})),ee.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=E.map(({transaction:x})=>i.VersionedTransaction.deserialize(x));return(yield s(this,nt,"f").call(this,b)).map(x=>({signedTransaction:$(x)?x.serialize():new Uint8Array(x.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),te.set(this,(...E)=>p(this,void 0,void 0,function*(){const{authToken:b,chain:D}=s(this,We,"f").call(this),x=E.map(({account:ue})=>y(ue.publicKey)),ae=E.map(({message:ue})=>ue);try{return yield s(this,Ce,"f").call(this,ue=>p(this,void 0,void 0,function*(){return yield s(this,ye,"f").call(this,ue,b,D),(yield ue.signMessages({addresses:x,payloads:ae})).map(Ne=>({signedMessage:Ne,signature:Ne.slice(-Sn)}))}))}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}})),X.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=[];if(E.length>1)for(const D of E)b.push(yield s(this,ce,"f").call(this,D));else return[yield s(this,ce,"f").call(this,E[0])];return b})),ce.set(this,E=>p(this,void 0,void 0,function*(){var b,D;g(this,re,!0,"f");try{const x=yield s(this,ge,"f").call(this,Object.assign(Object.assign({},E),{domain:(b=E==null?void 0:E.domain)!==null&&b!==void 0?b:window.location.host}));if(!x.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const ae=x.sign_in_result.address;return{account:Object.assign(Object.assign({},(D=x.accounts.find(De=>De.address==ae))!==null&&D!==void 0?D:{address:ae}),{publicKey:K(ae)}),signedMessage:K(x.sign_in_result.signed_message),signature:K(x.sign_in_result.signature)}}catch(x){throw new Error(x instanceof Error&&x.message||"Unknown error")}finally{g(this,re,!1,"f")}})),g(this,F,V.authorizationCache,"f"),g(this,k,V.appIdentity,"f"),g(this,R,V.chains,"f"),g(this,G,V.chainSelector,"f"),g(this,ie,V.onWalletNotFound,"f"),g(this,Q,{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:s(this,H,"f")}},"f")}get version(){return s(this,z,"f")}get name(){return s(this,U,"f")}get url(){return s(this,Z,"f")}get icon(){return s(this,T,"f")}get chains(){return s(this,R,"f")}get features(){return Object.assign({[r.StandardConnect]:{version:"1.0.0",connect:s(this,we,"f")},[r.StandardDisconnect]:{version:"1.0.0",disconnect:s(this,Oe,"f")},[r.StandardEvents]:{version:"1.0.0",on:s(this,J,"f")},[t.SolanaSignMessage]:{version:"1.0.0",signMessage:s(this,te,"f")},[t.SolanaSignIn]:{version:"1.0.0",signIn:s(this,X,"f")}},s(this,Q,"f"))}get accounts(){var V,E;return(E=(V=s(this,B,"f"))===null||V===void 0?void 0:V.accounts)!==null&&E!==void 0?E:[]}get connected(){return!!s(this,B,"f")}get isAuthorized(){return!!s(this,B,"f")}get currentAuthorization(){return s(this,B,"f")}get cachedAuthorizationResult(){return s(this,F,"f").get()}};I=new WeakMap,z=new WeakMap,U=new WeakMap,Z=new WeakMap,T=new WeakMap,k=new WeakMap,B=new WeakMap,F=new WeakMap,re=new WeakMap,S=new WeakMap,R=new WeakMap,G=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,we=new WeakMap,ge=new WeakMap,he=new WeakMap,Me=new WeakMap,ye=new WeakMap,Oe=new WeakMap,Ce=new WeakMap,We=new WeakMap,Ue=new WeakMap,nt=new WeakMap,Xe=new WeakMap,H=new WeakMap,ee=new WeakMap,te=new WeakMap,X=new WeakMap,ce=new WeakMap,c=new WeakSet,ne=function(E,...b){var D;(D=s(this,I,"f")[E])===null||D===void 0||D.forEach(x=>x.apply(null,b))},fe=function(E,b){var D;s(this,I,"f")[E]=(D=s(this,I,"f")[E])===null||D===void 0?void 0:D.filter(x=>b!==x)};var Mn=class{constructor(V){le.add(this),me.set(this,{}),ve.set(this,"1.0.0"),Se.set(this,Xt),pe.set(this,"https://solanamobile.com/wallets"),Re.set(this,q),Ve.set(this,void 0),_e.set(this,void 0),ze.set(this,void 0),Ze.set(this,!1),Le.set(this,0),ke.set(this,[]),Fe.set(this,void 0),qe.set(this,void 0),rt.set(this,void 0),xe.set(this,void 0),Ae.set(this,void 0),Be.set(this,(E,b)=>{var D;return!((D=s(this,me,"f")[E])===null||D===void 0)&&D.push(b)||(s(this,me,"f")[E]=[b]),()=>s(this,le,"m",Te).call(this,E,b)}),Ie.set(this,({silent:E}={})=>p(this,void 0,void 0,function*(){if(s(this,Ze,"f")||this.connected)return{accounts:this.accounts};g(this,Ze,!0,"f");try{yield s(this,$e,"f").call(this)}catch(b){throw new Error(b instanceof Error&&b.message||"Unknown error")}finally{g(this,Ze,!1,"f")}return{accounts:this.accounts}})),$e.set(this,E=>p(this,void 0,void 0,function*(){try{const b=yield s(this,ze,"f").get();if(b)return s(this,Ge,"f").call(this,b),b;s(this,Ae,"f")&&g(this,Ae,void 0,"f");const D=yield s(this,Fe,"f").select(s(this,ke,"f"));return yield s(this,ct,"f").call(this,x=>p(this,void 0,void 0,function*(){const[ae,ue]=yield Promise.all([x.getCapabilities(),x.authorize({chain:D,identity:s(this,Ve,"f"),sign_in_payload:E})]),De=s(this,dt,"f").call(this,ue.accounts),Ne=Object.assign(Object.assign({},ue),{accounts:De,chain:D});return Promise.all([s(this,Pe,"f").call(this,ae),s(this,ze,"f").set(Ne),s(this,Ge,"f").call(this,Ne)]),Ne}))}catch(b){throw new Error(b instanceof Error&&b.message||"Unknown error")}})),Ge.set(this,E=>p(this,void 0,void 0,function*(){var b;const D=s(this,_e,"f")==null||((b=s(this,_e,"f"))===null||b===void 0?void 0:b.accounts.length)!==E.accounts.length||s(this,_e,"f").accounts.some((x,ae)=>x.address!==E.accounts[ae].address);g(this,_e,E,"f"),D&&s(this,le,"m",Ee).call(this,"change",{accounts:this.accounts})})),Pe.set(this,E=>p(this,void 0,void 0,function*(){const b=E.features.includes("solana:signTransactions"),D=E.supports_sign_and_send_transactions||E.features.includes("solana:signAndSendTransaction"),x=t.SolanaSignAndSendTransaction in this.features!==D||t.SolanaSignTransaction in this.features!==b;g(this,qe,Object.assign(Object.assign({},D&&{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:E.supported_transaction_versions,signAndSendTransaction:s(this,Ut,"f")}}),b&&{[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:E.supported_transaction_versions,signTransaction:s(this,Yt,"f")}}),"f"),x&&s(this,le,"m",Ee).call(this,"change",{features:this.features})})),Ye.set(this,(E,b,D)=>p(this,void 0,void 0,function*(){try{const x=yield E.authorize({auth_token:b,identity:s(this,Ve,"f")}),ae=s(this,dt,"f").call(this,x.accounts),ue=Object.assign(Object.assign({},x),{accounts:ae,chain:D});Promise.all([s(this,ze,"f").set(ue),s(this,Ge,"f").call(this,ue)])}catch(x){throw s(this,lt,"f").call(this),new Error(x instanceof Error&&x.message||"Unknown error")}})),lt.set(this,()=>p(this,void 0,void 0,function*(){var E,b;(E=s(this,Ae,"f"))===null||E===void 0||E.close(),s(this,ze,"f").clear(),g(this,Ze,!1,"f"),g(this,Le,(b=s(this,Le,"f"),b++,b),"f"),g(this,_e,void 0,"f"),g(this,Ae,void 0,"f"),s(this,le,"m",Ee).call(this,"change",{accounts:this.accounts})})),ct.set(this,E=>p(this,void 0,void 0,function*(){var b;const D=(b=s(this,_e,"f"))===null||b===void 0?void 0:b.wallet_uri_base,ae=Object.assign(Object.assign({},D?{baseUri:D}:void 0),{remoteHostAuthority:s(this,xe,"f")}),ue=s(this,Le,"f"),De=new h;if(s(this,Ae,"f"))return E(s(this,Ae,"f").wallet);try{const{associationUrl:Ne,close:St,wallet:ft}=yield a.startRemoteScenario(ae),Rt=De.addEventListener("close",Br=>{Br&&St()});return De.initWithQR(Ne.toString()),De.open(),g(this,Ae,{close:St,wallet:yield ft},"f"),Rt(),De.close(),yield E(s(this,Ae,"f").wallet)}catch(Ne){throw De.close(),s(this,Le,"f")!==ue&&(yield new Promise(()=>{})),Ne instanceof Error&&Ne.name==="SolanaMobileWalletAdapterError"&&Ne.code==="ERROR_WALLET_NOT_FOUND"&&(yield s(this,rt,"f").call(this,this)),Ne}})),at.set(this,()=>{if(!s(this,_e,"f"))throw new Error("Wallet not connected");return{authToken:s(this,_e,"f").auth_token,chain:s(this,_e,"f").chain}}),dt.set(this,E=>E.map(b=>{var D,x;const ae=K(b.address);return{address:O.default.encode(ae),publicKey:ae,label:b.label,icon:b.icon,chains:(D=b.chains)!==null&&D!==void 0?D:s(this,ke,"f"),features:(x=b.features)!==null&&x!==void 0?x:An}})),ut.set(this,E=>p(this,void 0,void 0,function*(){const{authToken:b,chain:D}=s(this,at,"f").call(this);try{return yield s(this,ct,"f").call(this,x=>p(this,void 0,void 0,function*(){return yield s(this,Ye,"f").call(this,x,b,D),yield x.signTransactions({transactions:E})}))}catch(x){throw new Error(x instanceof Error&&x.message||"Unknown error")}})),gt.set(this,(E,b)=>p(this,void 0,void 0,function*(){const{authToken:D,chain:x}=s(this,at,"f").call(this);try{return yield s(this,ct,"f").call(this,ae=>p(this,void 0,void 0,function*(){const[ue,De]=yield Promise.all([ae.getCapabilities(),s(this,Ye,"f").call(this,ae,D,x)]);if(ue.supports_sign_and_send_transactions)return(yield ae.signAndSendTransactions(Object.assign(Object.assign({},b),{transactions:[E]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(ae){throw new Error(ae instanceof Error&&ae.message||"Unknown error")}})),Ut.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=[];for(const D of E){const x=i.VersionedTransaction.deserialize(D.transaction),ae=yield s(this,gt,"f").call(this,x,D.options);b.push({signature:O.default.decode(ae)})}return b})),Yt.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=E.map(({transaction:x})=>i.VersionedTransaction.deserialize(x));return(yield s(this,ut,"f").call(this,b)).map(x=>({signedTransaction:$(x)?x.serialize():new Uint8Array(x.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),Qt.set(this,(...E)=>p(this,void 0,void 0,function*(){const{authToken:b,chain:D}=s(this,at,"f").call(this),x=E.map(({account:ue})=>y(ue.publicKey)),ae=E.map(({message:ue})=>ue);try{return yield s(this,ct,"f").call(this,ue=>p(this,void 0,void 0,function*(){return yield s(this,Ye,"f").call(this,ue,b,D),(yield ue.signMessages({addresses:x,payloads:ae})).map(Ne=>({signedMessage:Ne,signature:Ne.slice(-Sn)}))}))}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}})),Jt.set(this,(...E)=>p(this,void 0,void 0,function*(){const b=[];if(E.length>1)for(const D of E)b.push(yield s(this,qt,"f").call(this,D));else return[yield s(this,qt,"f").call(this,E[0])];return b})),qt.set(this,E=>p(this,void 0,void 0,function*(){var b,D;g(this,Ze,!0,"f");try{const x=yield s(this,$e,"f").call(this,Object.assign(Object.assign({},E),{domain:(b=E==null?void 0:E.domain)!==null&&b!==void 0?b:window.location.host}));if(!x.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const ae=x.sign_in_result.address;return{account:Object.assign(Object.assign({},(D=x.accounts.find(De=>De.address==ae))!==null&&D!==void 0?D:{address:ae}),{publicKey:K(ae)}),signedMessage:K(x.sign_in_result.signed_message),signature:K(x.sign_in_result.signature)}}catch(x){throw new Error(x instanceof Error&&x.message||"Unknown error")}finally{g(this,Ze,!1,"f")}})),g(this,ze,V.authorizationCache,"f"),g(this,Ve,V.appIdentity,"f"),g(this,ke,V.chains,"f"),g(this,Fe,V.chainSelector,"f"),g(this,xe,V.remoteHostAuthority,"f"),g(this,rt,V.onWalletNotFound,"f"),g(this,qe,{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:s(this,Ut,"f")}},"f")}get version(){return s(this,ve,"f")}get name(){return s(this,Se,"f")}get url(){return s(this,pe,"f")}get icon(){return s(this,Re,"f")}get chains(){return s(this,ke,"f")}get features(){return Object.assign({[r.StandardConnect]:{version:"1.0.0",connect:s(this,Ie,"f")},[r.StandardDisconnect]:{version:"1.0.0",disconnect:s(this,lt,"f")},[r.StandardEvents]:{version:"1.0.0",on:s(this,Be,"f")},[t.SolanaSignMessage]:{version:"1.0.0",signMessage:s(this,Qt,"f")},[t.SolanaSignIn]:{version:"1.0.0",signIn:s(this,Jt,"f")}},s(this,qe,"f"))}get accounts(){var V,E;return(E=(V=s(this,_e,"f"))===null||V===void 0?void 0:V.accounts)!==null&&E!==void 0?E:[]}get connected(){return!!s(this,Ae,"f")&&!!s(this,_e,"f")}get isAuthorized(){return!!s(this,_e,"f")}get currentAuthorization(){return s(this,_e,"f")}get cachedAuthorizationResult(){return s(this,ze,"f").get()}};me=new WeakMap,ve=new WeakMap,Se=new WeakMap,pe=new WeakMap,Re=new WeakMap,Ve=new WeakMap,_e=new WeakMap,ze=new WeakMap,Ze=new WeakMap,Le=new WeakMap,ke=new WeakMap,Fe=new WeakMap,qe=new WeakMap,rt=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Be=new WeakMap,Ie=new WeakMap,$e=new WeakMap,Ge=new WeakMap,Pe=new WeakMap,Ye=new WeakMap,lt=new WeakMap,ct=new WeakMap,at=new WeakMap,dt=new WeakMap,ut=new WeakMap,gt=new WeakMap,Ut=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,qt=new WeakMap,le=new WeakSet,Ee=function(E,...b){var D;(D=s(this,me,"f")[E])===null||D===void 0||D.forEach(x=>x.apply(null,b))},Te=function(E,b){var D;s(this,me,"f")[E]=(D=s(this,me,"f")[E])===null||D===void 0?void 0:D.filter(x=>b!==x)};var vr=function(V,E,b,D,x){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof E=="function"?V!==E||!x:!E.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?x.call(V,b):x?x.value=b:E.set(V,b),b},br=function(V,E,b,D){if(b==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof E=="function"?V!==E||!D:!E.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?D:b==="a"?D.call(V):D?D.value:E.get(V)},zt;function Wn(V){const E=({register:b})=>b(V);try{window.dispatchEvent(new yr(E))}catch(b){console.error(`wallet-standard:register-wallet event could not be dispatched
`,b)}try{window.addEventListener("wallet-standard:app-ready",({detail:b})=>E(b))}catch(b){console.error(`wallet-standard:app-ready event listener could not be added
`,b)}}var yr=class extends Event{constructor(V){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),zt.set(this,void 0),vr(this,zt,V,"f")}get detail(){return br(this,zt,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};zt=new WeakMap;function Er(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function Sr(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Ar(V){Er()?Wn(new Tn(V)):Sr()&&V.remoteHostAuthority!==void 0&&Wn(new Mn(Object.assign(Object.assign({},V),{remoteHostAuthority:V.remoteHostAuthority})))}const Tr="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Mr="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";var Wr=class extends _{constructor(){super(...arguments),this.contentStyles=Rr,this.contentHtml=Cr}initWithError(V){super.init(),this.populateError(V)}populateError(V){var E,b;const D=(E=this.dom)===null||E===void 0?void 0:E.getElementById("mobile-wallet-adapter-error-message"),x=(b=this.dom)===null||b===void 0?void 0:b.getElementById("mobile-wallet-adapter-error-action");if(D){if(V.name==="SolanaMobileWalletAdapterError")switch(V.code){case"ERROR_WALLET_NOT_FOUND":D.innerHTML=Tr,x&&x.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":D.innerHTML=Mr,x&&(x.style.display="none");return}D.innerHTML=`An unexpected error occurred: ${V.message}`}else console.log("Failed to locate error dialog element")}};const Cr=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Rr=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Cn(){return p(this,void 0,void 0,function*(){if(typeof window<"u"){const V=window.navigator.userAgent.toLowerCase(),E=new Wr;V.includes("wv")?E.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):E.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),E.open()}})}function Ir(){return()=>p(this,void 0,void 0,function*(){Cn()})}const en="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Nr(){let V;try{V=window.localStorage}catch{}return{clear(){return p(this,void 0,void 0,function*(){if(V)try{V.removeItem(en)}catch{}})},get(){return p(this,void 0,void 0,function*(){if(V)try{const E=JSON.parse(V.getItem(en));if(E&&E.accounts){const b=E.accounts.map(D=>Object.assign(Object.assign({},D),{publicKey:"publicKey"in D?new Uint8Array(Object.values(D.publicKey)):new i.PublicKey(D.address).toBytes()}));return Object.assign(Object.assign({},E),{accounts:b})}else return E||void 0}catch{}})},set(E){return p(this,void 0,void 0,function*(){if(V)try{V.setItem(en,JSON.stringify(E))}catch{}})}}}function Or(){return{select(V){return p(this,void 0,void 0,function*(){return V.length===1?V[0]:V.includes(o.SOLANA_MAINNET_CHAIN)?o.SOLANA_MAINNET_CHAIN:V[0]})}}}e.LocalSolanaMobileWalletAdapterWallet=Tn,e.RemoteSolanaMobileWalletAdapterWallet=Mn,e.SolanaMobileWalletAdapterWalletName=Xt,e.createDefaultAuthorizationCache=Nr,e.createDefaultChainSelector=Or,e.createDefaultWalletNotFoundHandler=Ir,e.defaultErrorModalWalletNotFoundHandler=Cn,e.registerMwa=Ar}}),_r=oe({"../../node_modules/@solana-mobile/wallet-adapter-mobile/lib/cjs/index.browser.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ho(),i=(Gt(),cn(Qn)),n=bn(),r=Ii();function o(T,k,B,F){function re(S){return S instanceof B?S:new B(function(R){R(S)})}return new(B||(B=Promise))(function(S,R){function G(J){try{ie(F.next(J))}catch(ne){R(ne)}}function Q(J){try{ie(F.throw(J))}catch(ne){R(ne)}}function ie(J){J.done?S(J.value):re(J.value).then(G,Q)}ie((F=F.apply(T,k||[])).next())})}function a(T,k,B,F){if(B==="a"&&!F)throw new TypeError("Private accessor was defined without a getter");if(typeof k=="function"?T!==k||!F:!k.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return B==="m"?F:B==="a"?F.call(T):F?F.value:k.get(T)}function l(T,k,B,F,re){if(F==="m")throw new TypeError("Private method is not writable");if(F==="a"&&!re)throw new TypeError("Private accessor was defined without a setter");if(typeof k=="function"?T!==k||!re:!k.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return F==="a"?re.call(T,B):re?re.value=B:k.set(T,B),B}const f="standard:connect",w="standard:disconnect",O="standard:events";function p(T){return window.btoa(String.fromCharCode.call(null,...T))}function s(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var g,M,d,A,W,N,C,u,Y,L,v,m,_;const h="Mobile Wallet Adapter",j=64;function P(T){return"version"in T}function q(T){switch(T){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return T}}var $=class extends t.BaseSignInMessageSignerWalletAdapter{constructor(T,k){super(),g.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),M.set(this,void 0),d.set(this,!1),A.set(this,s()?t.WalletReadyState.Loadable:t.WalletReadyState.Unsupported),W.set(this,void 0),N.set(this,void 0),C.set(this,void 0),u.set(this,B=>o(this,void 0,void 0,function*(){if(B.accounts&&B.accounts.length>0){a(this,g,"m",L).call(this);const F=yield a(this,W,"f").call(this,B.accounts);F!==a(this,N,"f")&&(l(this,N,F,"f"),l(this,C,void 0,"f"),this.emit("connect",this.publicKey))}})),l(this,W,B=>o(this,void 0,void 0,function*(){var F;const re=yield k.addressSelector.select(B.map(({publicKey:S})=>p(S)));return(F=B.find(({publicKey:S})=>p(S)===re))!==null&&F!==void 0?F:B[0]}),"f"),l(this,M,T,"f"),a(this,M,"f").features[O].on("change",a(this,u,"f")),this.name=a(this,M,"f").name,this.icon=a(this,M,"f").icon,this.url=a(this,M,"f").url}get publicKey(){var T;if(!a(this,C,"f")&&a(this,N,"f"))try{l(this,C,new i.PublicKey(a(this,N,"f").publicKey),"f")}catch(k){throw new t.WalletPublicKeyError(k instanceof Error&&(k==null?void 0:k.message)||"Unknown error",k)}return(T=a(this,C,"f"))!==null&&T!==void 0?T:null}get connected(){return a(this,M,"f").connected}get connecting(){return a(this,d,"f")}get readyState(){return a(this,A,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return o(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return o(this,void 0,void 0,function*(){a(this,g,"m",Y).call(this,!0)})}connect(){return o(this,void 0,void 0,function*(){a(this,g,"m",Y).call(this)})}performAuthorization(T){return o(this,void 0,void 0,function*(){try{const k=yield a(this,M,"f").cachedAuthorizationResult;return k?(yield a(this,M,"f").features[f].connect({silent:!0}),k):(T?yield a(this,M,"f").features[n.SolanaSignIn].signIn(T):yield a(this,M,"f").features[f].connect(),yield yield a(this,M,"f").cachedAuthorizationResult)}catch(k){throw new t.WalletConnectionError(k instanceof Error&&k.message||"Unknown error",k)}})}disconnect(){return o(this,void 0,void 0,function*(){return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){l(this,d,!1,"f"),l(this,C,void 0,"f"),l(this,N,void 0,"f"),yield a(this,M,"f").features[w].disconnect(),this.emit("disconnect")}))})}signIn(T){return o(this,void 0,void 0,function*(){return a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){var k;if(a(this,A,"f")!==t.WalletReadyState.Installed&&a(this,A,"f")!==t.WalletReadyState.Loadable)throw new t.WalletNotReadyError;l(this,d,!0,"f");try{const B=yield a(this,M,"f").features[n.SolanaSignIn].signIn(Object.assign(Object.assign({},T),{domain:(k=T==null?void 0:T.domain)!==null&&k!==void 0?k:window.location.host}));if(B.length>0)return B[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(B){throw new t.WalletConnectionError(B instanceof Error&&B.message||"Unknown error",B)}finally{l(this,d,!1,"f")}}))})}signMessage(T){return o(this,void 0,void 0,function*(){return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){const k=a(this,g,"m",v).call(this);try{return(yield a(this,M,"f").features[n.SolanaSignMessage].signMessage({account:k,message:T}))[0].signature}catch(B){throw new t.WalletSignMessageError(B==null?void 0:B.message,B)}}))})}sendTransaction(T,k,B){return o(this,void 0,void 0,function*(){return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){const F=a(this,g,"m",v).call(this);try{let re=function(){let S;switch(k.commitment){case"confirmed":case"finalized":case"processed":S=k.commitment;break;default:S="finalized"}let R;switch(B==null?void 0:B.preflightCommitment){case"confirmed":case"finalized":case"processed":R=B.preflightCommitment;break;case void 0:R=S;break;default:R="finalized"}return(R==="finalized"?2:R==="confirmed"?1:0)<(S==="finalized"?2:S==="confirmed"?1:0)?R:S};if(n.SolanaSignAndSendTransaction in a(this,M,"f").features){const S=q(a(this,M,"f").currentAuthorization.chain),[R]=(yield a(this,M,"f").features[n.SolanaSignAndSendTransaction].signAndSendTransaction({account:F,transaction:T.serialize(),chain:S,options:B?{skipPreflight:B.skipPreflight,maxRetries:B.maxRetries}:void 0})).map(G=>p(G.signature));return R}else{const[S]=yield a(this,g,"m",m).call(this,[T]);if(P(S))return yield k.sendTransaction(S);{const R=S.serialize();return yield k.sendRawTransaction(R,Object.assign(Object.assign({},B),{preflightCommitment:re()}))}}}catch(re){throw new t.WalletSendTransactionError(re==null?void 0:re.message,re)}}))})}signTransaction(T){return o(this,void 0,void 0,function*(){return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){const[k]=yield a(this,g,"m",m).call(this,[T]);return k}))})}signAllTransactions(T){return o(this,void 0,void 0,function*(){return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){return yield a(this,g,"m",m).call(this,T)}))})}};M=new WeakMap,d=new WeakMap,A=new WeakMap,W=new WeakMap,N=new WeakMap,C=new WeakMap,u=new WeakMap,g=new WeakSet,Y=function(k=!1){return o(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield a(this,g,"m",_).call(this,()=>o(this,void 0,void 0,function*(){if(a(this,A,"f")!==t.WalletReadyState.Installed&&a(this,A,"f")!==t.WalletReadyState.Loadable)throw new t.WalletNotReadyError;l(this,d,!0,"f");try{yield a(this,M,"f").features[f].connect({silent:k})}catch(B){throw new t.WalletConnectionError(B instanceof Error&&B.message||"Unknown error",B)}finally{l(this,d,!1,"f")}}))})},L=function(){a(this,A,"f")!==t.WalletReadyState.Installed&&this.emit("readyStateChange",l(this,A,t.WalletReadyState.Installed,"f"))},v=function(){if(!a(this,M,"f").isAuthorized||!a(this,N,"f"))throw new t.WalletNotConnectedError;return a(this,N,"f")},m=function(k){return o(this,void 0,void 0,function*(){const B=a(this,g,"m",v).call(this);try{if(n.SolanaSignTransaction in a(this,M,"f").features)return a(this,M,"f").features[n.SolanaSignTransaction].signTransaction(...k.map(F=>({account:B,transaction:F.serialize()}))).then(F=>F.map(re=>{const S=re.signedTransaction,G=S[0]*j+1;return i.VersionedMessage.deserializeMessageVersion(S.slice(G,S.length))==="legacy"?i.Transaction.from(S):i.VersionedTransaction.deserialize(S)}));throw new Error("Connected wallet does not support signing transactions")}catch(F){throw new t.WalletSignTransactionError(F==null?void 0:F.message,F)}})},_=function(k){return o(this,void 0,void 0,function*(){try{return yield k()}catch(B){throw this.emit("error",B),B}})};var y=class extends ${constructor(T){var k;const B=q((k=T.chain)!==null&&k!==void 0?k:T.cluster);super(new r.LocalSolanaMobileWalletAdapterWallet({appIdentity:T.appIdentity,authorizationCache:{set:T.authorizationResultCache.set,get:()=>o(this,void 0,void 0,function*(){const F=yield T.authorizationResultCache.get();return F&&"chain"in F?F:F?Object.assign(Object.assign({},F),{chain:B}):void 0}),clear:T.authorizationResultCache.clear},chains:[B],chainSelector:r.createDefaultChainSelector(),onWalletNotFound:()=>o(this,void 0,void 0,function*(){T.onWalletNotFound(this)})}),{addressSelector:T.addressSelector,chain:B})}},K=class extends ${constructor(T){const k=q(T.chain);super(new r.RemoteSolanaMobileWalletAdapterWallet({appIdentity:T.appIdentity,authorizationCache:{set:T.authorizationResultCache.set,get:()=>o(this,void 0,void 0,function*(){const B=yield T.authorizationResultCache.get();return B&&"chain"in B?B:B?Object.assign(Object.assign({},B),{chain:k}):void 0}),clear:T.authorizationResultCache.clear},chains:[k],chainSelector:r.createDefaultChainSelector(),remoteHostAuthority:T.remoteHostAuthority,onWalletNotFound:()=>o(this,void 0,void 0,function*(){T.onWalletNotFound(this)})}),{addressSelector:T.addressSelector,chain:k})}},c=class extends y{};function I(){return{select(T){return o(this,void 0,void 0,function*(){return T[0]})}}}function z(){return r.createDefaultAuthorizationCache()}function U(T){return o(this,void 0,void 0,function*(){return r.defaultErrorModalWalletNotFoundHandler()})}function Z(){return U}e.LocalSolanaMobileWalletAdapter=y,e.RemoteSolanaMobileWalletAdapter=K,e.SolanaMobileWalletAdapter=c,e.SolanaMobileWalletAdapterWalletName=h,e.createDefaultAddressSelector=I,e.createDefaultAuthorizationResultCache=z,e.createDefaultWalletNotFoundHandler=Z}});function sn(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const kn="solana:mainnet",Ni="solana:devnet",Oi="solana:testnet",Bi="solana:localnet",Li="https://api.mainnet-beta.solana.com";function Pi(e){return e.includes(Li)?kn:/\bdevnet\b/i.test(e)?Ni:/\btestnet\b/i.test(e)?Oi:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?Bi:kn}var ji,Di,Ui,qi,zi,ki;ji=new WeakMap,Di=new WeakMap,Ui=new WeakMap,qi=new WeakMap,zi=new WeakMap,ki=new WeakMap;function Fi(e,t){if(e===t)return!0;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}Gt();var se=function(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)},je=function(e,t,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(e,i):r?r.value=i:t.set(e,i),i},He,Je,_t,vt,pt,Bt,Ht,be,Vt,mn,xt,gn,Pt,wn,Fn,xn,$n,Kn,xi=class extends Oo{get name(){return se(this,be,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return se(this,be,"f").icon}get readyState(){return se(this,Vt,"f")}get publicKey(){return se(this,_t,"f")}get connecting(){return se(this,vt,"f")}get supportedTransactionVersions(){return se(this,Ht,"f")}get wallet(){return se(this,be,"f")}get standard(){return!0}constructor({wallet:e}){super(),He.add(this),Je.set(this,void 0),_t.set(this,void 0),vt.set(this,void 0),pt.set(this,void 0),Bt.set(this,void 0),Ht.set(this,void 0),be.set(this,void 0),Vt.set(this,typeof window>"u"||typeof document>"u"?tt.Unsupported:tt.Installed),wn.set(this,t=>{if("accounts"in t){const i=se(this,be,"f").accounts[0];se(this,Je,"f")&&!se(this,pt,"f")&&i!==se(this,Je,"f")&&(i?se(this,He,"m",xt).call(this,i):(this.emit("error",new Co),se(this,He,"m",gn).call(this)))}"features"in t&&se(this,He,"m",Pt).call(this)}),je(this,be,e,"f"),je(this,Je,null,"f"),je(this,_t,null,"f"),je(this,vt,!1,"f"),je(this,pt,!1,"f"),je(this,Bt,se(this,be,"f").features[nr].on("change",se(this,wn,"f")),"f"),se(this,He,"m",Pt).call(this)}destroy(){je(this,Je,null,"f"),je(this,_t,null,"f"),je(this,vt,!1,"f"),je(this,pt,!1,"f");const e=se(this,Bt,"f");e&&(je(this,Bt,null,"f"),e())}async autoConnect(){return se(this,He,"m",mn).call(this,{silent:!0})}async connect(){return se(this,He,"m",mn).call(this)}async disconnect(){if(Un in se(this,be,"f").features)try{je(this,pt,!0,"f"),await se(this,be,"f").features[Un].disconnect()}catch(e){this.emit("error",new Ro(e==null?void 0:e.message,e))}finally{je(this,pt,!1,"f")}se(this,He,"m",gn).call(this)}async sendTransaction(e,t,i={}){try{const n=se(this,Je,"f");if(!n)throw new ht;let r;if(mt in se(this,be,"f").features)if(n.features.includes(mt))r=mt;else if(Ke in se(this,be,"f").features&&n.features.includes(Ke))r=Ke;else throw new At;else if(Ke in se(this,be,"f").features){if(!n.features.includes(Ke))throw new At;r=Ke}else throw new Nt;const o=Pi(t.rpcEndpoint);if(!n.chains.includes(o))throw new Pn;try{const{signers:a,...l}=i;let f;if(Ot(e)?(a!=null&&a.length&&e.sign(a),f=e.serialize()):(e=await this.prepareTransaction(e,t,l),a!=null&&a.length&&e.partialSign(...a),f=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),r===mt){const[w]=await se(this,be,"f").features[mt].signAndSendTransaction({account:n,chain:o,transaction:f,options:{preflightCommitment:sn(l.preflightCommitment||t.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Eo.encode(w.signature)}else{const[w]=await se(this,be,"f").features[Ke].signTransaction({account:n,chain:o,transaction:f,options:{preflightCommitment:sn(l.preflightCommitment||t.commitment),minContextSlot:l.minContextSlot}});return await t.sendRawTransaction(w.signedTransaction,{...l,preflightCommitment:sn(l.preflightCommitment||t.commitment)})}}catch(a){throw a instanceof Qe?a:new Pn(a==null?void 0:a.message,a)}}catch(n){throw this.emit("error",n),n}}};Je=new WeakMap,_t=new WeakMap,vt=new WeakMap,pt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,be=new WeakMap,Vt=new WeakMap,wn=new WeakMap,He=new WeakSet,mn=async function(t){try{if(this.connected||this.connecting)return;if(se(this,Vt,"f")!==tt.Installed)throw new hn;if(je(this,vt,!0,"f"),!se(this,be,"f").accounts.length)try{await se(this,be,"f").features[tr].connect(t)}catch(n){throw new Wo(n==null?void 0:n.message,n)}const i=se(this,be,"f").accounts[0];if(!i)throw new At;se(this,He,"m",xt).call(this,i)}catch(i){throw this.emit("error",i),i}finally{je(this,vt,!1,"f")}},xt=function(t){let i;try{i=new Fr(t.address)}catch(n){throw new Io(n==null?void 0:n.message,n)}je(this,Je,t,"f"),je(this,_t,i,"f"),se(this,He,"m",Pt).call(this),this.emit("connect",i)},gn=function(){je(this,Je,null,"f"),je(this,_t,null,"f"),se(this,He,"m",Pt).call(this),this.emit("disconnect")},Pt=function(){var t,i;const n=mt in se(this,be,"f").features?se(this,be,"f").features[mt].supportedTransactionVersions:se(this,be,"f").features[Ke].supportedTransactionVersions;je(this,Ht,Fi(n,["legacy"])?null:new Set(n),"f"),Ke in se(this,be,"f").features&&(!((t=se(this,Je,"f"))===null||t===void 0)&&t.features.includes(Ke))?(this.signTransaction=se(this,He,"m",Fn),this.signAllTransactions=se(this,He,"m",xn)):(delete this.signTransaction,delete this.signAllTransactions),It in se(this,be,"f").features&&(!((i=se(this,Je,"f"))===null||i===void 0)&&i.features.includes(It))?this.signMessage=se(this,He,"m",$n):delete this.signMessage,rn in se(this,be,"f").features?this.signIn=se(this,He,"m",Kn):delete this.signIn},Fn=async function(t){try{const i=se(this,Je,"f");if(!i)throw new ht;if(!(Ke in se(this,be,"f").features))throw new Nt;if(!i.features.includes(Ke))throw new At;try{const r=(await se(this,be,"f").features[Ke].signTransaction({account:i,transaction:Ot(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ot(t)?fn.deserialize(r):un.from(r)}catch(n){throw n instanceof Qe?n:new jn(n==null?void 0:n.message,n)}}catch(i){throw this.emit("error",i),i}},xn=async function(t){try{const i=se(this,Je,"f");if(!i)throw new ht;if(!(Ke in se(this,be,"f").features))throw new Nt;if(!i.features.includes(Ke))throw new At;try{const n=await se(this,be,"f").features[Ke].signTransaction(...t.map(r=>({account:i,transaction:Ot(r)?r.serialize():new Uint8Array(r.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((r,o)=>{const a=n[o].signedTransaction;return Ot(r)?fn.deserialize(a):un.from(a)})}catch(n){throw new jn(n==null?void 0:n.message,n)}}catch(i){throw this.emit("error",i),i}},$n=async function(t){try{const i=se(this,Je,"f");if(!i)throw new ht;if(!(It in se(this,be,"f").features))throw new Nt;if(!i.features.includes(It))throw new At;try{return(await se(this,be,"f").features[It].signMessage({account:i,message:t}))[0].signature}catch(n){throw new No(n==null?void 0:n.message,n)}}catch(i){throw this.emit("error",i),i}},Kn=async function(t={}){try{if(!(rn in se(this,be,"f").features))throw new Nt;let i;try{[i]=await se(this,be,"f").features[rn].signIn(t)}catch(n){throw new Dn(n==null?void 0:n.message,n)}if(!i)throw new Dn;return se(this,He,"m",xt).call(this,i.account),i}catch(i){throw this.emit("error",i),i}};const $i=Bo;var Ki=function(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)},Hi=function(e,t,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(e,i):r?r.value=i:t.set(e,i),i},$t;let et;const Zt=new Set;function Vi(e){jt=void 0,Zt.add(e)}function Gi(e){jt=void 0,Zt.delete(e)}const Tt={};function Zi(){if(et||(et=Object.freeze({register:Hn,get:Yi,on:Qi}),typeof window>"u"))return et;const e=Object.freeze({register:Hn});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new Ji(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return et}function Hn(...e){var t;return e=e.filter(i=>!Zt.has(i)),e.length?(e.forEach(i=>Vi(i)),(t=Tt.register)===null||t===void 0||t.forEach(i=>pn(()=>i(...e))),function(){var n;e.forEach(r=>Gi(r)),(n=Tt.unregister)===null||n===void 0||n.forEach(r=>pn(()=>r(...e)))}):()=>{}}let jt;function Yi(){return jt||(jt=[...Zt]),jt}function Qi(e,t){var i;return!((i=Tt[e])===null||i===void 0)&&i.push(t)||(Tt[e]=[t]),function(){var r;Tt[e]=(r=Tt[e])===null||r===void 0?void 0:r.filter(o=>t!==o)}}function pn(e){try{e()}catch(t){console.error(t)}}var Ji=class extends Event{get detail(){return Ki(this,$t,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),$t.set(this,void 0),Hi(this,$t,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};$t=new WeakMap;function Xi(){if(et||(et=Zi(),typeof window>"u"))return et;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),et;const{register:t}=et,i=(...n)=>n.forEach(r=>pn(()=>r({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:i})})}catch{return console.error("window.navigator.wallets could not be set"),et}return i(...e),et}function ea(e){const t=Vn(()=>new Set),{get:i,on:n}=Vn(()=>Xi()),[r,o]=(0,de.useState)(()=>Gn(i()));(0,de.useEffect)(()=>{const l=[n("register",(...f)=>o(w=>[...w,...Gn(f)])),n("unregister",(...f)=>o(w=>w.filter(O=>f.some(p=>p===O.wallet))))];return()=>l.forEach(f=>f())},[n]);const a=ta(r);return(0,de.useEffect)(()=>{if(!a)return;const l=new Set(r);new Set(a.filter(w=>!l.has(w))).forEach(w=>w.destroy())},[a,r]),(0,de.useEffect)(()=>()=>r.forEach(l=>l.destroy()),[]),(0,de.useMemo)(()=>[...r,...e.filter(({name:l})=>r.some(f=>f.name===l)?(t.has(l)||(t.add(l),console.warn(`${l} was registered as a Standard Wallet. The Wallet Adapter for ${l} can be removed from your app.`)),!1):!0)],[r,e,t])}function Vn(e){const t=(0,de.useRef)(void 0);return t.current===void 0&&(t.current={value:e()}),t.current.value}function ta(e){const t=(0,de.useRef)(void 0);return(0,de.useEffect)(()=>{t.current=e}),t.current}function Gn(e){return e.filter($i).map(t=>new xi({wallet:t}))}var na=bt(_r()),Wt;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(Wt||(Wt={}));function ra(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function oa({adapters:e,userAgentString:t}){return e.some(i=>i.name!==na.SolanaMobileWalletAdapterWalletName&&i.readyState===tt.Installed)?Wt.DESKTOP_WEB:t&&/android/i.test(t)&&!ra(t)?Wt.MOBILE_WEB:Wt.DESKTOP_WEB}function ia(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function aa({children:e,wallets:t,adapter:i,isUnloadingRef:n,onAutoConnectRequest:r,onConnectError:o,onError:a,onSelectWallet:l}){const f=(0,de.useRef)(!1),[w,O]=(0,de.useState)(!1),p=(0,de.useRef)(!1),[s,g]=(0,de.useState)(!1),[M,d]=(0,de.useState)(()=>(i==null?void 0:i.publicKey)??null),[A,W]=(0,de.useState)(()=>(i==null?void 0:i.connected)??!1),N=(0,de.useRef)(a);(0,de.useEffect)(()=>(N.current=a,()=>{N.current=void 0}),[a]);const C=(0,de.useRef)((y,K)=>(n.current||(N.current?N.current(y,K):(console.error(y,K),y instanceof hn&&typeof window<"u"&&K&&window.open(K.url,"_blank"))),y)),[u,Y]=(0,de.useState)(()=>t.map(y=>({adapter:y,readyState:y.readyState})).filter(({readyState:y})=>y!==tt.Unsupported));(0,de.useEffect)(()=>{Y(K=>t.map((c,I)=>{const z=K[I];return z&&z.adapter===c&&z.readyState===c.readyState?z:{adapter:c,readyState:c.readyState}}).filter(({readyState:c})=>c!==tt.Unsupported));function y(K){Y(c=>{const I=c.findIndex(({adapter:U})=>U===this);if(I===-1)return c;const{adapter:z}=c[I];return[...c.slice(0,I),{adapter:z,readyState:K},...c.slice(I+1)].filter(({readyState:U})=>U!==tt.Unsupported)})}return t.forEach(K=>K.on("readyStateChange",y,K)),()=>{t.forEach(K=>K.off("readyStateChange",y,K))}},[i,t]);const L=(0,de.useMemo)(()=>u.find(y=>y.adapter===i)??null,[i,u]);(0,de.useEffect)(()=>{if(!i)return;const y=I=>{d(I),f.current=!1,O(!1),W(!0),p.current=!1,g(!1)},K=()=>{n.current||(d(null),f.current=!1,O(!1),W(!1),p.current=!1,g(!1))},c=I=>{C.current(I,i)};return i.on("connect",y),i.on("disconnect",K),i.on("error",c),()=>{i.off("connect",y),i.off("disconnect",K),i.off("error",c),K()}},[i,n]);const v=(0,de.useRef)(!1);(0,de.useEffect)(()=>()=>{v.current=!1},[i]),(0,de.useEffect)(()=>{v.current||f.current||A||!r||!((L==null?void 0:L.readyState)===tt.Installed||(L==null?void 0:L.readyState)===tt.Loadable)||(f.current=!0,O(!0),v.current=!0,(async function(){try{await r()}catch{o()}finally{O(!1),f.current=!1}})())},[A,r,o,L]);const m=(0,de.useCallback)(async(y,K,c)=>{if(!i)throw C.current(new qn);if(!A)throw C.current(new ht,i);return await i.sendTransaction(y,K,c)},[i,A]),_=(0,de.useMemo)(()=>i&&"signTransaction"in i?async y=>{if(!A)throw C.current(new ht,i);return await i.signTransaction(y)}:void 0,[i,A]),h=(0,de.useMemo)(()=>i&&"signAllTransactions"in i?async y=>{if(!A)throw C.current(new ht,i);return await i.signAllTransactions(y)}:void 0,[i,A]),j=(0,de.useMemo)(()=>i&&"signMessage"in i?async y=>{if(!A)throw C.current(new ht,i);return await i.signMessage(y)}:void 0,[i,A]),P=(0,de.useMemo)(()=>i&&"signIn"in i?async y=>await i.signIn(y):void 0,[i]),q=(0,de.useCallback)(async()=>{if(f.current||p.current||L!=null&&L.adapter.connected)return;if(!L)throw C.current(new qn);const{adapter:y,readyState:K}=L;if(!(K===tt.Installed||K===tt.Loadable))throw C.current(new hn,y);f.current=!0,O(!0);try{await y.connect()}catch(c){throw o(),c}finally{O(!1),f.current=!1}},[o,L]),$=(0,de.useCallback)(async()=>{if(!p.current&&i){p.current=!0,g(!0);try{await i.disconnect()}finally{g(!1),p.current=!1}}},[i]);return de.createElement(vo.Provider,{value:{autoConnect:!!r,wallets:u,wallet:L,publicKey:M,connected:A,connecting:w,disconnecting:s,select:l,connect:q,disconnect:$,sendTransaction:m,signTransaction:_,signAllTransactions:h,signMessage:j,signIn:P}},e)}var wt=bt(_r());let ln;function sa(){var e;return ln===void 0&&(ln=((e=globalThis.navigator)===null||e===void 0?void 0:e.userAgent)??null),ln}function Zn(e){const t=sa();return oa({adapters:e,userAgentString:t})===Wt.MOBILE_WEB}function la(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function ca({children:e,wallets:t,autoConnect:i,localStorageKey:n="walletName",onError:r}){const{connection:o}=Mo(),a=ea(t),l=(0,de.useMemo)(()=>{if(!Zn(a))return null;const N=a.find(C=>C.name===wt.SolanaMobileWalletAdapterWalletName);return N||new wt.SolanaMobileWalletAdapter({addressSelector:(0,wt.createDefaultAddressSelector)(),appIdentity:{uri:la()},authorizationResultCache:(0,wt.createDefaultAuthorizationResultCache)(),cluster:ia(o==null?void 0:o.rpcEndpoint),onWalletNotFound:(0,wt.createDefaultWalletNotFoundHandler)()})},[a,o==null?void 0:o.rpcEndpoint]),f=(0,de.useMemo)(()=>l==null||a.indexOf(l)!==-1?a:[l,...a],[a,l]),[w,O]=Lo(n,null),p=(0,de.useMemo)(()=>f.find(N=>N.name===w)??null,[f,w]),s=(0,de.useCallback)(N=>{w!==N&&(p&&p.name!==wt.SolanaMobileWalletAdapterWalletName&&p.disconnect(),O(N))},[p,O,w]);(0,de.useEffect)(()=>{if(!p)return;function N(){d.current||O(null)}return p.on("disconnect",N),()=>{p.off("disconnect",N)}},[p,a,O,w]);const g=(0,de.useRef)(!1),M=(0,de.useMemo)(()=>{if(!(!i||!p))return async()=>{(i===!0||await i(p))&&(g.current?await p.connect():await p.autoConnect())}},[i,p]),d=(0,de.useRef)(!1);(0,de.useEffect)(()=>{if(w===wt.SolanaMobileWalletAdapterWalletName&&Zn(a)){d.current=!1;return}function N(){d.current=!0}return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N)}},[a,w]);const A=(0,de.useCallback)(()=>{p&&s(null)},[p,s]),W=(0,de.useCallback)(N=>{g.current=!0,s(N)},[s]);return de.createElement(aa,{wallets:f,adapter:p,isUnloadingRef:d,onAutoConnectRequest:M,onConnectError:A,onError:r,onSelectWallet:W},e)}var Yn=bt(Xr());function da(){const e=Kr(),t=_n(),i=kr(),n=ua(),r=Kt(),o=dn(async()=>e.ensureQueryData({...fa({address:r.address}),revalidateIfStale:!0}));return to({mutationFn:n?()=>Promise.resolve(null):o,onSuccess:a=>{t(a?Jr(a):Rn())},onError:a=>{i.error(a,{tags:{file:"useWalletCapabilities.ts",function:"useWalletGetCapabilitiesMutation"}}),t(Rn())},retry:3})}function ua(){return Xn(Jn.ForceDisableWalletGetCapabilities)}const fa=e=>no({queryKey:[Dr.WalletGetCapabilities,e.address],queryFn:()=>Zr(),staleTime:(0,Yn.default)("1m"),gcTime:(0,Yn.default)("5m"),enabled:!!e.address});function ha(){const e=_n(),{mutate:t,isPending:i}=da(),n=er(Qr),r=Kt(),o=dn(()=>{i||t()}),a=dn(()=>{e(Yr())});ho({onConnect:o,onDisconnect:a}),(0,de.useEffect)(()=>{n&&r.address&&!i&&t()},[n,r.address,t,i])}var Mt=bt(qr());function ma(e){const{wagmiConfig:t,reconnectOnMount:i=!0,includeCapabilitiesEffects:n=!0}=e,r=()=>(ha(),null),o=({children:a})=>(0,Mt.jsx)(ga,{children:(0,Mt.jsx)(co,{config:t,reconnectOnMount:i,children:(0,Mt.jsxs)(fo,{children:[n&&(0,Mt.jsx)(r,{}),a]})})});return o.displayName="Web3Provider",o}function ga({children:e}){const t=(0,de.useMemo)(()=>[],[]);return(0,Mt.jsxs)(ca,{wallets:t,autoConnect:!0,children:[(0,Mt.jsx)(Gr,{}),e]})}function wa(){const e=_n(),t=er(n=>n.wallets.connectedWallets),i=(0,de.useCallback)(n=>{e(_o(n))},[e]);return[t,i]}Vr();const pa=ma({wagmiConfig:lo});var as=pa;function ss(){const e=Kt(),t=so(),i=ro(e.chainId),{connector:n}=Kt(),{pathname:r}=Ur(),o=Ao(r),a=oo(),l=i&&e.chainId?eo[e.chainId]:void 0,{trackConversions:f}=So(e.address),w=go(mo);(0,de.useEffect)(()=>{n&&w(n.id)},[n,w]);const O=Xn(Jn.TraceJsonRpc);(0,de.useEffect)(()=>(O&&(t==null||t.on("debug",kt),t!==l&&(l==null||l.on("debug",kt))),()=>{t==null||t.off("debug",kt),l==null||l.off("debug",kt)}),[a,l,t,O]);const p=uo().chainId,s=On(e.isConnected?p:void 0);(0,de.useEffect)(()=>{s&&s!==p&&(e.address&&p&&(it(ot.ChainId,p),it(ot.AllWalletChainIds,p,!0)),nn(tn.ChainChanged,{result:Ln.Succeeded,wallet_address:e.address,wallet_type:In(n==null?void 0:n.type),chain_id:p,previousConnectedChainId:s,page:o}))},[e.address,p,n==null?void 0:n.type,o,s]);const g=On(e.address),[M,d]=wa();return(0,de.useEffect)(()=>{if(e.address&&e.address!==g){var A;const W=(n==null?void 0:n.name)??"Network",N=In(n==null?void 0:n.type),C=t?(A=Nn(t))===null||A===void 0?void 0:A.agent:void 0,u=M.some(L=>L.account===e.address&&L.walletName===W);t==null||t.send("web3_clientVersion",[]).then(L=>{it(ot.WalletVersion,L)}).catch(L=>{Ft.warn("Web3Provider","Updater","Failed to get client version",L)}),p&&(it(ot.ChainId,p),it(ot.AllWalletChainIds,p,!0)),it(ot.WalletAddress,e.address),it(ot.AllWalletAddressesConnected,e.address,!0),it(ot.WalletType,N);const Y={result:Ln.Succeeded,wallet_address:e.address,wallet_name:W,wallet_type:N,is_reconnect:u,peer_wallet_agent:C,page:o};if((n==null?void 0:n.name)===wo.WALLET_CONNECT)try{n.getProvider().then(L=>{const v=L,m=Nn(new Hr(v)),_=(m==null?void 0:m.name)??W,h=(m==null?void 0:m.agent)??C;it(ot.WalletName,_),it(ot.PeerWalletAgent,h??""),nn(tn.WalletConnected,{...Y,wallet_name:_,peer_wallet_agent:h})}).catch(L=>{Ft.warn("Web3Provider","Updater","Failed to get wallet connect metadata",L)})}catch(L){Ft.warn("Web3Provider","Updater","Failed to call getProvider on WC connector",L)}else it(ot.WalletName,W),it(ot.PeerWalletAgent,C??""),nn(tn.WalletConnected,Y);W===zr.UNISWAP_EXTENSION&&f(Bn.Extension.Downloaded),f(Bn.Web.WalletConnected),d({account:e.address,walletName:W})}},[e.address,p,d,M,n,o,g,t,f]),null}function kt(e){if(!(e!=null&&e.request))return;const{method:t,id:i,params:n}=e.request;Ft.debug("Web3Provider","provider","trace",{method:t,id:i,params:n})}export{tt as WalletReadyState,ss as Web3ProviderUpdater,as as Web3Provider_default,da as useWalletGetCapabilitiesMutation};
