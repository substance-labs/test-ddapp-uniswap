import{__toESM as g}from"./chunk-DgAfPHQg.js";import{require_react as p}from"./react-CNoFhWkx.js";import{CurrencyAmount as c,init_jsbi as w,init_sdk_core_esm as h,jsbi_default as b}from"./utils-BX1Fu73x.js";import{TickMath as f,init_v3_sdk_esm as I,nearestUsableTick as v}from"./v3-sdk.esm-CHH6GWR1.js";import{FeatureFlags as C,useFeatureFlag as P}from"./hooks-Bp0VtWbX.js";import{useUSDCPrice as y}from"./useUSDCPrice-HO7Wgroz.js";import{ProtocolVersion as M}from"./types_pb-yZxlo4b1.js";import{NumberType as E}from"./types-JuyYLR0O.js";import{useLocalizationContext as _}from"./LocalizationContext-B31peW1_.js";import{Bound as l}from"./actions-Budqlwp-.js";import{LP_INCENTIVES_REWARD_TOKEN as R}from"./LPIncentiveFeeStatTooltip-CknsSvzz.js";I();var L=g(p());function N({tickSpacing:e,tickLower:a,tickUpper:o}){return(0,L.useMemo)(()=>({[l.LOWER]:e&&a?a===v(f.MIN_TICK,e):void 0,[l.UPPER]:e&&o?o===v(f.MAX_TICK,e):void 0}),[e,a,o])}function O({priceLower:e,priceUpper:a,quote:o,base:r,invert:n}){return{priceUpper:n?e==null?void 0:e.invert():a,priceLower:n?a==null?void 0:a.invert():e,quote:n?r:o,base:n?o:r}}function V({price:e,atLimit:a,direction:o}){const{formatNumberOrString:r}=_();return a[o]?o===l.LOWER?"0":"âˆž":e?r({value:e.toSignificant(),type:E.TokenTx}):"-"}function G({priceOrdering:e,pricesInverted:a,tickSpacing:o,tickLower:r,tickUpper:n}){const{priceLower:m,priceUpper:u,base:t,quote:d}=O({...e,invert:a}),s=N({tickSpacing:o,tickLower:r,tickUpper:n}),i=V({price:m,atLimit:s,direction:l.LOWER}),F=V({price:u,atLimit:s,direction:l.UPPER}),T=d==null?void 0:d.symbol,A=t==null?void 0:t.symbol;return{minPrice:i,maxPrice:F,tokenASymbol:T,tokenBSymbol:A,isFullRange:s[l.LOWER]&&s[l.UPPER]}}h();w();function X({liquidityPosition:e,fiatFeeValue0:a,fiatFeeValue1:o}){const{convertFiatAmountFormatted:r}=_(),n=P(C.LpIncentives),{price:m}=y(R);return(0,L.useMemo)(()=>{const u=F=>r(F.toExact(),E.FiatStandard),t={uniLpRewardsCurrencyAmount:void 0,uniLpRewardsFiatValue:void 0,totalFeesFiatValue:void 0,formattedFeesValue:void 0,formattedRewardsValue:void 0,hasRewards:!1,hasFees:!1,totalEarningsFiatValue:void 0,totalFormattedEarnings:void 0};a&&o?(t.totalFeesFiatValue=a.add(o),t.formattedFeesValue=u(t.totalFeesFiatValue),t.hasFees=t.totalFeesFiatValue.greaterThan(0)):a?(t.totalFeesFiatValue=a,t.formattedFeesValue=u(t.totalFeesFiatValue),t.hasFees=t.totalFeesFiatValue.greaterThan(0)):o&&(t.totalFeesFiatValue=o,t.formattedFeesValue=u(t.totalFeesFiatValue),t.hasFees=t.totalFeesFiatValue.greaterThan(0));const d=e.version===M.V4&&e.unclaimedRewardsAmountUni&&e.unclaimedRewardsAmountUni!=="0"&&n;if(t.totalEarningsFiatValue=t.totalFeesFiatValue,t.totalFormattedEarnings=t.formattedFeesValue,!d)return t;const s=c.fromRawAmount(R,e.unclaimedRewardsAmountUni);t.uniLpRewardsCurrencyAmount=s,t.hasRewards=s.greaterThan(0);const i=m?m.quote(s):void 0;return t.uniLpRewardsFiatValue=i,i&&(t.formattedRewardsValue=u(i),t.totalEarningsFiatValue=c.fromRawAmount(i.currency,t.totalFeesFiatValue?b.add(t.totalFeesFiatValue.quotient,i.quotient):i.quotient),t.totalFormattedEarnings=u(t.totalEarningsFiatValue)),t},[a,o,e,n,m,r])}export{G as useGetRangeDisplay,X as useLpIncentivesFormattedEarnings};
