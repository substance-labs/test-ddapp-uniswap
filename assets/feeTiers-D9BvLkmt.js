import{t as _}from"./i18next-DD3sT7R5.js";import{Percent as B,UniverseChainId as U,init_sdk_core_esm as K}from"./utils-BX1Fu73x.js";import{BIPS_BASE as V}from"./misc-BMnlqqV4.js";import{FeeAmount as e,TICK_SPACINGS as s,init_v3_sdk_esm as h}from"./v3-sdk.esm-CHH6GWR1.js";import{PositionStatus as A,ProtocolVersion as k}from"./types_pb-yZxlo4b1.js";import{DEFAULT_TICK_SPACING as j,DYNAMIC_FEE_AMOUNT as x}from"./pools-5GjP-hMy.js";h();const $={isDynamic:!0,feeAmount:x,tickSpacing:j};let oe=(function(o){return o[o.SELECT_TOKENS_AND_FEE_TIER=0]="SELECT_TOKENS_AND_FEE_TIER",o[o.PRICE_RANGE=1]="PRICE_RANGE",o[o.DEPOSIT=2]="DEPOSIT",o})({});const X={feeAmount:e.MEDIUM,tickSpacing:s[e.MEDIUM],isDynamic:!1},ne={fee:X,hook:void 0,userApprovedHook:void 0,protocolVersion:k.V4};h();const Y={[e.LOWEST]:{feeData:{feeAmount:e.LOWEST,tickSpacing:s[e.LOWEST],isDynamic:!1}},[e.LOW_200]:{feeData:{feeAmount:e.LOW_200,tickSpacing:s[e.LOW_200],isDynamic:!1},supportedChainIds:[U.Base]},[e.LOW_300]:{feeData:{feeAmount:e.LOW_300,tickSpacing:s[e.LOW_300],isDynamic:!1},supportedChainIds:[U.Base]},[e.LOW_400]:{feeData:{feeAmount:e.LOW_400,tickSpacing:s[e.LOW_400],isDynamic:!1},supportedChainIds:[U.Base]},[e.LOW]:{feeData:{feeAmount:e.LOW,tickSpacing:s[e.LOW],isDynamic:!1}},[e.MEDIUM]:{feeData:{feeAmount:e.MEDIUM,tickSpacing:s[e.MEDIUM],isDynamic:!1}},[e.HIGH]:{feeData:{feeAmount:e.HIGH,tickSpacing:s[e.HIGH],isDynamic:!1}}},ie={[A.IN_RANGE]:{color:"$statusSuccess",i18nKey:"common.withinRange"},[A.OUT_OF_RANGE]:{color:"$statusCritical",i18nKey:"common.outOfRange"},[A.CLOSED]:{color:"$neutral2",i18nKey:"common.closed"},[A.UNSPECIFIED]:void 0};K();h();const q=4,G=99.9999;function re(o){return parseFloat(o)>G?G.toString():o}function ue(o){return Math.max(Math.round(2*o/100),1)}function z(o,t){return o+(t?"-dynamic":"")}function l(o,t){switch(o){case e.LOWEST:return _("fee.bestForVeryStable");case e.LOW:return _("fee.bestForStablePairs");case e.MEDIUM:return _("fee.bestForMost");case e.HIGH:return _("fee.bestForExotic");default:return t?_("fee.bestForCustomizability"):""}}function le({feeTiers:o,defaultFeeData:t,formatPercent:r,formattedDynamicFeeTier:n}){const u={},d=Object.values(o).some(i=>f(i.fee));for(const i of t){if(d&&f(i))continue;const v=z(i.feeAmount,f(i));u[v]={fee:i,formattedFee:f(i)?n:r(i.feeAmount/V,q),totalLiquidityUsd:0,percentage:new B(0,100),created:!1,tvl:"0"}}return{...u,...o}}function P(o,t){return Object.values(Y).filter(n=>t===k.V3?!n.supportedChainIds||o&&n.supportedChainIds.includes(o):!n.supportedChainIds).map(n=>n.feeData).reduce((n,u)=>(n[u.feeAmount]=u,n),{})}function se({chainId:o,dynamicFeeTierEnabled:t,protocolVersion:r}){const n=P(o,r);return t?{...n,[$.feeAmount]:$}:n}function ae({chainId:o,feeTierData:t,protocolVersion:r}){var n,u,d,i,v,E,O,p,F,L,D,I,W,T,S,M,g,b,C,y,H;const a=P(o,r),R=[{tier:e.LOWEST,value:a[e.LOWEST],title:l(e.LOWEST),selectionPercent:(n=t[e.LOWEST])===null||n===void 0?void 0:n.percentage,tvl:(u=t[e.LOWEST])===null||u===void 0?void 0:u.tvl,boostedApr:(d=t[e.LOWEST])===null||d===void 0?void 0:d.boostedApr},{tier:e.LOW_200,value:a[e.LOW_200],title:l(e.LOW_200),selectionPercent:(i=t[e.LOW_200])===null||i===void 0?void 0:i.percentage,tvl:(v=t[e.LOW_200])===null||v===void 0?void 0:v.tvl,boostedApr:(E=t[e.LOW_200])===null||E===void 0?void 0:E.boostedApr},{tier:e.LOW_300,value:a[e.LOW_300],title:l(e.LOW_300),selectionPercent:(O=t[e.LOW_300])===null||O===void 0?void 0:O.percentage,tvl:(p=t[e.LOW_300])===null||p===void 0?void 0:p.tvl,boostedApr:(F=t[e.LOW_300])===null||F===void 0?void 0:F.boostedApr},{tier:e.LOW_400,value:a[e.LOW_400],title:l(e.LOW_400),selectionPercent:(L=t[e.LOW_400])===null||L===void 0?void 0:L.percentage,tvl:(D=t[e.LOW_400])===null||D===void 0?void 0:D.tvl,boostedApr:(I=t[e.LOW_400])===null||I===void 0?void 0:I.boostedApr},{tier:e.LOW,value:a[e.LOW],title:l(e.LOW),selectionPercent:(W=t[e.LOW])===null||W===void 0?void 0:W.percentage,tvl:(T=t[e.LOW])===null||T===void 0?void 0:T.tvl,boostedApr:(S=t[e.LOW])===null||S===void 0?void 0:S.boostedApr},{tier:e.MEDIUM,value:a[e.MEDIUM],title:l(e.MEDIUM),selectionPercent:(M=t[e.MEDIUM])===null||M===void 0?void 0:M.percentage,tvl:(g=t[e.MEDIUM])===null||g===void 0?void 0:g.tvl,boostedApr:(b=t[e.MEDIUM])===null||b===void 0?void 0:b.boostedApr},{tier:e.HIGH,value:a[e.HIGH],title:l(e.HIGH),selectionPercent:(C=t[e.HIGH])===null||C===void 0?void 0:C.percentage,tvl:(y=t[e.HIGH])===null||y===void 0?void 0:y.tvl,boostedApr:(H=t[e.HIGH])===null||H===void 0?void 0:H.boostedApr}];return r===k.V4?Object.entries(t).map(([m,c])=>({tier:parseInt(m),value:c.fee,title:l(c.fee.feeAmount,c.fee.isDynamic),selectionPercent:c.percentage,tvl:c.tvl,boostedApr:c.boostedApr})).sort(N).slice(0,8):R.filter(m=>m.value!==void 0&&Object.keys(t).includes(m.tier.toString())).sort(N)}function f(o){return o.isDynamic||o.feeAmount===$.feeAmount}const N=(o,t)=>{const r=parseFloat(o.tvl||"0");return parseFloat(t.tvl||"0")-r};export{X as DEFAULT_FEE_DATA,ne as DEFAULT_POSITION_STATE,$ as DYNAMIC_FEE_DATA,q as MAX_FEE_TIER_DECIMALS,oe as PositionFlowStep,ue as calculateTickSpacingFromFeeAmount,se as getDefaultFeeTiersForChainWithDynamicFeeTier,ae as getDefaultFeeTiersWithData,z as getFeeTierKey,l as getFeeTierTitle,f as isDynamicFeeTier,ie as lpStatusConfig,le as mergeFeeTiers,re as validateFeeTier};
