import{__toESM as A}from"./chunk-DgAfPHQg.js";import{require_react as P}from"./react-CNoFhWkx.js";import{useEnabledChains as C}from"./useEnabledChains-DuB86c95.js";import{usePrevious as y}from"./hooks-BXO4d1DJ.js";import{UniverseChainId as b,toSupportedChainId as _}from"./utils-BX1Fu73x.js";import{BigNumber as L,init_lib$5 as M}from"./lib-DPFIyRke.js";import{isInterfaceTransaction as O,selectTransactions as p}from"./selectors-BwkayGDl.js";import{TransactionOriginType as q,TransactionStatus as j,TransactionType as u}from"./transactionDetails-BsNW_jus.js";import{useWallet as S}from"./useWallet-CL5owP9P.js";import{useAccount as f,useChainId as D}from"./useAccount-C5hwiBwN.js";import{addTransaction as E,deleteTransaction as R,getRoutingForTransaction as w,interfaceCancelTransactionWithHash as $,isConfirmedTx as T,isPendingTx as m}from"./slice-qANrfSbi.js";import{useAppDispatch as v,useAppSelector as g}from"./hooks-Muz170pO.js";M();var r=A(P());function Z(){const n=f(),s=v();return(0,r.useCallback)((t,a,e)=>{if(n.status!=="connected"||!n.chainId||!n.address)return;const{hash:i,nonce:o}=t;if(!i)throw Error("No transaction hash found.");const c=_(t.chainId)||n.chainId,d={id:i,hash:i,from:n.address,typeInfo:a,chainId:c,routing:w(a),transactionOriginType:q.Internal,status:j.Pending,addedTime:Date.now(),nonce:o,deadline:e,options:{request:{to:t.to,from:t.from,data:t.data,value:t.value,gasLimit:t.gasLimit,gasPrice:t.gasPrice,nonce:t.nonce,chainId:t.chainId}}};s(E(d))},[n.address,n.chainId,n.status,s])}function H(){const n=f(),s=v();return(0,r.useCallback)(t=>{n.status!=="connected"||!n.chainId||!n.address||s(R({chainId:n.chainId,id:t,address:n.address}))},[n.chainId,n.address,n.status,s])}function k(){const n=f(),s=v();return(0,r.useCallback)((t,a,e)=>{n.address&&s($({chainId:a,id:t,cancelHash:e,address:n.address}))},[s,n.address])}function nn(n){const s=f(),t=g(p),a=n??s.address,e=s.status,{chains:i}=C();return(0,r.useMemo)(()=>{if(e!=="connected"||!a)return[];const o=t[a];return o?i.flatMap(c=>{const d=o[c];return d?Object.values(d).filter(O).map(I=>[I,c]):[]}):[]},[t,a,e,i])}function l(){const{evmAccount:n,svmAccount:s}=S(),t=D(),a=g(p),e=n==null?void 0:n.address,i=s==null?void 0:s.address;return(0,r.useMemo)(()=>{var o,c;const d={};return e&&Object.assign(d,((o=a[e])===null||o===void 0?void 0:o[t])??{}),i&&Object.assign(d,((c=a[i])===null||c===void 0?void 0:c[b.Solana])??{}),d},[t,e,i,a])}function tn(n){const s=l();if(n)return s[n]}function sn(n){const s=l();return!n||!s[n]?!1:m(s[n])}function en(n){const s=l();return!n||!s[n]?!1:T(s[n])}function x(n){return new Date().getTime()-n.addedTime<864e5}function h(n,s){const t=l();return(0,r.useMemo)(()=>{if(!(typeof(n==null?void 0:n.address)!="string"||typeof s!="string"))for(const a in t){const e=t[a];if(!(!e||T(e)||e.typeInfo.type!==u.Approve)&&e.typeInfo.spender===s&&e.typeInfo.tokenAddress===n.address&&x(e)&&e.typeInfo.approvalAmount!==void 0)return L.from(e.typeInfo.approvalAmount)}},[t,s,n==null?void 0:n.address])}function an(n,s){var t;return((t=h(n,s))===null||t===void 0?void 0:t.gt(0))??!1}function rn(n,s){var t;return((t=h(n,s))===null||t===void 0?void 0:t.eq(0))??!1}function on(){const n=l(),s=f();return(0,r.useMemo)(()=>Object.values(n).filter(t=>t.from===s.address&&m(t)),[s.address,n])}function B(){const n=l(),s=f();return(0,r.useMemo)(()=>Object.values(n).filter(t=>t.from===s.address&&m(t)&&[u.LiquidityIncrease,u.LiquidityDecrease,u.CreatePool,u.CreatePair,u.MigrateLiquidityV3ToV4,u.CollectFees].includes(t.typeInfo.type)),[s.address,n])}function cn(n){const s=B(),t=y(s.length);(0,r.useEffect)(()=>{s.length!==t&&n()},[s,n,t])}export{an as useHasPendingApproval,rn as useHasPendingRevocation,en as useIsTransactionConfirmed,sn as useIsTransactionPending,nn as useMultichainTransactions,cn as usePendingLPTransactionsChangeListener,on as usePendingTransactions,tn as useTransaction,Z as useTransactionAdder,k as useTransactionCanceller,H as useTransactionRemover};
