import{__toESM as _e}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as Ve}from"./react-CNoFhWkx.js";import{Button as Ie,IconButton as Pe,Popover as te,ScrollView as Ee,Trans as A,X as Le,useShadowPropsMedium as Fe,useSporeColors as De,zIndexes as ie}from"./src-DOOtfpHS.js";import{useTranslation as N}from"./useTranslation-BotBuoJf.js";import"./index.web-BqgtOHN3.js";import"./constants-CrXoXfFH.js";import{useDispatch as Ne}from"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import{useLocation as Me,useNavigate as be,useSearchParams as Ae}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as Re}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as pe}from"./useEnabledChains-DuB86c95.js";import"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import{SharedEventName as ze}from"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import{ApolloError as We,PoolTransactionType as Q,UniverseChainId as q,getChainInfo as X,isBackendSupportedChain as Be,isBackendSupportedChainId as O,isTestnetChain as oe,toGraphQLChain as ae,useV2TransactionsQuery as Oe,useV3TransactionsQuery as He,useV4TransactionsQuery as Qe}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import"./currencyId-Ci6selsx.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import{InterfaceEventName as Ue}from"./interface-BdpC4qOF.js";import{ElementName as U}from"./element-Wnp4RkdY.js";import{ModalName as K}from"./modal-Dvm06CN4.js";import{InterfacePageName as Te}from"./page-zDkoCQe4.js";import"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import{ExplorerDataType as ue,getExplorerLink as he}from"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import{shortenAddress as Ke}from"./addresses-D56PBUHX.js";import"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./objects-DlLkJwrJ.js";import"./ProtocolItems-DhZWSiXS.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./use-query-8AOGtvlP.js";import"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import"./types_pb-yZxlo4b1.js";import{NumberType as W}from"./types-JuyYLR0O.js";import{useAppFiatCurrency as qe,useLocalizationContext as G}from"./LocalizationContext-B31peW1_.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import{useIsSupportedChainId as Xe,useIsSupportedChainIdCallback as Ge}from"./useSupportedChainId-DskHoisQ.js";import"./TraceContext-Ddfk7zjz.js";import{useAccount as Ye}from"./useAccount-C5hwiBwN.js";import{useAtomValue as je,useResetAtom as Ze,useUpdateAtom as Je}from"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./noop-BDbB2pLB.js";import{i18n_default as re}from"./i18n-CroUvoJw.js";import"./v4-D6Rlvprs.js";import{Flex as L,Text as w,concatClassName as et,isTouchable as tt,styled as ce,useMedia as Y}from"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./Anchor-B1nkrQbP.js";import{Input as ot}from"./Input-ClKbNpxm.js";import"./Checkbox-Id3GDHn8.js";import"./breakpoints-B-pYqY7D.js";import"./urls-aCnKF23w.js";import{ElementAfterText as rt,NewTag as nt,useNewChainIds as it}from"./useNewChainIds-CIAogFpa.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import"./AlertTriangleFilled-C9tf2eUJ.js";import{exploreSearchStringAtom as se}from"./state-DRfrbe8S.js";import{Plus as at}from"./Plus-_LmEFxOC.js";import"./SplitLogo-Ct--07LT.js";import"./tokens-Dxd89cHj.js";import"./timing-DsWr56iv.js";import"./experiments-rc6XUB0U.js";import"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import{setOpenModal as fe}from"./reducer-1kwGyyVS.js";import{useAppSelector as st}from"./hooks-Muz170pO.js";import{getChainUrlParam as le,useChainIdFromUrlParam as Z}from"./chainParams-DIOvplzi.js";import{getTokenExploreURL as ve}from"./util-BZ6kLG7e.js";import{NetworkLogo as ye}from"./TokenLogo-JlSSDr3Q.js";import"./use-transport-CPomNX05.js";import"./useModalState-BcPI2EiQ.js";import"./Tokens-HEKZ8edJ.js";import"./UnitagsApiClient-CvShPRCK.js";import"./Identicon-SnsLMqUD.js";import"./api-u3dxy1Uz.js";import{useIsWindowVisible as lt}from"./useIsWindowVisible-CtuFA8fK.js";import{Xe as ct}from"./styled-components-DbVO3u5J.js";import"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import"./prop-types-BL9JsGr9.js";import"./arrow-down-DCHNWUQ6.js";import{check_default as dt}from"./check-8ct4mC1b.js";import{ClickableTamaguiStyle as mt}from"./clickable-D5qUCIhr.js";import{EllipsisTamaguiStyle as pt}from"./ellipsis-DjwAKJIh.js";import{ExploreTab as S}from"./constants-B0Jk62hw.js";import{DeltaArrow as ut}from"./Delta-_V0Ythbq.js";import{TestID as ke}from"./testIDs-CxYpwoP6.js";import{Trace_default as B}from"./Trace-DgHN3Ak9.js";import"./Modal.web-DHbL39pN.js";import"./LearnMoreLink-CrJtGK7U.js";import"./toNumber-iK_F5vx6.js";import"./pools-5GjP-hMy.js";import"./service-ExploreStatsService_connectquery-YoP81iJ5.js";import{ExploreContextProvider as ht}from"./explore-CL40v3_c.js";import{transitions as ft}from"./styles-nntGSkOP.js";import{Badge_default as vt}from"./Badge-vnMif72r.js";import"./EnvelopeHeart-DxsgNuRq.js";import"./GetHelpHeader-DB6Sgdgo.js";import{PortfolioLogo as xt}from"./PortfolioLogo-C-reBpb6.js";import"./CurrencyLogo-CvvmRzOI.js";import"./DoubleLogo-D40dQ2P7.js";import"./useOnClickOutside-B5O2_6zc.js";import{ChainLogo as Se}from"./ChainLogo-BNUNQBjt.js";import"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import{LoadingBubble as xe}from"./loading-C4pQN7jn.js";import"./Portal-CDCMc_Hf.js";import"./AdaptiveDropdown-Cv1C9ooR.js";import{Cell as F,Filter as gt,FilterHeaderRow as _t,HeaderCell as D,MAX_WIDTH_MEDIA_BREAKPOINT as bt,StyledExternalLink as Tt,Table as jt,TableText as R,TimestampCell as yt,TokenLinkCell as H,TopTokensTable as kt,VolumeTimeFrameSelector as St,createColumnHelper as wt}from"./Filter-Bbh2t7To.js";import"./protocolVersion-Djp_Gxjw.js";import"./LPIncentiveFeeStatTooltip-CknsSvzz.js";import"./feeTiers-D9BvLkmt.js";import{manualChainOutageAtom as Ct,useUpdateManualOutage as $t}from"./outageBanner-CxJQj198.js";import"./NotFoundModal-5rRvPaOx.js";import{PoolNotFoundModal_default as Vt}from"./PoolNotFoundModal-D5Iwedps.js";import{TokenNotFoundModal_default as It}from"./TokenNotFoundModal-CxGE_gU1.js";import{DropdownSelector as Pt,InternalMenuItem as Et}from"./DropdownSelector-CYN_6AdC.js";import"./utils-s6RXdTyR.js";import{useDebounce as Lt}from"./useDebounce-BRocP-mi.js";import{ExploreTopPoolTable as Ft,ProtocolFilter_default as Dt}from"./PoolTable-DAoW4_Ag.js";import"./topPools-49_ZkMXb.js";import"./useNativeCurrency-BDMzySGC.js";import{useExploreParams as de}from"./redirects-fo_9fvyc.js";import{ForwardRef as Nt}from"./search-Buiy5VA5.js";import{use24hProtocolVolume as Mt,useDailyTVLWithChange as At}from"./protocolStats-BhixqISB.js";var c=_e(Ve()),e=_e(Re());const Rt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",we=ce(L,{flexDirection:"row",alignItems:"center",gap:"$gap8"}),zt={maxHeight:350,minWidth:256,px:0};function Wt({showMultichainOption:r=!0}){const[i,a]=(0,c.useState)(!1),o=Ge(),{isTestnetModeEnabled:h}=pe(),{chains:p}=pe({includeTestnets:!0}),b=de(),n=Z(),d=b.tab,x=Y(),m=(0,c.useCallback)(s=>{if(!o(s))return null;const y=X(s),T=O(s);return(0,e.jsx)(ge,{chainInfo:y,toggleMenu:a,tab:d,unsupported:!T},s)},[o,d]);return(0,e.jsx)("div",{className:Rt,children:(0,e.jsx)(B,{modal:K.NetworkSelector,children:(0,e.jsx)(Pt,{isOpen:i,toggleOpen:a,menuLabel:(0,e.jsx)(we,{children:(!n||!o(n))&&r?(0,e.jsx)(ye,{chainId:null}):(0,e.jsx)(Se,{chainId:n??q.Mainnet,size:20,testId:ke.TokensNetworkFilterSelected})}),buttonStyle:{height:40},dropdownStyle:zt,adaptToSheet:!0,allowFlip:!0,alignRight:!x.lg,children:(0,e.jsxs)(Ee,{px:"$spacing8",children:[r&&(0,e.jsx)(ge,{chainInfo:null,toggleMenu:a,tab:d}),p.filter(O).filter(s=>!oe(s)).map(m),h?p.filter(O).filter(oe).filter(s=>s!==q.MonadTestnet).map(m):null,p.filter(s=>!O(s)&&!oe(s)).map(m)]})})})})}const ge=(0,c.memo)(function({chainInfo:i,toggleMenu:a,tab:o,unsupported:h}){const p=be(),b=ct(),{t:n}=N(),d=de(),x=Z(),m=x?X(x):void 0,s=it(),y=i===null,T=y?void 0:i.id,f=T&&s.includes(T),j=T?ae(T):"All networks",_=T?le(T):"",$=y?!m:(m==null?void 0:m.id)===T&&d.chainName;return(0,e.jsx)(B,{logPress:!0,page:Te.ExplorePage,properties:{tab:o,chain:j.toString(),previousConnectedChain:m!=null&&m.id?ae(m.id):"All networks"},children:(0,e.jsxs)(Et,{"data-testid":`${ke.TokensNetworkFilterOptionPrefix}${j.toLowerCase()}`,disabled:h,onPress:()=>{!h&&p(`/explore/${o??S.Tokens}${y?"":`/${_}`}`),a(!1)},children:[(0,e.jsxs)(we,{children:[y?(0,e.jsx)(ye,{chainId:null}):(0,e.jsx)(Se,{chainId:T??q.Mainnet,size:20}),(0,e.jsx)(rt,{text:y?n("transaction.network.all"):i.label,textProps:{variant:"body2",...pt},element:f&&!h?(0,e.jsx)(nt,{}):void 0})]}),h?(0,e.jsx)(vt,{fontSize:10,children:n("settings.setting.beta.tooltip")}):$?(0,e.jsx)(dt,{size:16,color:b.accent1}):null]})})});function Bt({tab:r}){const{t:i}=N(),a=je(se),[o,h]=(0,c.useState)(a),p=Je(se),b=Lt(o,300),[n,d]=(0,c.useState)(!1),x=De();(0,c.useEffect)(()=>{h(a),a&&d(!0)},[a]),(0,c.useEffect)(()=>{p(b)},[b,p]);const m=()=>d(!0),s=()=>{o===""&&d(!1)},y=()=>{d(!1),h("")},T={[S.Tokens]:i("tokens.table.search.placeholder.tokens"),[S.Pools]:i("tokens.table.search.placeholder.pools"),[S.Transactions]:i("tokens.table.search.placeholder.transactions")};return(0,e.jsx)(B,{logFocus:!0,eventOnTrigger:Ue.ExploreSearchSelected,element:U.ExploreSearchInput,children:(0,e.jsxs)(L,{$md:{position:n?"absolute":"relative",width:n?"100%":"auto",left:0,right:0,zIndex:ie.mask,height:40},centered:!0,children:[(0,e.jsx)(Nt,{fill:x.neutral1.val,style:{position:"absolute",left:"12px"},width:20,height:20,pointerEvents:"none"}),(0,e.jsx)(ot,{"data-testid":"explore-tokens-search-input",placeholder:T[r??S.Tokens],placeholderTextColor:"$neutral3",id:"searchBar",autoComplete:"off",value:o,onChangeText:f=>h(f),backgroundColor:"$surface1",borderRadius:12,borderWidth:1,borderColor:n?"$accent1":"$surface3",height:"100%",width:n?200:0,pl:34,pr:n?30:void 0,color:"$neutral2",textOverflow:"ellipsis",onFocus:m,onBlur:s,"$platform-web":{transitionDuration:ft.duration.fast},focusStyle:{backgroundColor:"$surface1",borderColor:"$accent1",color:"$neutral1"},hoverStyle:{borderColor:"$surface3Hovered",cursor:"pointer"},$md:{"$platform-web":{transitionDuration:"initial"},width:n?"100%":0}}),n&&(0,e.jsx)(L,{row:!0,centered:!0,position:"absolute",right:6,zIndex:ie.mask,children:(0,e.jsx)(Pe,{size:"xxsmall",emphasis:"secondary",onPress:y,icon:(0,e.jsx)(Le,{}),p:3,scale:.8})})]})})}const Ot=r=>{const{chainId:i}=Ye(),a=Xe(i),o=st(h=>h.wallets.switchingChain);(0,c.useEffect)(()=>{a&&i===o&&r(i)},[r,i,a,o])},Ht="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",Qt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665593 _pr-t-space-spa94665589 _pl-t-space-spa94665589 _pt-t-space-spa94665591 _pb-t-space-spa94665591 _width-180px ",Ut=" _display-flex",Kt=" _display-none",qt=" _cursor-default",Xt=" _cursor-pointer",Gt=" _pl-t-space-spa1360334047",Yt=" _pl-0px",Zt=" _borderLeftWidth-t-space-spa94665586 _borderLeftStyle-solid",Jt=" _borderLeftWidth-0px _borderLeftStyle-solid",eo=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _flexGrow-1 _transition-opacity0--3se464443531  ",to="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 ",oo=()=>{const r=Y(),{t:i}=N(),{convertFiatAmountFormatted:a}=G(),{protocolVolumes:o,totalVolume:h,totalChangePercent:p,isLoading:b}=Mt(),{totalTVL:n,protocolTVL:d,totalChangePercent:x,protocolChangePercent:m,isLoading:s}=At(),y=b||s,T=(0,c.useMemo)(()=>{const f=_=>a(_,W.FiatTokenPrice);return[{label:i("stats.volume.1d.long"),value:f(h),change:p,protocolPopoverFormattedData:[{label:i("common.protocol.v4"),value:o.v4},{label:i("common.protocol.v3"),value:o.v3},{label:i("common.protocol.v2"),value:o.v2}]},{label:i("common.totalUniswapTVL"),value:f(n),change:x},{label:i("explore.v2TVL"),value:f(d.v2),change:m.v2},{label:i("explore.v3TVL"),value:f(d.v3),change:m.v3},{label:i("explore.v4TVL"),value:f(d.v4),change:m.v4}].filter(_=>_!==null)},[i,a,h,p,o.v4,o.v3,o.v2,n,x,d.v2,d.v3,d.v4,m.v2,m.v3,m.v4]);return(0,e.jsx)("div",{className:to,children:T.map((f,j)=>(0,e.jsx)("div",{className:et(eo+(j===0?Jt:Zt)+(" "+(j==0?Yt:Gt))+(" "+(f.protocolPopoverFormattedData?Xt:qt))+(" "+(r.md&&j>1?Kt:Ut))),children:tt||!f.protocolPopoverFormattedData?(0,e.jsx)(me,{data:f,isLoading:y}):(0,e.jsx)(Ce,{data:f,isLoading:y})},f.label))})};var ro=oo;const me=(0,c.memo)(({data:r,isLoading:i,isHoverable:a})=>{const{formatPercent:o}=G();return(0,e.jsxs)(L,{group:!0,gap:"$spacing4",animation:"simple",children:[(0,e.jsx)(w,{variant:"body4",color:"$neutral2","$group-hover":{color:a?"$neutral2Hovered":"$neutral2"},children:r.label}),i?(0,e.jsx)(xe,{height:"20px",width:"52px"}):(0,e.jsx)(w,{variant:"subheading1",color:"$neutral1",children:r.value}),(0,e.jsx)(L,{row:!0,alignItems:"center",gap:"$spacing2",style:{fontSize:12},children:i?(0,e.jsx)(xe,{height:"12px",width:"30px"}):(0,e.jsxs)(c.Fragment,{children:[(0,e.jsx)(ut,{delta:r.change,formattedDelta:o(Math.abs(r.change)),size:12}),(0,e.jsx)(w,{variant:"body4",color:"$neutral1",children:o(Math.abs(r.change))})]})})]})});me.displayName="StatDisplay";const Ce=(0,c.memo)(({data:r,isLoading:i})=>{var a;const o=Fe(),{convertFiatAmountFormatted:h}=G();return(0,e.jsxs)(te,{hoverable:!0,placement:"bottom-start",offset:{mainAxis:10},children:[(0,e.jsx)(te.Trigger,{children:(0,e.jsx)(me,{data:r,isLoading:i,isHoverable:!0})}),(0,e.jsx)(te.Content,{zIndex:ie.dropdown,borderColor:"$surface2",borderRadius:"$rounded16",borderWidth:"$spacing1",enterStyle:{y:-10,opacity:0},exitStyle:{y:-10,opacity:0},animation:"simple",...o,children:(0,e.jsx)("div",{className:Qt,children:(a=r.protocolPopoverFormattedData)===null||a===void 0?void 0:a.map(p=>(0,e.jsxs)("div",{className:Ht,children:[(0,e.jsx)(w,{variant:"body4",color:"neutral2",children:p.label}),(0,e.jsx)(w,{variant:"body4",children:h(p.value??0,W.FiatTokenPrice)})]},p.label))})})]})});Ce.displayName="StatDisplayWithPopover";let C=(function(r){return r.SWAP="Swap",r.ADD="Add",r.REMOVE="Remove",r})({});const no=r=>{switch(r){case C.SWAP:return re.t("common.swap");case C.ADD:return re.t("common.add.label");case C.REMOVE:return re.t("common.remove.label");default:return""}},$e={[Q.Swap]:C.SWAP,[Q.Remove]:C.REMOVE,[Q.Add]:C.ADD},z=20;function io(r,i=[C.SWAP,C.ADD,C.REMOVE]){const a=lt(),{data:o,loading:h,error:p,fetchMore:b}=Qe({variables:{chain:r,first:z},skip:!a}),{data:n,loading:d,error:x,fetchMore:m}=He({variables:{chain:r,first:z},skip:!a}),{data:s,loading:y,error:T,fetchMore:f}=Oe({variables:{chain:r,first:z},skip:!a}),j=(0,c.useRef)(!1),_=(0,c.useRef)(!1),$=(0,c.useRef)(!1),V=(0,c.useRef)(z),g=(0,c.useCallback)(({onComplete:v})=>{var I,t,l;j.current||_.current||$.current||(j.current=!0,_.current=!0,$.current=!0,V.current+=z,b({variables:{cursor:o==null||(I=o.v4Transactions)===null||I===void 0||(I=I[o.v4Transactions.length-1])===null||I===void 0?void 0:I.timestamp},updateQuery:(u,{fetchMoreResult:P})=>{!_.current&&!$.current&&(v==null||v());const E={v4Transactions:[...u.v4Transactions??[],...P.v4Transactions??[]]};return j.current=!1,E}}),m({variables:{cursor:n==null||(t=n.v3Transactions)===null||t===void 0||(t=t[n.v3Transactions.length-1])===null||t===void 0?void 0:t.timestamp},updateQuery:(u,{fetchMoreResult:P})=>{!$.current&&!j.current&&(v==null||v());const E={v3Transactions:[...u.v3Transactions??[],...P.v3Transactions??[]]};return _.current=!1,E}}),f({variables:{cursor:s==null||(l=s.v2Transactions)===null||l===void 0||(l=l[s.v2Transactions.length-1])===null||l===void 0?void 0:l.timestamp},updateQuery:(u,{fetchMoreResult:P})=>{!_.current&&!j.current&&(v==null||v());const E={v2Transactions:[...u.v2Transactions??[],...P.v2Transactions??[]]};return $.current=!1,E}}))},[s==null?void 0:s.v2Transactions,n==null?void 0:n.v3Transactions,o==null?void 0:o.v4Transactions,f,m,b]),k=(0,c.useCallback)(v=>!!(v!=null&&v.type)&&i.includes($e[v.type]),[i]);return{transactions:(0,c.useMemo)(()=>[...(o==null?void 0:o.v4Transactions)??[],...(n==null?void 0:n.v3Transactions)??[],...(s==null?void 0:s.v2Transactions)??[]].filter(k).sort((v,I)=>(I.timestamp||0)-(v.timestamp||0)).slice(0,V.current),[s==null?void 0:s.v2Transactions,n==null?void 0:n.v3Transactions,o==null?void 0:o.v4Transactions,k]),loading:y||d||h||!a,errorV2:T,errorV3:x,errorV4:p,loadMore:g}}function ao(r){const i=je(se),a=(0,c.useMemo)(()=>i.toLowerCase(),[i]);return(0,c.useMemo)(()=>r.filter(o=>{var h,p,b,n,d,x;const m=o.hash.toLowerCase().includes(a),s=(h=o.token0.symbol)===null||h===void 0?void 0:h.toLowerCase().includes(a),y=(p=o.token1.symbol)===null||p===void 0?void 0:p.toLowerCase().includes(a),T=(b=o.token0.address)===null||b===void 0?void 0:b.toLowerCase().includes(a),f=(n=o.token1.address)===null||n===void 0?void 0:n.toLowerCase().includes(a),j=(d=o.token0.address)===null||d===void 0?void 0:d.toLowerCase().includes(a),_=(x=o.token1.address)===null||x===void 0?void 0:x.toLowerCase().includes(a);return m||s||y||T||f||j||_}),[a,r])}const ne=ce(L,{row:!0,gap:"$gap4",alignItems:"center"}),so=(0,c.memo)(function(){const i=qe(),{convertFiatAmountFormatted:a,formatNumberOrString:o}=G(),[h,p]=(0,c.useReducer)(v=>!v,!1),b=(0,c.useRef)(null),[n,d]=(0,c.useState)([C.SWAP,C.REMOVE,C.ADD]),x=X(Z()??q.Mainnet),{t:m}=N(),{transactions:s,loading:y,loadMore:T,errorV2:f,errorV3:j}=io(x.backendChain.chain,n),_=ao(s),$=f&&j?new We({errorMessage:`Could not retrieve V2 and V3 Transactions for chain: ${x.id}`}):void 0,V=y&&!s.length,g=V||!!$;$t({chainId:x.id,errorV3:j,errorV2:f});const k=Y(),M=(0,c.useMemo)(()=>{const v=wt();return[k.lg?null:v.accessor(t=>t,{id:"timestamp",size:80,header:()=>(0,e.jsx)(D,{justifyContent:"flex-start",children:(0,e.jsx)(ne,{children:(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(A,{i18nKey:"common.time"})})})}),cell:t=>{var l,u;return(0,e.jsx)(F,{loading:g,justifyContent:"flex-start",children:(0,e.jsx)(yt,{timestamp:Number((l=t.getValue)===null||l===void 0?void 0:l.call(t).timestamp),link:he({chainId:x.id,data:(u=t.getValue)===null||u===void 0?void 0:u.call(t).hash,type:ue.TRANSACTION})})})}}),v.accessor(t=>t,{id:"swap-type",size:k.lg?180:320,header:()=>(0,e.jsx)(D,{justifyContent:"flex-start",children:(0,e.jsxs)(_t,{clickable:h,onPress:()=>p(),ref:b,children:[(0,e.jsx)(gt,{allFilters:Object.values(C).map(t=>({value:t,label:no(t)})),activeFilter:n,setFilters:d,isOpen:h,toggleFilterModal:p,anchorRef:b}),(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(A,{i18nKey:"common.type.label"})})]})}),cell:t=>{var l,u,P,E,J,ee;return(0,e.jsx)(F,{loading:g,justifyContent:"flex-start",children:(0,e.jsxs)(w,{variant:"body2",display:"flex",flexDirection:"row",gap:"$spacing8",alignItems:"center",children:[k.lg&&(0,e.jsx)(xt,{chainId:x.id,images:[(l=t.getValue)===null||l===void 0||(l=l.call(t).token0.project)===null||l===void 0||(l=l.logo)===null||l===void 0?void 0:l.url,(u=t.getValue)===null||u===void 0||(u=u.call(t).token1.project)===null||u===void 0||(u=u.logo)===null||u===void 0?void 0:u.url],size:20}),(0,e.jsx)(R,{color:"$neutral2",$lg:{display:"none"},children:$e[(P=t.getValue)===null||P===void 0?void 0:P.call(t).type]}),(0,e.jsx)(H,{token:(E=t.getValue)===null||E===void 0?void 0:E.call(t).token0,hideLogo:k.lg}),(0,e.jsx)(w,{color:"$neutral2",children:((J=t.getValue)===null||J===void 0?void 0:J.call(t).type)===Q.Swap?m("common.for").toLowerCase():m("common.and").toLowerCase()}),(0,e.jsx)(H,{token:(ee=t.getValue)===null||ee===void 0?void 0:ee.call(t).token1,hideLogo:k.lg})]})})}}),v.accessor(t=>t.usdValue.value,{id:"fiat-value",maxSize:125,header:()=>(0,e.jsx)(D,{children:(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:i})}),cell:t=>{var l;return(0,e.jsx)(F,{loading:g,children:(0,e.jsx)(R,{children:a((l=t.getValue)===null||l===void 0?void 0:l.call(t),W.FiatTokenPrice)})})}}),v.accessor(t=>t,{id:"token-amount-0",size:200,header:()=>(0,e.jsx)(D,{children:(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(A,{i18nKey:"common.tokenAmount"})})}),cell:t=>{var l,u;return(0,e.jsx)(F,{loading:g,children:(0,e.jsxs)(ne,{justifyContent:"flex-end",children:[(0,e.jsx)(R,{variant:"body2",color:"$neutral1",children:o({value:Math.abs(parseFloat((l=t.getValue)===null||l===void 0?void 0:l.call(t).token0Quantity))||0,type:W.TokenQuantityStats})}),(0,e.jsx)(H,{token:(u=t.getValue)===null||u===void 0?void 0:u.call(t).token0})]})})}}),v.accessor(t=>t,{id:"token-amount-1",size:200,header:()=>(0,e.jsx)(D,{children:(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(A,{i18nKey:"common.tokenAmount"})})}),cell:t=>{var l,u;return(0,e.jsx)(F,{loading:g,children:(0,e.jsxs)(ne,{justifyContent:"flex-end",children:[(0,e.jsx)(R,{variant:"body2",color:"$neutral1",children:o({value:Math.abs(parseFloat((l=t.getValue)===null||l===void 0?void 0:l.call(t).token1Quantity))||0,type:W.TokenQuantityStats})}),(0,e.jsx)(H,{token:(u=t.getValue)===null||u===void 0?void 0:u.call(t).token1})]})})}}),v.accessor(t=>t.account,{id:"maker-address",maxSize:150,header:()=>(0,e.jsx)(D,{children:(0,e.jsx)(w,{variant:"body3",color:"$neutral2",children:(0,e.jsx)(A,{i18nKey:"common.wallet.label"})})}),cell:t=>{var l,u;return(0,e.jsx)(F,{loading:g,children:(0,e.jsx)(Tt,{href:he({chainId:x.id,data:(l=t.getValue)===null||l===void 0?void 0:l.call(t),type:ue.ADDRESS}),children:(0,e.jsx)(R,{children:Ke((u=t.getValue)===null||u===void 0?void 0:u.call(t))})})})}})].filter(t=>!!t)},[i,x.id,k.lg,n,h,a,o,g,m]);return(0,e.jsx)(jt,{columns:M,data:_,loading:V,error:$,loadMore:T,maxWidth:1200,defaultPinnedColumns:["timestamp","swap-type"]})});var lo=so;const co="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",mo="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-spa94665593 _justifyContent-flex-start  _width-_md_10037",po="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-spa1360334047 _flexWrap-wrap _justifyContent-flex-start  _gap-_md_t-space-spa1360334076",uo="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _flexShrink-0 _flexDirection-column _width-10037 _minWidth-320px _pt-t-space-spa1360334047 _pb-t-space-spa1360333981 _pr-t-space-spa1360333989 _pl-t-space-spa1360333989  _pt-_md_t-space-spa1360334076 _pr-_md_t-space-spa1360334076 _pb-_md_t-space-spa1360334076 _pl-_md_t-space-spa1360334076";function ho(){const{t:r}=N();return[{title:r("common.tokens"),key:S.Tokens,component:kt,loggingElementName:U.ExploreTokensTab},{title:r("common.pools"),key:S.Pools,component:Ft,loggingElementName:U.ExplorePoolsTab},{title:r("common.transactions"),key:S.Transactions,component:lo,loggingElementName:U.ExploreTransactionsTab}]}const fo=ce(w,{...mt,variant:"heading3",userSelect:"none",color:"$neutral2",variants:{large:{true:{fontSize:24,lineHeight:32}},active:{true:{color:"$neutral1",hoverStyle:{opacity:1}}},disabled:{true:{color:"$neutral3",cursor:"default",hoverStyle:{opacity:1}}}}}),vo=({initialTab:r})=>{const{t:i}=N(),a=Y(),o=(0,c.useRef)(null),h=Ze(Ct),p=ho(),[b]=Ae(),n=Ne(),d=be(),x=Me(),m=(0,c.useMemo)(()=>{const g=r&&p.findIndex(k=>k.key===r);return!g||g===-1?0:g},[r,p]);(0,c.useEffect)(()=>{if(o.current&&r){const g=o.current.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:g-90,behavior:"smooth"})}},[]),(0,c.useEffect)(()=>{const g=b.get("result")===K.NotFound,k=b.get("type");if(g){switch(k){case S.Tokens:n(fe({name:K.TokenNotFound}));break;case S.Pools:n(fe({name:K.PoolNotFound}));break}d(x.pathname,{replace:!0})}},[b,n,d,x]);const[s,y]=(0,c.useState)(m),{tab:T}=de(),f=T??S.Tokens,j=Z(),_=(0,c.useMemo)(()=>j?X(j):void 0,[j]);(0,c.useEffect)(()=>{const g=p.findIndex(k=>k.key===f);g!==-1&&y(g),h()},[h,f,p]);const{component:$,key:V}=p[s];return Ot((0,c.useCallback)(g=>{Be(ae(g))&&d(ve({tab:f,chainUrlParam:le(g)}))},[d,f])),(0,e.jsxs)(B,{logImpression:!0,page:Te.ExplorePage,properties:{chainName:_==null?void 0:_.backendChain.chain},children:[(0,e.jsx)(ht,{chainId:_==null?void 0:_.id,children:(0,e.jsxs)("div",{className:uo,children:[(0,e.jsx)(ro,{}),(0,e.jsxs)(L,{ref:o,row:!0,maxWidth:bt,mt:80,mx:"auto",mb:"$spacing4",alignItems:"center",justifyContent:"space-between",width:"100%",$lg:{row:!1,flexDirection:"column",mx:"unset",alignItems:"flex-start",gap:"$spacing16"},...V===S.Pools&&{$lg:{},$xl:{row:!1,flexDirection:"column",mx:"unset",alignItems:"flex-start",gap:"$spacing16"}},children:[(0,e.jsx)("div",{"data-testid":"explore-navbar",className:po,children:p.map(({title:g,loggingElementName:k,key:M},v)=>{const I=ve({tab:M,chainUrlParam:_?le(_.id):""});return(0,e.jsx)(B,{logPress:!0,eventOnTrigger:ze.NAVBAR_CLICKED,element:k,children:(0,e.jsx)(fo,{onPress:()=>d(I),active:s===v,children:g},M)},v)})}),(0,e.jsxs)("div",{className:mo,children:[V===S.Pools&&(0,e.jsx)("div",{className:co,children:(0,e.jsx)(Ie,{size:"small",icon:(0,e.jsx)(at,{}),onPress:()=>d("/positions/create"),children:a.sm?i("common.add.label"):i("common.addLiquidity")})}),(0,e.jsx)(Wt,{showMultichainOption:V!==S.Transactions}),V===S.Tokens&&(0,e.jsx)(St,{}),V===S.Pools&&(0,e.jsx)(Dt,{}),(0,e.jsx)(Bt,{tab:V})]})]}),(0,e.jsx)($,{})]})}),(0,e.jsx)(It,{}),(0,e.jsx)(Vt,{})]})};var ji=vo;export{ji as default};
