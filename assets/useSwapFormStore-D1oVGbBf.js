import{__toESM as y}from"./chunk-DgAfPHQg.js";import{require_react as O}from"./react-CNoFhWkx.js";import{useEvent as g}from"./hooks-BXO4d1DJ.js";import{SwapFormStoreContext as I}from"./SwapFormStoreContext-3NrPQE3L.js";const S=t=>{let e;const r=new Set,n=(i,a)=>{const c=typeof i=="function"?i(e):i;if(!Object.is(c,e)){const j=e;e=a??(typeof c!="object"||c===null)?c:Object.assign({},e,c),r.forEach(x=>x(e,j))}},o=()=>e,f={setState:n,getState:o,getInitialState:()=>d,subscribe:i=>(r.add(i),()=>r.delete(i))},d=e=t(n,o,f);return f},h=t=>t?S(t):S;var u=y(O(),1);const E=t=>t;function w(t,e=E){const r=u.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return u.useDebugValue(r),r}const p=t=>{const e=h(t),r=n=>w(e,n);return Object.assign(r,e),r},V=t=>t?p(t):p,b=t=>Symbol.iterator in t,m=t=>"entries"in t,l=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[o,s]of r)if(!Object.is(s,n.get(o)))return!1;return!0},F=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let o=r.next(),s=n.next();for(;!o.done&&!s.done;){if(!Object.is(o.value,s.value))return!1;o=r.next(),s=n.next()}return!!o.done&&!!s.done};function M(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:b(t)&&b(e)?m(t)&&m(e)?l(t,e):F(t,e):l({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function _(t){const e=u.useRef(void 0);return r=>{const n=t(r);return M(e.current,n)?e.current:e.current=n}}const C=()=>{const t=(0,u.useContext)(I);if(!t)throw new Error("useSwapFormStore must be used within SwapFormStoreContextProvider");return t},D=t=>{const e=C();return w(e,_(t))},G=t=>{const e=g(r=>t(r.derivedSwapInfo));return D(e)};export{V as create,M as shallow,_ as useShallow,w as useStore,D as useSwapFormStore,C as useSwapFormStoreBase,G as useSwapFormStoreDerivedSwapInfo};
