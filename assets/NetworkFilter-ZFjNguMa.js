import{__toESM as M}from"./chunk-DgAfPHQg.js";import{require_react as Q}from"./react-CNoFhWkx.js";import{AnimatePresence as ee,Extrapolate as ne,OverKeyboardContent as te,Path as oe,Portal as ie,RotatableChevron as Y,Svg as re,TouchableArea as j,createIcon as se,easeInEaseOutLayoutAnimation as ae,init_module as G,interpolate as ce,module_default as V,opacify as le,spacing as $,useAnimatedScrollHandler as de,useAnimatedStyle as ue,useIsDarkMode as q,useSharedValue as K,useSporeColors as pe,zIndexes as xe}from"./src-DOOtfpHS.js";import{useTranslation as z}from"./useTranslation-BotBuoJf.js";import{isAndroid as he,isInterface as Z,isMobileApp as _e,isTouchable as fe,isWeb as k}from"./index.web-BqgtOHN3.js";import{require_jsx_runtime as me}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as be}from"./useEnabledChains-DuB86c95.js";import{useEvent as ve}from"./hooks-BXO4d1DJ.js";import{getChainInfo as ge}from"./utils-BX1Fu73x.js";import{ElementName as je}from"./element-Wnp4RkdY.js";import{useTestnetModeBannerHeight as we}from"./hooks-Dhx5teK4.js";import{Flex as d,Text as p,iconSizes as D,styled as Se,useDeviceDimensions as ye}from"./Loader-D83W8G1W.js";import{Checkbox as P}from"./Checkbox-Id3GDHn8.js";import{ElementAfterText as $e,NewTag as ke,useNewChainIds as Ie}from"./useNewChainIds-CIAogFpa.js";import{AlertTriangleFilled as Ce}from"./AlertTriangleFilled-C9tf2eUJ.js";import{CheckmarkCircle as Ee}from"./CheckmarkCircle-Znmo2ojy.js";import{useTimeout as We}from"./timing-DsWr56iv.js";import{NetworkLogo as H}from"./TokenLogo-JlSSDr3Q.js";var e=M(me());const[De,kn]=se({name:"AlertTriangle",getIcon:o=>(0,e.jsx)(re,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...o,children:(0,e.jsx)(oe,{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4M12 17h.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"})})});var c=M(Q());const Ne="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _flexGrow-1 ";function In({checked:o,checkboxPosition:n="start",text:t,variant:s,size:r="$icon.20",gap:i="$spacing12",px:a="$spacing4",py:x,hoverStyle:h,containerStyle:b,onCheckPressed:u}){const l=ve(w=>{w.preventDefault(),w.stopPropagation(),u==null||u(o)}),f=(0,c.useMemo)(()=>typeof t=="string"?(0,e.jsx)(p,{$short:{variant:"buttonLabel4"},variant:"subheading2",children:t}):t,[t]);return(0,e.jsx)(j,{hoverable:!!h,hoverStyle:h,style:b,onPress:l,children:(0,e.jsxs)(d,{row:!0,alignItems:"center",gap:i,px:a,py:x,children:[n==="start"&&(0,e.jsx)(P,{checked:o,size:r,variant:s,onPress:l}),t&&(0,e.jsx)("div",{className:Ne,children:f}),n==="end"&&(0,e.jsx)(P,{checked:o,size:r,variant:s,onPress:l})]})})}const Ae="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 ",Le="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",Oe="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334076 ",Te="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _flexGrow-1 _gap-t-space-spa1360334047 _pt-t-space-spa1360334080 _pr-t-space-spa1360334080 _pb-t-space-spa1360334080 _pl-t-space-spa1360334080 _width-10037 ",He="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-spa1360334076 ",B="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa94665593 ",Be="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _gap-t-space-spa1360334076 _width-10037 ",ze="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 ",Re="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665589 ",Pe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa1360334076 _justifyContent-space-betwe3241 ",Fe={width:0,height:2};function Me({children:o,...n}){const t=q(),s=pe(),r=!!n.backgroundColor;return(0,e.jsx)(d,{borderRadius:"$rounded16",p:"$spacing12",shadowColor:t?"$black":"$transparent",shadowOffset:Fe,shadowOpacity:.0075,shadowRadius:10,style:r?void 0:{backgroundColor:le(t?10:100,s.white.val)},...n,children:o})}function Ye({title:o,subtitle:n,onPress:t,icon:s,...r}){return(0,e.jsx)(j,{borderBottomColor:"$surface3",borderBottomWidth:.25,px:"$spacing16",py:"$spacing12",onPress:t,...r,children:(0,e.jsxs)("div",{className:Pe,children:[(0,e.jsxs)("div",{className:Re,children:[(0,e.jsxs)("div",{className:ze,children:[s,typeof o=="string"?(0,e.jsx)(p,{color:"$neutral2",variant:"subheading2",children:o}):o]}),n?typeof n=="string"?(0,e.jsx)(p,{variant:"subheading1",children:n}):n:null]}),(0,e.jsx)(Y,{color:"$neutral2",direction:"end",height:20})]})})}function Ge({additionalButtonLabel:o,buttonLabel:n,description:t,onPress:s,onPressAdditional:r,title:i,icon:a}){return(0,e.jsxs)("div",{className:Be,children:[(0,e.jsxs)("div",{className:B,children:[a,(0,e.jsxs)("div",{className:B,children:[i&&(0,e.jsx)(p,{textAlign:"center",variant:"buttonLabel2",children:i}),(0,e.jsx)(p,{color:"$neutral2",textAlign:"center",variant:"body2",children:t})]})]}),(0,e.jsxs)("div",{className:He,children:[n&&(0,e.jsx)(j,{onPress:s,children:(0,e.jsx)(p,{color:"$accent1",textAlign:"center",variant:"buttonLabel2",children:n})}),o&&(0,e.jsx)(j,{onPress:r,children:(0,e.jsx)(p,{color:"$accent1",variant:"buttonLabel2",children:o})})]})]})}function Ve(o){const{t:n}=z(),{title:t,description:s=n("common.card.error.description"),retryButtonLabel:r,onRetry:i,icon:a}=o;return(0,e.jsxs)("div",{className:Te,children:[(0,e.jsxs)("div",{className:Oe,children:[a,(0,e.jsxs)("div",{className:B,children:[t?(0,e.jsx)(p,{textAlign:"center",variant:"buttonLabel2",children:t}):null,(0,e.jsx)(p,{color:"$neutral2",textAlign:"center",variant:"body2",children:s})]})]}),(0,e.jsx)("div",{className:Le,children:r?(0,e.jsx)(j,{onPress:i,children:(0,e.jsx)(p,{color:"$accent1",variant:"buttonLabel2",children:r})}):null})]})}function qe(o){const{t:n}=z(),{backgroundColor:t="$surface2",textColor:s="$neutral1",title:r=n("common.card.error.title"),onRetry:i,retryButtonLabel:a=n("common.button.retry"),icon:x=(0,e.jsx)(Ce,{color:"$neutral3",size:"$icon.16",testID:"error-icon"})}=o;return(0,e.jsxs)(d,{grow:!0,row:!0,alignItems:"center",backgroundColor:t,borderRadius:"$rounded16",gap:"$spacing24",justifyContent:"space-between",p:"$spacing12",width:"100%",children:[(0,e.jsxs)("div",{className:Ae,children:[x,(0,e.jsx)(p,{color:s,ellipsizeMode:"tail",numberOfLines:1,textAlign:"center",variant:"subheading2",children:r})]}),i?(0,e.jsx)(j,{onPress:i,children:(0,e.jsx)(p,{color:"$accent1",variant:"buttonLabel2",children:a})}):null]})}const Ke={EmptyState:Ge,ErrorState:Ve,Header:Ye,InlineErrorState:qe,Shadow:Me};G();const Ze="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _flexGrow-1 _backgroundColor-neutral3 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 ";function Ue({visibleHeight:o,contentHeight:n,scrollOffset:t,...s}){const r=K(0),i=ue(()=>{const a=o/n*r.value;return{top:ce(t.value,[0,n-o],[0,r.value-a],ne.CLAMP),height:a}});return(0,e.jsx)(d,{animation:"quicker",enterStyle:{opacity:0,width:0},width:6,...s,children:(0,e.jsx)(d,{fill:!0,onLayout:({nativeEvent:{layout:{height:a}}})=>{r.value=a},children:(0,e.jsx)(V.View,{style:i,children:(0,e.jsx)("div",{className:Ze})})})})}function Xe(){return{top:0,bottom:0,left:0,right:0}}const U=()=>{const o=Xe(),n=we();return(0,c.useMemo)(()=>({right:o.right,bottom:o.bottom,left:o.left,top:o.top+n}),[o.top,o.right,o.bottom,o.left,n])};function Je({firstAction:o,secondAction:n,frames:t=4}){o();const s=r=>{r<=0?n():requestAnimationFrame(()=>s(r-1))};s(t)}G();const Qe=225,O=250;function en({children:o,styles:n,testID:t,showArrow:s,closeOnSelect:r=!0,onPress:i,...a}){const x=U(),h=(0,c.useRef)(null),[b,u]=(0,c.useState)(!1),[l,f]=(0,c.useState)(null),w=m=>{i==null||i(m);const v=h.current;v&&v.measureInWindow((I,g,S,y)=>{f({x:I,y:g+(he?x.top:0),width:S,height:y,sticky:n==null?void 0:n.sticky}),u(!0)})};(0,c.useEffect)(()=>{if(!k)return;function m(){var v;(v=h.current)===null||v===void 0||v.measureInWindow((I,g,S,y)=>{f(C=>({...C,x:I,y:g,width:S,height:y}))})}return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[l==null?void 0:l.sticky,x.top]);const N=(0,c.useCallback)(m=>{u(!1),f(null),m.preventDefault(),m.stopPropagation()},[u,f]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j,{width:n==null?void 0:n.width,onPress:w,children:(0,e.jsxs)(d,{ref:h,centered:!0,row:!0,collapsable:!1,gap:"$spacing8",px:n==null?void 0:n.buttonPaddingX,py:(n==null?void 0:n.buttonPaddingY)||"$spacing8",testID:t||"dropdown-toggle",children:[o,s&&(0,e.jsx)(Y,{animation:"100ms",color:"$neutral2",direction:b?"up":"down",height:D.icon20,width:D.icon20})]})}),(0,e.jsx)(nn,{closeDropdown:N,styles:n,isOpen:b,toggleMeasurements:l,contentProps:a,closeOnSelect:r})]})}const nn=(0,c.memo)(function({closeDropdown:n,styles:t,isOpen:s,toggleMeasurements:r,contentProps:i,closeOnSelect:a}){const[x,h]=(0,c.useState)(!1);return We(()=>h(!0),0),x?(0,e.jsx)(ie,{zIndex:(t==null?void 0:t.dropdownZIndex)||xe.popover,children:(0,e.jsx)(ee,{custom:{isOpen:s},children:r&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(te,{visible:s,children:[(0,e.jsx)(on,{handleClose:n,opacity:!Z||fe?t==null?void 0:t.backdropOpacity:0}),(0,e.jsx)(tn,{...i,alignment:t==null?void 0:t.alignment,dropdownMaxHeight:t==null?void 0:t.dropdownMaxHeight,dropdownMinWidth:t==null?void 0:t.dropdownMinWidth,dropdownGap:t==null?void 0:t.dropdownGap,handleClose:n,toggleMeasurements:r,closeOnSelect:a})]})})})}):null}),X=Se(d,{variants:{isOpen:{true:{pointerEvents:"auto"},false:{pointerEvents:"none"}}}});function tn({options:o,alignment:n="left",dropdownMaxHeight:t,dropdownMinWidth:s,dropdownGap:r,toggleMeasurements:i,handleClose:a,closeOnSelect:x,...h}){const b=U(),{fullWidth:u,fullHeight:l}=ye(),f=K(0),[w,N]=(0,c.useState)(0),m=de(_=>f.value=_.contentOffset.y,k?void 0:[f]),v=(0,c.useMemo)(()=>n==="left"?{left:i.x,right:"unset",maxWidth:u-i.x-$.spacing12}:{left:"unset",right:u-(i.x+i.width),maxWidth:i.x+i.width-$.spacing12},[n,u,i]),I=b.bottom+$.spacing12,g=Z&&t||Math.max(l-i.y-i.height-I,O),S=w>g,y=(0,c.useMemo)(()=>window.scrollY,[]),[C,R]=(0,c.useState)(0);(0,c.useEffect)(()=>{if(!k)return;function _(){!i.sticky&&window.scrollY>=0&&R(window.scrollY-y)}return window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}},[y,i.sticky]),(0,c.useEffect)(()=>{R(0)},[i]);const J=(0,c.useMemo)(()=>{const _=i.y+i.height-C+$.spacing8,E=l-i.y+$.spacing8,A=l-_>O,L=l-E>O;return!A&&L?{bottom:E}:{top:_}},[i.y,C,l,i.height]);return(0,e.jsx)(X,{animation:"fast",maxHeight:g,minWidth:s??Qe,position:"absolute",testID:"dropdown-content",...J,...v,enterStyle:{y:-20,opacity:0},exitStyle:{y:-10,opacity:0},children:(0,e.jsx)(Ke.Shadow,{backgroundColor:"$surface1",borderColor:"$surface3",borderWidth:"$spacing1",overflow:"hidden",p:"$none",...h,children:(0,e.jsxs)(d,{row:!0,maxHeight:g,children:[(0,e.jsx)(V.ScrollView,{contentContainerStyle:{padding:$.spacing8},scrollEnabled:S,scrollEventThrottle:16,showsVerticalScrollIndicator:k,onScroll:m,children:(0,e.jsx)(d,{gap:r,onLayout:({nativeEvent:{layout:{height:_}}})=>{N(_)},children:o.map(({key:_,onPress:E,render:A})=>(0,e.jsx)(j,{hoverable:!0,borderRadius:"$rounded8",onPress:L=>{Je({firstAction:()=>{x&&(a==null||a(L))},secondAction:E})},children:(0,e.jsx)(d,{testID:_,children:A()})},_))})}),S&&!k&&(0,e.jsx)(Ue,{contentHeight:w,mr:"$spacing4",py:"$spacing12",scrollOffset:f,visibleHeight:g})]})})})}function on({handleClose:o,opacity:n}){const t=q(),s=n??(t?.4:.2);return(0,e.jsx)(X,{animation:"100ms",backgroundColor:"$black",enterStyle:{opacity:0},exitStyle:{opacity:0},flex:1,inset:0,opacity:s,position:"absolute",testID:"dropdown-backdrop",onPress:o})}const W=D.icon24,F=k?"$spacing8":"$spacing6",T={backgroundColor:"$surface2",borderRadius:"$rounded8"};function rn({chainId:o,currentlySelected:n,isNew:t}){const{t:s}=z(),r=o&&ge(o);let i=null;return r!=null&&r.label?i=(0,e.jsxs)(d,{row:!0,gap:"$spacing12",hoverStyle:T,children:[(0,e.jsx)(H,{chainId:o,size:W}),(0,e.jsx)($e,{element:t?(0,e.jsx)(ke,{ml:F}):void 0,text:r.label,textProps:{color:"$neutral1",variant:"body2"}})]}):i=(0,e.jsxs)(d,{row:!0,gap:"$spacing12",hoverStyle:T,children:[(0,e.jsx)(H,{chainId:null,size:W}),(0,e.jsx)(p,{color:"$neutral1",variant:"body2",children:s("transaction.network.all")})]}),(0,e.jsxs)(d,{row:!0,alignItems:"center",justifyContent:"space-between",px:"$spacing8",py:10,hoverStyle:T,children:[i,(0,e.jsx)(d,{centered:!0,height:W,width:W,children:n&&(0,e.jsx)(Ee,{color:"$neutral1",ml:F,size:"$icon.20"})})]})}function sn({onPress:o,selectedChain:n,includeAllNetworks:t,chainIds:s}){const r=Ie();return(0,c.useMemo)(()=>[...t?[null]:[],...s].map(i=>({key:`${je.NetworkButton}-${i??"all"}`,render:()=>(0,e.jsx)(rn,{chainId:i,currentlySelected:n===i,isNew:i!==null&&r.includes(i)}),onPress:()=>o(i)})),[t,s,n,r,o])}const an=D.icon20;function Cn({chainIds:o,selectedChain:n,onPressChain:t,includeAllNetworks:s,showUnsupportedConnectedChainWarning:r,styles:i,hideArrow:a=!1}){const{defaultChainId:x}=be(),h=(0,c.useCallback)(async u=>{_e&&ae(),t(u)},[t]),b=sn({selectedChain:n,onPress:h,includeAllNetworks:s,chainIds:o});return(0,e.jsx)(en,{options:b,showArrow:!a,styles:{alignment:"right",buttonPaddingY:"$none",...i},testID:"chain-selector",children:r?(0,e.jsx)(De,{color:"$neutral2",size:20}):(0,e.jsx)(H,{chainId:n??(s?null:x),size:an})})}export{De as AlertTriangle,Ke as BaseCard,In as LabeledCheckbox,Cn as NetworkFilter,Fe as SHADOW_OFFSET_SMALL,Xe as useDeviceInsets};
