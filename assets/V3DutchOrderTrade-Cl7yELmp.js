import{__commonJS as Ee,__esm as Qt,__export as se,__toCommonJS as Nt,__toESM as $e}from"./chunk-DgAfPHQg.js";import{ChainId as ee,CurrencyAmount as it,Fraction as Ar,MaxUint256 as Tr,Percent as un,Price as qt,TradeType as ie,init_jsbi as Gr,init_sdk_core_esm as fe,jsbi_default as st,jsbi_exports as Wi,sdk_core_esm_exports as ji,sortedInsert as gr,validateAndParseAddress as wr}from"./utils-BX1Fu73x.js";import{AddressZero as tn,BigNumber as W,ErrorCode as Kr,FixedNumber as zr,Logger as Zr,UnicodeNormalizationForm as Hi,Utf8ErrorFuncs as Xi,Utf8ErrorReason as Gi,Zero as Ki,_toEscapedUtf8String as zi,arrayify as Zi,concat as Yi,formatBytes32String as Qi,getAddress as Ji,getContractAddress as $i,getCreate2Address as ta,getIcapAddress as ea,hexConcat as na,hexDataLength as ra,hexDataSlice as ia,hexStripZeros as or,hexValue as aa,hexZeroPad as oa,hexlify as ua,init_lib as sa,init_lib$1 as pa,init_lib$2 as ca,init_lib$3 as da,init_lib$4 as la,init_lib$5 as Yr,init_lib$6 as Qr,init_lib$7 as Jr,isAddress as ma,isBytes as ya,isBytesLike as fa,isHexString as ha,joinSignature as va,keccak256 as Aa,lib_exports$1 as $r,lib_exports$3 as Ta,lib_exports$5 as ga,nameprep as wa,parseBytes32String as ba,splitSignature as ka,stripZeros as Ia,toUtf8Bytes as Pa,toUtf8CodePoints as Ea,toUtf8String as _a,zeroPad as Sa}from"./lib-DPFIyRke.js";import{TypedDataEncoder as en,checkProperties as xa,deepCopy as Oa,defineReadOnly as Ra,dnsEncode as Da,getStatic as Na,hashMessage as Ca,id as Ma,init_lib as ti,init_lib$1 as Fa,init_lib$2 as La,isValidName as qa,lib_exports as Ba,lib_exports$1 as Ua,namehash as Va,resolveProperties as Wa,shallowCopy as ja}from"./lib-CKG8APVv.js";import{AbiCoder as Ct,ConstructorFragment as Ha,ErrorFragment as Xa,EventFragment as Ga,FormatTypes as Ka,Fragment as za,FunctionFragment as Za,Indexed as Ya,Interface as mn,LogDescription as Qa,ParamType as Ja,TransactionDescription as $a,checkResultErrors as to,defaultAbiCoder as yn,init_lib as ur,lib_exports as eo}from"./lib-XGdDYWzD.js";import{IMulticall_default as no,NoTickDataProvider as ro,SqrtPriceMath as ae,TickListDataProvider as io,TickMath as ct,encodeSqrtRatioX96 as ze,init_IMulticall as ao,init_v3_sdk_esm as ei,maxLiquidityForAmounts as oo,v3Swap as uo,v3_sdk_esm_exports as so}from"./v3-sdk.esm-CHH6GWR1.js";import{SupportedAlgorithm as po,computeHmac as co,init_lib as lo,ripemd160 as mo,sha256 as yo,sha512 as fo}from"./useQuery-D_ZCw8XG.js";import{init_lib as sr,keccak256 as Fe,lib_exports as ho,pack as vo,sha256 as Ao}from"./lib-CWHZrl0T.js";import{init_v2_sdk_esm as To,v2_sdk_esm_exports as go}from"./v2-sdk.esm-CIiDMO7F.js";import{Base58 as wo,Signer as ni,SigningKey as bo,TransactionTypes as ko,VoidSigner as ri,_fetchData as Io,accessListify as Po,computeAddress as nn,computePublicKey as Eo,fetchJson as _o,init_lib as So,init_lib$1 as xo,init_lib$3 as Oo,init_lib$4 as Ro,init_lib$5 as Do,init_lib$6 as No,parse as Co,poll as Mo,randomBytes as Fo,recoverAddress as ii,recoverPublicKey as rn,serialize as Lo,shuffled as qo}from"./lib-BncBk3QF.js";import{HDNode as Bo,Wallet as ai,Wordlist as oi,commify as Uo,defaultPath as Vo,entropyToMnemonic as Wo,formatEther as jo,formatUnits as Ho,getAccountPath as Xo,getJsonWalletAddress as Go,init_lib as ui,init_lib$1 as Ko,init_lib$2 as zo,init_lib$3 as Zo,init_lib$4 as Yo,isValidMnemonic as Qo,mnemonicToEntropy as Jo,mnemonicToSeed as $o,parseEther as tu,parseUnits as eu,require_utils as nu,verifyMessage as pr,verifyTypedData as ru,wordlists as si}from"./utils-7WDx1QGa.js";import{BaseContract as pi,Contract as ci,ContractFactory as di,init_lib as li,lib_exports as iu}from"./lib-CgeiDO5B.js";import{getDefaultProvider as mi,init_lib as au,lib_exports as yi}from"./lib-Dj-AwQVD.js";var ou=Ee({"../../node_modules/tiny-invariant/dist/tiny-invariant.cjs.js"(t,n){var r=!0,e="Invariant failed";function i(o,p){if(!o){if(r)throw new Error(e);var A=typeof p=="function"?p():p,m=A?"".concat(e,": ").concat(A):e;throw new Error(m)}}n.exports=i}}),fi={};se(fi,{_format:()=>fn,abi:()=>An,bytecode:()=>Tn,contractName:()=>hn,default:()=>hi,deployedBytecode:()=>gn,deployedLinkReferences:()=>bn,linkReferences:()=>wn,sourceName:()=>vn});var fn,hn,vn,An,Tn,gn,wn,bn,hi,uu=Qt({"../../node_modules/@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IApproveAndCall.sol/IApproveAndCall.json"(){fn="hh-sol-artifact-1",hn="IApproveAndCall",vn="contracts/interfaces/IApproveAndCall.sol",An=[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"}],Tn="0x",gn="0x",wn={},bn={},hi={_format:fn,contractName:hn,sourceName:vn,abi:An,bytecode:Tn,deployedBytecode:gn,linkReferences:wn,deployedLinkReferences:bn}}}),vi={};se(vi,{_format:()=>kn,abi:()=>En,bytecode:()=>_n,contractName:()=>In,default:()=>Ai,deployedBytecode:()=>Sn,deployedLinkReferences:()=>On,linkReferences:()=>xn,sourceName:()=>Pn});var kn,In,Pn,En,_n,Sn,xn,On,Ai,su=Qt({"../../node_modules/@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IMulticallExtended.sol/IMulticallExtended.json"(){kn="hh-sol-artifact-1",In="IMulticallExtended",Pn="contracts/interfaces/IMulticallExtended.sol",En=[{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],_n="0x",Sn="0x",xn={},On={},Ai={_format:kn,contractName:In,sourceName:Pn,abi:En,bytecode:_n,deployedBytecode:Sn,linkReferences:xn,deployedLinkReferences:On}}}),Ti={};se(Ti,{_format:()=>Rn,abi:()=>Cn,bytecode:()=>Mn,contractName:()=>Dn,default:()=>gi,deployedBytecode:()=>Fn,deployedLinkReferences:()=>qn,linkReferences:()=>Ln,sourceName:()=>Nn});var Rn,Dn,Nn,Cn,Mn,Fn,Ln,qn,gi,pu=Qt({"../../node_modules/@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol/IPeripheryPaymentsWithFeeExtended.json"(){Rn="hh-sol-artifact-1",Dn="IPeripheryPaymentsWithFeeExtended",Nn="contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol",Cn=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"}],Mn="0x",Fn="0x",Ln={},qn={},gi={_format:Rn,contractName:Dn,sourceName:Nn,abi:Cn,bytecode:Mn,deployedBytecode:Fn,linkReferences:Ln,deployedLinkReferences:qn}}}),wi={};se(wi,{_format:()=>Bn,abi:()=>Wn,bytecode:()=>jn,contractName:()=>Un,default:()=>bi,deployedBytecode:()=>Hn,deployedLinkReferences:()=>Gn,linkReferences:()=>Xn,sourceName:()=>Vn});var Bn,Un,Vn,Wn,jn,Hn,Xn,Gn,bi,cu=Qt({"../../node_modules/@uniswap/swap-router-contracts/artifacts/contracts/interfaces/ISwapRouter02.sol/ISwapRouter02.json"(){Bn="hh-sol-artifact-1",Un="ISwapRouter02",Vn="contracts/interfaces/ISwapRouter02.sol",Wn=[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"}],jn="0x",Hn="0x",Xn={},Gn={},bi={_format:Bn,contractName:Un,sourceName:Vn,abi:Wn,bytecode:jn,deployedBytecode:Hn,linkReferences:Xn,deployedLinkReferences:Gn}}});function nt(t,n){if(!t){if(ki)throw new Error(Ve);var r=typeof n=="function"?n():n,e=r?"".concat(Ve,": ").concat(r):Ve;throw new Error(e)}}var ki,Ve,du=Qt({"../../node_modules/@uniswap/v4-sdk/node_modules/tiny-invariant/dist/esm/tiny-invariant.js"(){ki=!0,Ve="Invariant failed"}}),cr={};se(cr,{AbiCoder:()=>Ct,ConstructorFragment:()=>Ha,ErrorFragment:()=>Xa,EventFragment:()=>Ga,FormatTypes:()=>Ka,Fragment:()=>za,FunctionFragment:()=>Za,HDNode:()=>Bo,Indexed:()=>Ya,Interface:()=>mn,LogDescription:()=>Qa,Logger:()=>Zr,ParamType:()=>Ja,RLP:()=>Ta,SigningKey:()=>bo,SupportedAlgorithm:()=>po,TransactionDescription:()=>$a,TransactionTypes:()=>ko,UnicodeNormalizationForm:()=>Hi,Utf8ErrorFuncs:()=>Xi,Utf8ErrorReason:()=>Gi,_TypedDataEncoder:()=>en,_fetchData:()=>Io,_toEscapedUtf8String:()=>zi,accessListify:()=>Po,arrayify:()=>Zi,base58:()=>wo,base64:()=>Ua,checkProperties:()=>xa,checkResultErrors:()=>to,commify:()=>Uo,computeAddress:()=>nn,computeHmac:()=>co,computePublicKey:()=>Eo,concat:()=>Yi,deepCopy:()=>Oa,defaultAbiCoder:()=>yn,defaultPath:()=>Vo,defineReadOnly:()=>Ra,dnsEncode:()=>Da,entropyToMnemonic:()=>Wo,fetchJson:()=>_o,formatBytes32String:()=>Qi,formatEther:()=>jo,formatUnits:()=>Ho,getAccountPath:()=>Xo,getAddress:()=>Ji,getContractAddress:()=>$i,getCreate2Address:()=>ta,getIcapAddress:()=>ea,getJsonWalletAddress:()=>Go,getStatic:()=>Na,hashMessage:()=>Ca,hexConcat:()=>na,hexDataLength:()=>ra,hexDataSlice:()=>ia,hexStripZeros:()=>or,hexValue:()=>aa,hexZeroPad:()=>oa,hexlify:()=>ua,id:()=>Ma,isAddress:()=>ma,isBytes:()=>ya,isBytesLike:()=>fa,isHexString:()=>ha,isValidMnemonic:()=>Qo,isValidName:()=>qa,joinSignature:()=>va,keccak256:()=>Aa,mnemonicToEntropy:()=>Jo,mnemonicToSeed:()=>$o,namehash:()=>Va,nameprep:()=>wa,parseBytes32String:()=>ba,parseEther:()=>tu,parseTransaction:()=>Co,parseUnits:()=>eu,poll:()=>Mo,randomBytes:()=>Fo,recoverAddress:()=>ii,recoverPublicKey:()=>rn,resolveProperties:()=>Wa,ripemd160:()=>mo,serializeTransaction:()=>Lo,sha256:()=>yo,sha512:()=>fo,shallowCopy:()=>ja,shuffled:()=>qo,solidityKeccak256:()=>Fe,solidityPack:()=>vo,soliditySha256:()=>Ao,splitSignature:()=>ka,stripZeros:()=>Ia,toUtf8Bytes:()=>Pa,toUtf8CodePoints:()=>Ea,toUtf8String:()=>_a,verifyMessage:()=>pr,verifyTypedData:()=>ru,zeroPad:()=>Sa});var lu=Qt({"../../node_modules/ethers/lib.esm/utils.js"(){ur(),ca(),Fa(),No(),Qr(),ti(),Zo(),zo(),la(),Jr(),lo(),sr(),Oo(),La(),da(),Do(),sa(),Ro(),Ko(),ui(),So()}}),an,mu=Qt({"../../node_modules/ethers/lib.esm/_version.js"(){an="ethers/5.7.2"}}),dr={};se(dr,{BaseContract:()=>pi,BigNumber:()=>W,Contract:()=>ci,ContractFactory:()=>di,FixedNumber:()=>zr,Signer:()=>ni,VoidSigner:()=>ri,Wallet:()=>ai,Wordlist:()=>oi,constants:()=>$r,errors:()=>Kr,getDefaultProvider:()=>mi,logger:()=>lr,providers:()=>yi,utils:()=>cr,version:()=>an,wordlists:()=>si});var lr,yu=Qt({"../../node_modules/ethers/lib.esm/ethers.js"(){li(),Yr(),xo(),ui(),pa(),au(),Yo(),lu(),Jr(),mu(),lr=new Zr(an)}}),fu={};se(fu,{BaseContract:()=>pi,BigNumber:()=>W,Contract:()=>ci,ContractFactory:()=>di,FixedNumber:()=>zr,Signer:()=>ni,VoidSigner:()=>ri,Wallet:()=>ai,Wordlist:()=>oi,constants:()=>$r,errors:()=>Kr,ethers:()=>dr,getDefaultProvider:()=>mi,logger:()=>lr,providers:()=>yi,utils:()=>cr,version:()=>an,wordlists:()=>si});var ne=Qt({"../../node_modules/ethers/lib.esm/index.js"(){yu();try{const t=window;t._ethers==null&&(t._ethers=dr)}catch{}}}),Ii={};se(Ii,{Actions:()=>at,DYNAMIC_FEE_FLAG:()=>We,Hook:()=>Jn,HookOptions:()=>tt,Pool:()=>oe,Position:()=>$n,Route:()=>je,Subparser:()=>Lt,Trade:()=>Ei,V4BaseActionsParser:()=>_i,V4Planner:()=>tr,V4PositionManager:()=>er,V4PositionPlanner:()=>Re,V4_BASE_ACTIONS_ABI_DEFINITION:()=>Qe,amountWithPathCurrency:()=>Zn,encodeRouteToPath:()=>He,getPathCurrency:()=>Ze,hookFlagIndex:()=>Qn,priceToClosestTick:()=>gu,sortsBefore:()=>Ie,tickToPrice:()=>Ye,toAddress:()=>be,toHex:()=>Yt,tradeComparator:()=>Yn});function br(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function kr(t,n,r,e,i,o,p){try{var A=t[o](p),m=A.value}catch(w){return void r(w)}A.done?n(m):Promise.resolve(m).then(e,i)}function Zt(t){return function(){var n=this,r=arguments;return new Promise(function(e,i){var o=t.apply(n,r);function p(m){kr(o,e,i,p,A,"next",m)}function A(m){kr(o,e,i,p,A,"throw",m)}p(void 0)})}}function Ir(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Au(e.key),e)}}function Le(t,n,r){return n&&Ir(t.prototype,n),r&&Ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xe(t,n){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Tu(t))||n&&t&&typeof t.length=="number"){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kn(){return Kn=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},Kn.apply(null,arguments)}function hu(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,zn(t,n)}function bt(){bt=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,i=Object.defineProperty||function(y,h,k){y[h]=k.value},o=typeof Symbol=="function"?Symbol:{},p=o.iterator||"@@iterator",A=o.asyncIterator||"@@asyncIterator",m=o.toStringTag||"@@toStringTag";function w(y,h,k){return Object.defineProperty(y,h,{value:k,enumerable:!0,configurable:!0,writable:!0}),y[h]}try{w({},"")}catch{w=function(h,k,x){return h[k]=x}}function R(y,h,k,x){var E=h&&h.prototype instanceof et?h:et,U=Object.create(E.prototype),G=new Ut(x||[]);return i(U,"_invoke",{value:gt(y,k,G)}),U}function q(y,h,k){try{return{type:"normal",arg:y.call(h,k)}}catch(x){return{type:"throw",arg:x}}}n.wrap=R;var M="suspendedStart",F="suspendedYield",Y="executing",j="completed",Z={};function et(){}function rt(){}function X(){}var lt={};w(lt,p,function(){return this});var At=Object.getPrototypeOf,mt=At&&At(At(Vt([])));mt&&mt!==r&&e.call(mt,p)&&(lt=mt);var Tt=X.prototype=et.prototype=Object.create(lt);function S(y){["next","throw","return"].forEach(function(h){w(y,h,function(k){return this._invoke(h,k)})})}function Mt(y,h){function k(E,U,G,H){var yt=q(y[E],y,U);if(yt.type!=="throw"){var ht=yt.arg,Ot=ht.value;return Ot&&typeof Ot=="object"&&e.call(Ot,"__await")?h.resolve(Ot.__await).then(function(Et){k("next",Et,G,H)},function(Et){k("throw",Et,G,H)}):h.resolve(Ot).then(function(Et){ht.value=Et,G(ht)},function(Et){return k("throw",Et,G,H)})}H(yt.arg)}var x;i(this,"_invoke",{value:function(E,U){function G(){return new h(function(H,yt){k(E,U,H,yt)})}return x=x?x.then(G,G):G()}})}function gt(y,h,k){var x=M;return function(E,U){if(x===Y)throw Error("Generator is already running");if(x===j){if(E==="throw")throw U;return{value:t,done:!0}}for(k.method=E,k.arg=U;;){var G=k.delegate;if(G){var H=Ht(G,k);if(H){if(H===Z)continue;return H}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(x===M)throw x=j,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);x=Y;var yt=q(y,h,k);if(yt.type==="normal"){if(x=k.done?j:F,yt.arg===Z)continue;return{value:yt.arg,done:k.done}}yt.type==="throw"&&(x=j,k.method="throw",k.arg=yt.arg)}}}function Ht(y,h){var k=h.method,x=y.iterator[k];if(x===t)return h.delegate=null,k==="throw"&&y.iterator.return&&(h.method="return",h.arg=t,Ht(y,h),h.method==="throw")||k!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+k+"' method")),Z;var E=q(x,y.iterator,h.arg);if(E.type==="throw")return h.method="throw",h.arg=E.arg,h.delegate=null,Z;var U=E.arg;return U?U.done?(h[y.resultName]=U.value,h.next=y.nextLoc,h.method!=="return"&&(h.method="next",h.arg=t),h.delegate=null,Z):U:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,Z)}function re(y){var h={tryLoc:y[0]};1 in y&&(h.catchLoc=y[1]),2 in y&&(h.finallyLoc=y[2],h.afterLoc=y[3]),this.tryEntries.push(h)}function Ft(y){var h=y.completion||{};h.type="normal",delete h.arg,y.completion=h}function Ut(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(re,this),this.reset(!0)}function Vt(y){if(y||y===""){var h=y[p];if(h)return h.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var k=-1,x=function E(){for(;++k<y.length;)if(e.call(y,k))return E.value=y[k],E.done=!1,E;return E.value=t,E.done=!0,E};return x.next=x}}throw new TypeError(typeof y+" is not iterable")}return rt.prototype=X,i(Tt,"constructor",{value:X,configurable:!0}),i(X,"constructor",{value:rt,configurable:!0}),rt.displayName=w(X,m,"GeneratorFunction"),n.isGeneratorFunction=function(y){var h=typeof y=="function"&&y.constructor;return!!h&&(h===rt||(h.displayName||h.name)==="GeneratorFunction")},n.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,X):(y.__proto__=X,w(y,m,"GeneratorFunction")),y.prototype=Object.create(Tt),y},n.awrap=function(y){return{__await:y}},S(Mt.prototype),w(Mt.prototype,A,function(){return this}),n.AsyncIterator=Mt,n.async=function(y,h,k,x,E){E===void 0&&(E=Promise);var U=new Mt(R(y,h,k,x),E);return n.isGeneratorFunction(h)?U:U.next().then(function(G){return G.done?G.value:U.next()})},S(Tt),w(Tt,m,"Generator"),w(Tt,p,function(){return this}),w(Tt,"toString",function(){return"[object Generator]"}),n.keys=function(y){var h=Object(y),k=[];for(var x in h)k.push(x);return k.reverse(),function E(){for(;k.length;){var U=k.pop();if(U in h)return E.value=U,E.done=!1,E}return E.done=!0,E}},n.values=Vt,Ut.prototype={constructor:Ut,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Ft),!y)for(var h in this)h.charAt(0)==="t"&&e.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=t)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var h=this;function k(yt,ht){return U.type="throw",U.arg=y,h.next=yt,ht&&(h.method="next",h.arg=t),!!ht}for(var x=this.tryEntries.length-1;x>=0;--x){var E=this.tryEntries[x],U=E.completion;if(E.tryLoc==="root")return k("end");if(E.tryLoc<=this.prev){var G=e.call(E,"catchLoc"),H=e.call(E,"finallyLoc");if(G&&H){if(this.prev<E.catchLoc)return k(E.catchLoc,!0);if(this.prev<E.finallyLoc)return k(E.finallyLoc)}else if(G){if(this.prev<E.catchLoc)return k(E.catchLoc,!0)}else{if(!H)throw Error("try statement without catch or finally");if(this.prev<E.finallyLoc)return k(E.finallyLoc)}}}},abrupt:function(y,h){for(var k=this.tryEntries.length-1;k>=0;--k){var x=this.tryEntries[k];if(x.tryLoc<=this.prev&&e.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var E=x;break}}E&&(y==="break"||y==="continue")&&E.tryLoc<=h&&h<=E.finallyLoc&&(E=null);var U=E?E.completion:{};return U.type=y,U.arg=h,E?(this.method="next",this.next=E.finallyLoc,Z):this.complete(U)},complete:function(y,h){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&h&&(this.next=h),Z},finish:function(y){for(var h=this.tryEntries.length-1;h>=0;--h){var k=this.tryEntries[h];if(k.finallyLoc===y)return this.complete(k.completion,k.afterLoc),Ft(k),Z}},catch:function(y){for(var h=this.tryEntries.length-1;h>=0;--h){var k=this.tryEntries[h];if(k.tryLoc===y){var x=k.completion;if(x.type==="throw"){var E=x.arg;Ft(k)}return E}}throw Error("illegal catch attempt")},delegateYield:function(y,h,k){return this.delegate={iterator:Vt(y),resultName:h,nextLoc:k},this.method==="next"&&(this.arg=t),Z}},n}function zn(t,n){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},zn(t,n)}function vu(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,n||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Au(t){var n=vu(t,"string");return typeof n=="symbol"?n:n+""}function Tu(t,n){if(t){if(typeof t=="string")return br(t,n);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(t,n):void 0}}function Ie(t,n){return t.isNative?!0:n.isNative?!1:t.wrapped.sortsBefore(n.wrapped)}function Zn(t,n){return it.fromFractionalAmount(Ze(t.currency,n),t.numerator,t.denominator)}function Ze(t,n){if(n.involvesCurrency(t))return t;if(n.involvesCurrency(t.wrapped))return t.wrapped;if(n.currency0.wrapped.equals(t))return n.currency0;if(n.currency1.wrapped.equals(t))return n.currency1;throw new Error("Expected currency "+t.symbol+" to be either "+n.currency0.symbol+" or "+n.currency1.symbol)}function Yn(t,n){if(!t.inputAmount.currency.equals(n.inputAmount.currency)&&nt(!1),!t.outputAmount.currency.equals(n.outputAmount.currency)&&nt(!1),t.outputAmount.equalTo(n.outputAmount)){if(t.inputAmount.equalTo(n.inputAmount)){var r=t.swaps.reduce(function(i,o){return i+o.route.currencyPath.length},0),e=n.swaps.reduce(function(i,o){return i+o.route.currencyPath.length},0);return r-e}return t.inputAmount.lessThan(n.inputAmount)?-1:1}else return t.outputAmount.lessThan(n.outputAmount)?1:-1}function Ye(t,n,r){var e=ct.getSqrtRatioAtTick(r),i=st.multiply(e,e);return Ie(t,n)?new qt(t,n,De,i):new qt(t,n,i,De)}function gu(t){var n=Ie(t.baseCurrency,t.quoteCurrency),r=n?ze(t.numerator,t.denominator):ze(t.denominator,t.numerator),e=ct.getTickAtSqrtRatio(r),i=Ye(t.baseCurrency,t.quoteCurrency,e+1);return n?t.lessThan(i)||e++:t.greaterThan(i)||e++,e}function qe(t){return t.isNative?ue:t.wrapped.address}function wu(t,n){var r=ye.defaultAbiCoder.encode(Qe[t].map(function(e){return e.type}),n);return{action:t,encodedInput:r}}function be(t){return t.isNative?ue:t.wrapped.address}function Yt(t){var n=st.BigInt(t),r=n.toString(16);return r.length%2!==0&&(r="0"+r),"0x"+r}function bu(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=t[4];return{currency0:n,currency1:r,fee:parseInt(e),tickSpacing:parseInt(i),hooks:o}}function Pi(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=t[4];return{intermediateCurrency:n,fee:parseInt(r),tickSpacing:parseInt(e),hooks:i,hookData:o}}function ku(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=t[4],p=n[0],A=n[1],m=n[2],w=n[3],R=n[4];return{poolKey:{currency0:p,currency1:A,fee:m,tickSpacing:w,hooks:R},zeroForOne:r,amountIn:e,amountOutMinimum:i,hookData:o}}function Iu(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=r.map(function(p){return Pi(p)});return{path:o,currencyIn:n,amountIn:e,amountOutMinimum:i}}function Pu(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=t[4],p=n.currency0,A=n.currency1,m=n.fee,w=n.tickSpacing,R=n.hooks;return{poolKey:{currency0:p,currency1:A,fee:m,tickSpacing:w,hooks:R},zeroForOne:r,amountOut:e,amountInMaximum:i,hookData:o}}function Eu(t){var n=t[0],r=t[1],e=t[2],i=t[3],o=r.map(function(p){return Pi(p)});return{path:o,currencyOut:n,amountOut:e,amountInMaximum:i}}function sn(t){return Object.keys(t).some(function(n){return n==="recipient"})}function _u(t){return t.createPool?(t.sqrtPriceX96===void 0&&nt(!1),!0):!1}var ye,xt,tt,Qn,Jn,Te,ue,pn,te,Be,me,Pr,De,Er,ge,we,Su,We,_r,oe,je,Ei,$n,He,It,at,Lt,Ue,cn,Sr,xr,Or,Rr,Qe,dn,tr,Re,_i,ln,Oe,Dr,Nr,er,xu=Qt({"../../node_modules/@uniswap/v4-sdk/dist/v4-sdk.esm.js"(){du(),sr(),fe(),ei(),ye=$e(nu()),Gr(),ne(),ur(),ao(),(function(t){t.AfterRemoveLiquidityReturnsDelta="afterRemoveLiquidityReturnsDelta",t.AfterAddLiquidityReturnsDelta="afterAddLiquidityReturnsDelta",t.AfterSwapReturnsDelta="afterSwapReturnsDelta",t.BeforeSwapReturnsDelta="beforeSwapReturnsDelta",t.AfterDonate="afterDonate",t.BeforeDonate="beforeDonate",t.AfterSwap="afterSwap",t.BeforeSwap="beforeSwap",t.AfterRemoveLiquidity="afterRemoveLiquidity",t.BeforeRemoveLiquidity="beforeRemoveLiquidity",t.AfterAddLiquidity="afterAddLiquidity",t.BeforeAddLiquidity="beforeAddLiquidity",t.AfterInitialize="afterInitialize",t.BeforeInitialize="beforeInitialize"})(tt||(tt={})),Qn=(xt={},xt[tt.AfterRemoveLiquidityReturnsDelta]=0,xt[tt.AfterAddLiquidityReturnsDelta]=1,xt[tt.AfterSwapReturnsDelta]=2,xt[tt.BeforeSwapReturnsDelta]=3,xt[tt.AfterDonate]=4,xt[tt.BeforeDonate]=5,xt[tt.AfterSwap]=6,xt[tt.BeforeSwap]=7,xt[tt.AfterRemoveLiquidity]=8,xt[tt.BeforeRemoveLiquidity]=9,xt[tt.AfterAddLiquidity]=10,xt[tt.BeforeAddLiquidity]=11,xt[tt.AfterInitialize]=12,xt[tt.BeforeInitialize]=13,xt),Jn=(function(){function t(){}return t.permissions=function(r){return this._checkAddress(r),{beforeInitialize:this._hasPermission(r,tt.BeforeInitialize),afterInitialize:this._hasPermission(r,tt.AfterInitialize),beforeAddLiquidity:this._hasPermission(r,tt.BeforeAddLiquidity),afterAddLiquidity:this._hasPermission(r,tt.AfterAddLiquidity),beforeRemoveLiquidity:this._hasPermission(r,tt.BeforeRemoveLiquidity),afterRemoveLiquidity:this._hasPermission(r,tt.AfterRemoveLiquidity),beforeSwap:this._hasPermission(r,tt.BeforeSwap),afterSwap:this._hasPermission(r,tt.AfterSwap),beforeDonate:this._hasPermission(r,tt.BeforeDonate),afterDonate:this._hasPermission(r,tt.AfterDonate),beforeSwapReturnsDelta:this._hasPermission(r,tt.BeforeSwapReturnsDelta),afterSwapReturnsDelta:this._hasPermission(r,tt.AfterSwapReturnsDelta),afterAddLiquidityReturnsDelta:this._hasPermission(r,tt.AfterAddLiquidityReturnsDelta),afterRemoveLiquidityReturnsDelta:this._hasPermission(r,tt.AfterRemoveLiquidityReturnsDelta)}},t.hasPermission=function(r,e){return this._checkAddress(r),this._hasPermission(r,e)},t.hasInitializePermissions=function(r){return this._checkAddress(r),this._hasPermission(r,tt.BeforeInitialize)||t._hasPermission(r,tt.AfterInitialize)},t.hasLiquidityPermissions=function(r){return this._checkAddress(r),this._hasPermission(r,tt.BeforeAddLiquidity)||t._hasPermission(r,tt.AfterAddLiquidity)||t._hasPermission(r,tt.BeforeRemoveLiquidity)||t._hasPermission(r,tt.AfterRemoveLiquidity)},t.hasSwapPermissions=function(r){return this._checkAddress(r),this._hasPermission(r,tt.BeforeSwap)||t._hasPermission(r,tt.AfterSwap)},t.hasDonatePermissions=function(r){return this._checkAddress(r),this._hasPermission(r,tt.BeforeDonate)||t._hasPermission(r,tt.AfterDonate)},t._hasPermission=function(r,e){return!!(parseInt(r,16)&1<<Qn[e])},t._checkAddress=function(r){!(0,ye.isAddress)(r)&&nt(!1)},t})(),ue=tn,pn=st.BigInt(-1),te=st.BigInt(0),Be=st.BigInt(1),me="0x",Pr=st.exponentiate(st.BigInt(2),st.BigInt(96)),De=st.exponentiate(Pr,st.BigInt(2)),Er=Ki,(function(t){t.INITIALIZE_POOL="initializePool",t.MODIFY_LIQUIDITIES="modifyLiquidities",t.PERMIT_BATCH="0x002a3e3a",t.ERC721PERMIT_PERMIT="0x0f5730f1"})(ge||(ge={})),(function(t){t[t.LOWEST=100]="LOWEST",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH"})(we||(we={})),Su=(Te={},Te[we.LOWEST]=1,Te[we.LOW]=10,Te[we.MEDIUM]=60,Te[we.HIGH]=200,Te),We=8388608,_r=new ro,oe=(function(){function t(r,e,i,o,p,A,m,w,R){R===void 0&&(R=_r),!(0,ye.isAddress)(p)&&nt(!1),!(Number.isInteger(i)&&(i===We||i<1e6))&&nt(!1),i===We&&!(Number(p)>0)&&nt(!1);var q=ct.getSqrtRatioAtTick(w),M=ct.getSqrtRatioAtTick(w+1);!(st.greaterThanOrEqual(st.BigInt(A),q)&&st.lessThanOrEqual(st.BigInt(A),M))&&nt(!1);var F=Ie(r,e)?[r,e]:[e,r];this.currency0=F[0],this.currency1=F[1],this.fee=i,this.sqrtRatioX96=st.BigInt(A),this.tickSpacing=o,this.hooks=p,this.liquidity=st.BigInt(m),this.tickCurrent=w,this.tickDataProvider=Array.isArray(R)?new io(R,o):R,this.poolKey=t.getPoolKey(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks),this.poolId=t.getPoolId(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks)}t.getPoolKey=function(e,i,o,p,A){!(0,ye.isAddress)(A)&&nt(!1);var m=Ie(e,i)?[e,i]:[i,e],w=m[0],R=m[1],q=w.isNative?ue:w.wrapped.address,M=R.isNative?ue:R.wrapped.address;return{currency0:q,currency1:M,fee:o,tickSpacing:p,hooks:A}},t.getPoolId=function(e,i,o,p,A){var m=Ie(e,i)?[e,i]:[i,e],w=m[0],R=m[1],q=w.isNative?ue:w.wrapped.address,M=R.isNative?ue:R.wrapped.address;return Fe(["bytes"],[ye.defaultAbiCoder.encode(["address","address","uint24","int24","address"],[q,M,o,p,A])])};var n=t.prototype;return n.involvesCurrency=function(e){return e.equals(this.currency0)||e.equals(this.currency1)},n.involvesToken=function(e){return this.involvesCurrency(e)},n.v4InvolvesToken=function(e){return this.involvesCurrency(e)||e.wrapped.equals(this.currency0)||e.wrapped.equals(this.currency1)||e.wrapped.equals(this.currency0.wrapped)||e.wrapped.equals(this.currency1.wrapped)},n.priceOf=function(e){return!this.involvesCurrency(e)&&nt(!1),e.equals(this.currency0)?this.currency0Price:this.currency1Price},n.getOutputAmount=(function(){var r=Zt(bt().mark(function i(o,p){var A,m,w,R,q,M,F;return bt().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return!this.involvesCurrency(o.currency)&&nt(!1),A=o.currency.equals(this.currency0),j.next=4,this.swap(A,o.quotient,p);case 4:return m=j.sent,w=m.amountCalculated,R=m.sqrtRatioX96,q=m.liquidity,M=m.tickCurrent,F=A?this.currency1:this.currency0,j.abrupt("return",[it.fromRawAmount(F,st.multiply(w,pn)),new t(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,R,q,M,this.tickDataProvider)]);case 11:case"end":return j.stop()}},i,this)}));function e(i,o){return r.apply(this,arguments)}return e})(),n.getInputAmount=(function(){var r=Zt(bt().mark(function i(o,p){var A,m,w,R,q,M,F;return bt().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return!this.involvesCurrency(o.currency)&&nt(!1),A=o.currency.equals(this.currency1),j.next=4,this.swap(A,st.multiply(o.quotient,pn),p);case 4:return m=j.sent,w=m.amountCalculated,R=m.sqrtRatioX96,q=m.liquidity,M=m.tickCurrent,F=A?this.currency0:this.currency1,j.abrupt("return",[it.fromRawAmount(F,w),new t(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,R,q,M,this.tickDataProvider)]);case 11:case"end":return j.stop()}},i,this)}));function e(i,o){return r.apply(this,arguments)}return e})(),n.swap=(function(){var r=Zt(bt().mark(function i(o,p,A){return bt().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(this.hookImpactsSwap()){w.next=4;break}return w.abrupt("return",uo(st.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,o,p,A));case 4:throw new Error("Unsupported hook");case 5:case"end":return w.stop()}},i,this)}));function e(i,o,p){return r.apply(this,arguments)}return e})(),n.hookImpactsSwap=function(){return Jn.hasSwapPermissions(this.hooks)},Le(t,[{key:"token0",get:function(){return this.currency0}},{key:"token1",get:function(){return this.currency1}},{key:"currency0Price",get:function(){var e;return(e=this._currency0Price)!=null?e:this._currency0Price=new qt(this.currency0,this.currency1,De,st.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token0Price",get:function(){return this.currency0Price}},{key:"currency1Price",get:function(){var e;return(e=this._currency1Price)!=null?e:this._currency1Price=new qt(this.currency1,this.currency0,st.multiply(this.sqrtRatioX96,this.sqrtRatioX96),De)}},{key:"token1Price",get:function(){return this.currency1Price}},{key:"chainId",get:function(){return this.currency0.chainId}}])})(),je=(function(){function t(n,r,e){this._midPrice=null,!(n.length>0)&&nt(!1);var i=n[0].chainId,o=n.every(function(Y){return Y.chainId===i});!o&&nt(!1),this.pathInput=Ze(r,n[0]),this.pathOutput=Ze(e,n[n.length-1]);for(var p=[this.pathInput],A=xe(n.entries()),m;!(m=A()).done;){var w=m.value,R=w[0],q=w[1],M=p[R];!(M.equals(q.currency0)||M.equals(q.currency1))&&nt(!1);var F=M.equals(q.currency0)?q.currency1:q.currency0;p.push(F)}this.pools=n,this.currencyPath=p,this.input=r,this.output=e??p[p.length-1]}return Le(t,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;var r=this.pools.slice(1).reduce(function(e,i){var o=e.nextInput,p=e.price;return o.equals(i.currency0)?{nextInput:i.currency1,price:p.multiply(i.currency0Price)}:{nextInput:i.currency0,price:p.multiply(i.currency1Price)}},this.pools[0].currency0.equals(this.input)?{nextInput:this.pools[0].currency1,price:this.pools[0].currency0Price}:{nextInput:this.pools[0].currency0,price:this.pools[0].currency1Price}).price;return this._midPrice=new qt(this.input,this.output,r.denominator,r.numerator)}}])})(),Ei=(function(){function t(r){var e=r.routes,i=r.tradeType,o=e[0].inputAmount.currency,p=e[0].outputAmount.currency;!e.every(function(j){var Z=j.route;return o.equals(Z.input)})&&nt(!1),!e.every(function(j){var Z=j.route;return p.equals(Z.output)})&&nt(!1);for(var A=e.map(function(j){var Z=j.route;return Z.pools.length}).reduce(function(j,Z){return j+Z},0),m=new Set,w=xe(e),R;!(R=w()).done;)for(var q=R.value.route,M=xe(q.pools),F;!(F=M()).done;){var Y=F.value;m.add(oe.getPoolId(Y.currency0,Y.currency1,Y.fee,Y.tickSpacing,Y.hooks))}A!==m.size&&nt(!1),this.swaps=e,this.tradeType=i}t.exactIn=(function(){var r=Zt(bt().mark(function i(o,p){return bt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",t.fromRoute(o,p,ie.EXACT_INPUT));case 1:case"end":return m.stop()}},i)}));function e(i,o){return r.apply(this,arguments)}return e})(),t.exactOut=(function(){var r=Zt(bt().mark(function i(o,p){return bt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",t.fromRoute(o,p,ie.EXACT_OUTPUT));case 1:case"end":return m.stop()}},i)}));function e(i,o){return r.apply(this,arguments)}return e})(),t.fromRoute=(function(){var r=Zt(bt().mark(function i(o,p,A){var m,w,R,q,M,F,Y,j,Z,et;return bt().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(A!==ie.EXACT_INPUT){X.next=17;break}!p.currency.equals(o.input)&&nt(!1),R=Zn(p,o.pools[0]),q=0;case 4:if(!(q<o.pools.length)){X.next=13;break}return M=o.pools[q],X.next=8,M.getOutputAmount(R);case 8:F=X.sent,R=F[0];case 10:q++,X.next=4;break;case 13:m=it.fromFractionalAmount(o.input,p.numerator,p.denominator),w=it.fromFractionalAmount(o.output,R.numerator,R.denominator),X.next=31;break;case 17:!p.currency.equals(o.output)&&nt(!1),Y=Zn(p,o.pools[o.pools.length-1]),j=o.pools.length-1;case 20:if(!(j>=0)){X.next=29;break}return Z=o.pools[j],X.next=24,Z.getInputAmount(Y);case 24:et=X.sent,Y=et[0];case 26:j--,X.next=20;break;case 29:m=it.fromFractionalAmount(o.input,Y.numerator,Y.denominator),w=it.fromFractionalAmount(o.output,p.numerator,p.denominator);case 31:return X.abrupt("return",new t({routes:[{inputAmount:m,outputAmount:w,route:o}],tradeType:A}));case 32:case"end":return X.stop()}},i)}));function e(i,o,p){return r.apply(this,arguments)}return e})(),t.fromRoutes=(function(){var r=Zt(bt().mark(function i(o,p){var A;return bt().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Promise.all(o.map((function(){var R=Zt(bt().mark(function q(M){var F,Y,j;return bt().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return F=M.amount,Y=M.route,et.next=3,t.fromRoute(Y,F,p);case 3:return j=et.sent,et.abrupt("return",j.swaps[0]);case 5:case"end":return et.stop()}},q)}));return function(q){return R.apply(this,arguments)}})()));case 2:return A=w.sent,w.abrupt("return",new t({routes:A,tradeType:p}));case 4:case"end":return w.stop()}},i)}));function e(i,o){return r.apply(this,arguments)}return e})(),t.createUncheckedTrade=function(e){return new t(Kn({},e,{routes:[{inputAmount:e.inputAmount,outputAmount:e.outputAmount,route:e.route}]}))},t.createUncheckedTradeWithMultipleRoutes=function(e){return new t(e)};var n=t.prototype;return n.minimumAmountOut=function(e,i){if(i===void 0&&(i=this.outputAmount),e.lessThan(te)&&nt(!1),this.tradeType===ie.EXACT_OUTPUT)return i;var o=new Ar(Be).add(e).invert().multiply(i.quotient).quotient;return it.fromRawAmount(i.currency,o)},n.maximumAmountIn=function(e,i){if(i===void 0&&(i=this.inputAmount),e.lessThan(te)&&nt(!1),this.tradeType===ie.EXACT_INPUT)return i;var o=new Ar(Be).add(e).multiply(i.quotient).quotient;return it.fromRawAmount(i.currency,o)},n.worstExecutionPrice=function(e){return new qt(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},t.bestTradeExactIn=(function(){var r=Zt(bt().mark(function i(o,p,A,m,w,R,q){var M,F,Y,j,Z,et,rt,X,lt,At,mt;return bt().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:M=m===void 0?{}:m,F=M.maxNumResults,Y=F===void 0?3:F,j=M.maxHops,Z=j===void 0?3:j,w===void 0&&(w=[]),R===void 0&&(R=p),q===void 0&&(q=[]),!(o.length>0)&&nt(!1),!(Z>0)&&nt(!1),!(p===R||w.length>0)&&nt(!1),et=R,rt=0;case 9:if(!(rt<o.length)){S.next=45;break}if(X=o[rt],!(!X.currency0.equals(et.currency)&&!X.currency1.equals(et.currency))){S.next=13;break}return S.abrupt("continue",42);case 13:return lt=void 0,S.prev=14,S.next=18,X.getOutputAmount(et);case 18:At=S.sent,lt=At[0],S.next=27;break;case 22:if(S.prev=22,S.t0=S.catch(14),!S.t0.isInsufficientInputAmountError){S.next=26;break}return S.abrupt("continue",42);case 26:throw S.t0;case 27:if(!lt.currency.equals(A)){S.next=38;break}return S.t1=gr,S.t2=q,S.next=32,t.fromRoute(new je([].concat(w,[X]),p.currency,A),p,ie.EXACT_INPUT);case 32:S.t3=S.sent,S.t4=Y,S.t5=Yn,(0,S.t1)(S.t2,S.t3,S.t4,S.t5),S.next=42;break;case 38:if(!(Z>1&&o.length>1)){S.next=42;break}return mt=o.slice(0,rt).concat(o.slice(rt+1,o.length)),S.next=42,t.bestTradeExactIn(mt,p,A,{maxNumResults:Y,maxHops:Z-1},[].concat(w,[X]),lt,q);case 42:rt++,S.next=9;break;case 45:return S.abrupt("return",q);case 46:case"end":return S.stop()}},i,null,[[14,22]])}));function e(i,o,p,A,m,w,R){return r.apply(this,arguments)}return e})(),t.bestTradeExactOut=(function(){var r=Zt(bt().mark(function i(o,p,A,m,w,R,q){var M,F,Y,j,Z,et,rt,X,lt,At,mt;return bt().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:M=m===void 0?{}:m,F=M.maxNumResults,Y=F===void 0?3:F,j=M.maxHops,Z=j===void 0?3:j,w===void 0&&(w=[]),R===void 0&&(R=A),q===void 0&&(q=[]),!(o.length>0)&&nt(!1),!(Z>0)&&nt(!1),!(A===R||w.length>0)&&nt(!1),et=R,rt=0;case 9:if(!(rt<o.length)){S.next=45;break}if(X=o[rt],!(!X.currency0.equals(et.currency)&&!X.currency1.equals(et.currency))){S.next=13;break}return S.abrupt("continue",42);case 13:return lt=void 0,S.prev=14,S.next=18,X.getInputAmount(et);case 18:At=S.sent,lt=At[0],S.next=27;break;case 22:if(S.prev=22,S.t0=S.catch(14),!S.t0.isInsufficientReservesError){S.next=26;break}return S.abrupt("continue",42);case 26:throw S.t0;case 27:if(!lt.currency.equals(p)){S.next=38;break}return S.t1=gr,S.t2=q,S.next=32,t.fromRoute(new je([X].concat(w),p,A.currency),A,ie.EXACT_OUTPUT);case 32:S.t3=S.sent,S.t4=Y,S.t5=Yn,(0,S.t1)(S.t2,S.t3,S.t4,S.t5),S.next=42;break;case 38:if(!(Z>1&&o.length>1)){S.next=42;break}return mt=o.slice(0,rt).concat(o.slice(rt+1,o.length)),S.next=42,t.bestTradeExactOut(mt,p,A,{maxNumResults:Y,maxHops:Z-1},[X].concat(w),lt,q);case 42:rt++,S.next=9;break;case 45:return S.abrupt("return",q);case 46:case"end":return S.stop()}},i,null,[[14,22]])}));function e(i,o,p,A,m,w,R){return r.apply(this,arguments)}return e})(),Le(t,[{key:"route",get:function(){return this.swaps.length!==1&&nt(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,i=this.swaps.map(function(o){var p=o.inputAmount;return p}).reduce(function(o,p){return o.add(p)},it.fromRawAmount(e,0));return this._inputAmount=i,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,i=this.swaps.map(function(o){var p=o.outputAmount;return p}).reduce(function(o,p){return o.add(p)},it.fromRawAmount(e,0));return this._outputAmount=i,this._outputAmount}},{key:"executionPrice",get:function(){var e;return(e=this._executionPrice)!=null?e:this._executionPrice=new qt(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e=it.fromRawAmount(this.outputAmount.currency,0),i=xe(this.swaps),o;!(o=i()).done;){var p=o.value,A=p.route,m=p.inputAmount,w=A.midPrice;e=e.add(w.quote(m))}var R=e.subtract(this.outputAmount).divide(e);return this._priceImpact=new un(R.numerator,R.denominator),this._priceImpact}}])})(),$n=(function(){function t(r){var e=r.pool,i=r.liquidity,o=r.tickLower,p=r.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,!(o<p)&&nt(!1),!(o>=ct.MIN_TICK&&o%e.tickSpacing===0)&&nt(!1),!(p<=ct.MAX_TICK&&p%e.tickSpacing===0)&&nt(!1),this.pool=e,this.tickLower=o,this.tickUpper=p,this.liquidity=st.BigInt(i)}var n=t.prototype;return n.ratiosAfterSlippage=function(e){var i=this.pool.token0Price.asFraction.multiply(new un(1).subtract(e)),o=this.pool.token0Price.asFraction.multiply(e.add(1)),p=ze(i.numerator,i.denominator);st.lessThanOrEqual(p,ct.MIN_SQRT_RATIO)&&(p=st.add(ct.MIN_SQRT_RATIO,st.BigInt(1)));var A=ze(o.numerator,o.denominator);return st.greaterThanOrEqual(A,ct.MAX_SQRT_RATIO)&&(A=st.subtract(ct.MAX_SQRT_RATIO,st.BigInt(1))),{sqrtRatioX96Lower:p,sqrtRatioX96Upper:A}},n.mintAmountsWithSlippage=function(e){var i=this.ratiosAfterSlippage(e),o=i.sqrtRatioX96Upper,p=i.sqrtRatioX96Lower,A=new oe(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,p,0,ct.getTickAtSqrtRatio(p)),m=new oe(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,o,0,ct.getTickAtSqrtRatio(o)),w=new t({pool:m,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1,R=new t({pool:A,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0;return{amount0:R,amount1:w}},n.burnAmountsWithSlippage=function(e){var i=this.ratiosAfterSlippage(e),o=i.sqrtRatioX96Upper,p=i.sqrtRatioX96Lower,A=new oe(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,p,0,ct.getTickAtSqrtRatio(p)),m=new oe(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,o,0,ct.getTickAtSqrtRatio(o)),w=new t({pool:m,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,R=new t({pool:A,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:w.quotient,amount1:R.quotient}},n.permitBatchData=function(e,i,o,p){var A=this.mintAmountsWithSlippage(e),m=A.amount0,w=A.amount1;return{details:[{token:this.pool.currency0.wrapped.address,amount:m,expiration:p,nonce:o},{token:this.pool.currency1.wrapped.address,amount:w,expiration:p,nonce:o}],spender:i,sigDeadline:p}},t.fromAmounts=function(e){var i=e.pool,o=e.tickLower,p=e.tickUpper,A=e.amount0,m=e.amount1,w=e.useFullPrecision,R=ct.getSqrtRatioAtTick(o),q=ct.getSqrtRatioAtTick(p);return new t({pool:i,tickLower:o,tickUpper:p,liquidity:oo(i.sqrtRatioX96,R,q,A,m,w)})},t.fromAmount0=function(e){var i=e.pool,o=e.tickLower,p=e.tickUpper,A=e.amount0,m=e.useFullPrecision;return t.fromAmounts({pool:i,tickLower:o,tickUpper:p,amount0:A,amount1:Tr,useFullPrecision:m})},t.fromAmount1=function(e){var i=e.pool,o=e.tickLower,p=e.tickUpper,A=e.amount1;return t.fromAmounts({pool:i,tickLower:o,tickUpper:p,amount0:Tr,amount1:A,useFullPrecision:!0})},Le(t,[{key:"token0PriceLower",get:function(){return Ye(this.pool.currency0,this.pool.currency1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return Ye(this.pool.currency0,this.pool.currency1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount||(this.pool.tickCurrent<this.tickLower?this._token0Amount=it.fromRawAmount(this.pool.currency0,ae.getAmount0Delta(ct.getSqrtRatioAtTick(this.tickLower),ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=it.fromRawAmount(this.pool.currency0,ae.getAmount0Delta(this.pool.sqrtRatioX96,ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=it.fromRawAmount(this.pool.currency0,te)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount||(this.pool.tickCurrent<this.tickLower?this._token1Amount=it.fromRawAmount(this.pool.currency1,te):this.pool.tickCurrent<this.tickUpper?this._token1Amount=it.fromRawAmount(this.pool.currency1,ae.getAmount1Delta(ct.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=it.fromRawAmount(this.pool.currency1,ae.getAmount1Delta(ct.getSqrtRatioAtTick(this.tickLower),ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return this._mintAmounts===null?this.pool.tickCurrent<this.tickLower?{amount0:ae.getAmount0Delta(ct.getSqrtRatioAtTick(this.tickLower),ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:te}:this.pool.tickCurrent<this.tickUpper?{amount0:ae.getAmount0Delta(this.pool.sqrtRatioX96,ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:ae.getAmount1Delta(ct.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:te,amount1:ae.getAmount1Delta(ct.getSqrtRatioAtTick(this.tickLower),ct.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}])})(),He=function(n,r){var e=n.pools.map(function(R){return R});r&&(e=e.reverse());for(var i=r?n.pathOutput:n.pathInput,o=[],p=xe(e),A;!(A=p()).done;){var m=A.value,w=i.equals(m.currency0)?m.currency1:m.currency0;o.push({intermediateCurrency:w.isNative?ue:w.address,fee:m.fee,tickSpacing:m.tickSpacing,hooks:m.hooks,hookData:"0x"}),i=w}return r?o.reverse():o},(function(t){t[t.INCREASE_LIQUIDITY=0]="INCREASE_LIQUIDITY",t[t.DECREASE_LIQUIDITY=1]="DECREASE_LIQUIDITY",t[t.MINT_POSITION=2]="MINT_POSITION",t[t.BURN_POSITION=3]="BURN_POSITION",t[t.SWAP_EXACT_IN_SINGLE=6]="SWAP_EXACT_IN_SINGLE",t[t.SWAP_EXACT_IN=7]="SWAP_EXACT_IN",t[t.SWAP_EXACT_OUT_SINGLE=8]="SWAP_EXACT_OUT_SINGLE",t[t.SWAP_EXACT_OUT=9]="SWAP_EXACT_OUT",t[t.SETTLE=11]="SETTLE",t[t.SETTLE_ALL=12]="SETTLE_ALL",t[t.SETTLE_PAIR=13]="SETTLE_PAIR",t[t.TAKE=14]="TAKE",t[t.TAKE_ALL=15]="TAKE_ALL",t[t.TAKE_PORTION=16]="TAKE_PORTION",t[t.TAKE_PAIR=17]="TAKE_PAIR",t[t.CLOSE_CURRENCY=18]="CLOSE_CURRENCY",t[t.SWEEP=20]="SWEEP",t[t.UNWRAP=22]="UNWRAP"})(at||(at={})),(function(t){t[t.V4SwapExactInSingle=0]="V4SwapExactInSingle",t[t.V4SwapExactIn=1]="V4SwapExactIn",t[t.V4SwapExactOutSingle=2]="V4SwapExactOutSingle",t[t.V4SwapExactOut=3]="V4SwapExactOut",t[t.PoolKey=4]="PoolKey"})(Lt||(Lt={})),Ue="(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)",cn="(address intermediateCurrency,uint256 fee,int24 tickSpacing,address hooks,bytes hookData)",Sr="("+Ue+" poolKey,bool zeroForOne,uint128 amountIn,uint128 amountOutMinimum,bytes hookData)",xr="(address currencyIn,"+cn+"[] path,uint128 amountIn,uint128 amountOutMinimum)",Or="("+Ue+" poolKey,bool zeroForOne,uint128 amountOut,uint128 amountInMaximum,bytes hookData)",Rr="(address currencyOut,"+cn+"[] path,uint128 amountOut,uint128 amountInMaximum)",Qe=(It={},It[at.INCREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"hookData",type:"bytes"}],It[at.DECREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],It[at.MINT_POSITION]=[{name:"poolKey",type:Ue,subparser:Lt.PoolKey},{name:"tickLower",type:"int24"},{name:"tickUpper",type:"int24"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"owner",type:"address"},{name:"hookData",type:"bytes"}],It[at.BURN_POSITION]=[{name:"tokenId",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],It[at.SWAP_EXACT_IN_SINGLE]=[{name:"swap",type:Sr,subparser:Lt.V4SwapExactInSingle}],It[at.SWAP_EXACT_IN]=[{name:"swap",type:xr,subparser:Lt.V4SwapExactIn}],It[at.SWAP_EXACT_OUT_SINGLE]=[{name:"swap",type:Or,subparser:Lt.V4SwapExactOutSingle}],It[at.SWAP_EXACT_OUT]=[{name:"swap",type:Rr,subparser:Lt.V4SwapExactOut}],It[at.SETTLE]=[{name:"currency",type:"address"},{name:"amount",type:"uint256"},{name:"payerIsUser",type:"bool"}],It[at.SETTLE_ALL]=[{name:"currency",type:"address"},{name:"maxAmount",type:"uint256"}],It[at.SETTLE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"}],It[at.TAKE]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],It[at.TAKE_ALL]=[{name:"currency",type:"address"},{name:"minAmount",type:"uint256"}],It[at.TAKE_PORTION]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}],It[at.TAKE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"},{name:"recipient",type:"address"}],It[at.CLOSE_CURRENCY]=[{name:"currency",type:"address"}],It[at.SWEEP]=[{name:"currency",type:"address"},{name:"recipient",type:"address"}],It[at.UNWRAP]=[{name:"amount",type:"uint256"}],It),dn=0,tr=(function(){function t(){this.actions=me,this.params=[]}var n=t.prototype;return n.addAction=function(e,i){var o=wu(e,i);return this.params.push(o.encodedInput),this.actions=this.actions.concat(o.action.toString(16).padStart(2,"0")),this},n.addTrade=function(e,i){var o=e.tradeType===ie.EXACT_OUTPUT;o&&!i&&nt(!1),e.swaps.length!==1&&nt(!1);var p=o?at.SWAP_EXACT_OUT:at.SWAP_EXACT_IN,A=qe(e.route.pathInput),m=qe(e.route.pathOutput);return this.addAction(p,[o?{currencyOut:m,path:He(e.route,o),amountInMaximum:e.maximumAmountIn(i??new un(0)).quotient.toString(),amountOut:e.outputAmount.quotient.toString()}:{currencyIn:A,path:He(e.route,o),amountIn:e.inputAmount.quotient.toString(),amountOutMinimum:i?e.minimumAmountOut(i).quotient.toString():0}]),this},n.addSettle=function(e,i,o){return this.addAction(at.SETTLE,[qe(e),o??dn,i]),this},n.addTake=function(e,i,o){var p=o??dn;return this.addAction(at.TAKE,[qe(e),i,p]),this},n.addUnwrap=function(e){return this.addAction(at.UNWRAP,[e]),this},n.finalize=function(){return ye.defaultAbiCoder.encode(["bytes","bytes[]"],[this.actions,this.params])},t})(),Re=(function(t){function n(){return t.apply(this,arguments)||this}hu(n,t);var r=n.prototype;return r.addMint=function(i,o,p,A,m,w,R,q){q===void 0&&(q=me);var M=[oe.getPoolKey(i.currency0,i.currency1,i.fee,i.tickSpacing,i.hooks),o,p,A.toString(),m.toString(),w.toString(),R,q];this.addAction(at.MINT_POSITION,M)},r.addIncrease=function(i,o,p,A,m){m===void 0&&(m=me);var w=[i.toString(),o.toString(),p.toString(),A.toString(),m];this.addAction(at.INCREASE_LIQUIDITY,w)},r.addDecrease=function(i,o,p,A,m){m===void 0&&(m=me);var w=[i.toString(),o.toString(),p.toString(),A.toString(),m];this.addAction(at.DECREASE_LIQUIDITY,w)},r.addBurn=function(i,o,p,A){A===void 0&&(A=me);var m=[i.toString(),o.toString(),p.toString(),A];this.addAction(at.BURN_POSITION,m)},r.addSettlePair=function(i,o){var p=[be(i),be(o)];this.addAction(at.SETTLE_PAIR,p)},r.addTakePair=function(i,o,p){var A=[be(i),be(o),p];this.addAction(at.TAKE_PAIR,A)},r.addSweep=function(i,o){var p=[be(i),o];this.addAction(at.SWEEP,p)},n})(tr),_i=(function(){function t(){}return t.parseCalldata=function(r){var e=yn.decode(["bytes","bytes[]"],r),i=e[0],o=e[1],p=t.getActions(i);return{actions:p.map(function(A,m){var w=Qe[A],R=yn.decode(w.map(function(M){return M.type}),o[m]),q=R.map(function(M,F){switch(w[F].subparser){case Lt.V4SwapExactInSingle:return{name:w[F].name,value:ku(M)};case Lt.V4SwapExactIn:return{name:w[F].name,value:Iu(M)};case Lt.V4SwapExactOutSingle:return{name:w[F].name,value:Pu(M)};case Lt.V4SwapExactOut:return{name:w[F].name,value:Eu(M)};case Lt.PoolKey:return{name:w[F].name,value:bu(M)};default:return{name:w[F].name,value:M}}});return{actionName:at[A],actionType:A,params:q}})}},t.getActions=function(r){for(var e=[],i=2;i<r.length;i+=2){var o=r.substring(i,i+2);e.push(parseInt(o,16))}return e},t})(),ln="0x0000000000000000000000000000000000000001",Oe=(function(){function t(){}return t.encodeMulticall=function(r){return Array.isArray(r)||(r=[r]),r.length===1?r[0]:t.INTERFACE.encodeFunctionData("multicall",[r])},t.decodeMulticall=function(r){return t.INTERFACE.decodeFunctionData("multicall",r)[0]},t})(),Oe.INTERFACE=new mn(no.abi),Dr=[{type:"constructor",inputs:[{name:"_poolManager",type:"address",internalType:"contract IPoolManager"},{name:"_permit2",type:"address",internalType:"contract IAllowanceTransfer"},{name:"_unsubscribeGasLimit",type:"uint256",internalType:"uint256"},{name:"_tokenDescriptor",type:"address",internalType:"contract IPositionDescriptor"},{name:"_weth9",type:"address",internalType:"contract IWETH9"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"WETH9",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IWETH9"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPoolAndPositionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"poolKey",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"getPositionLiquidity",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"liquidity",type:"uint128",internalType:"uint128"}],stateMutability:"view"},{type:"function",name:"initializePool",inputs:[{name:"key",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"sqrtPriceX96",type:"uint160",internalType:"uint160"}],outputs:[{name:"",type:"int24",internalType:"int24"}],stateMutability:"payable"},{type:"function",name:"isApprovedForAll",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"modifyLiquidities",inputs:[{name:"unlockData",type:"bytes",internalType:"bytes"},{name:"deadline",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"modifyLiquiditiesWithoutUnlock",inputs:[{name:"actions",type:"bytes",internalType:"bytes"},{name:"params",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"msgSender",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"nextTokenId",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"nonces",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"word",type:"uint256",internalType:"uint256"}],outputs:[{name:"bitmap",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"permit",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"permit",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"permitSingle",type:"tuple",internalType:"struct IAllowanceTransfer.PermitSingle",components:[{name:"details",type:"tuple",internalType:"struct IAllowanceTransfer.PermitDetails",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permit2",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IAllowanceTransfer"}],stateMutability:"view"},{type:"function",name:"permitBatch",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"_permitBatch",type:"tuple",internalType:"struct IAllowanceTransfer.PermitBatch",components:[{name:"details",type:"tuple[]",internalType:"struct IAllowanceTransfer.PermitDetails[]",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permitForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"poolKeys",inputs:[{name:"poolId",type:"bytes25",internalType:"bytes25"}],outputs:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}],stateMutability:"view"},{type:"function",name:"poolManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPoolManager"}],stateMutability:"view"},{type:"function",name:"positionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"revokeNonce",inputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"subscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"newSubscriber",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"subscriber",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"subscriber",type:"address",internalType:"contract ISubscriber"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenDescriptor",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPositionDescriptor"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockCallback",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes",internalType:"bytes"}],stateMutability:"nonpayable"},{type:"function",name:"unsubscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"unsubscribeGasLimit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Subscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unsubscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadySubscribed",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"subscriber",type:"address",internalType:"address"}]},{type:"error",name:"BurnNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ContractLocked",inputs:[]},{type:"error",name:"DeadlinePassed",inputs:[{name:"deadline",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeltaNotNegative",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"DeltaNotPositive",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"GasLimitTooLow",inputs:[]},{type:"error",name:"InputLengthMismatch",inputs:[]},{type:"error",name:"InsufficientBalance",inputs:[]},{type:"error",name:"InvalidContractSignature",inputs:[]},{type:"error",name:"InvalidEthSender",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidSignatureLength",inputs:[]},{type:"error",name:"InvalidSigner",inputs:[]},{type:"error",name:"MaximumAmountExceeded",inputs:[{name:"maximumAmount",type:"uint128",internalType:"uint128"},{name:"amountRequested",type:"uint128",internalType:"uint128"}]},{type:"error",name:"MinimumAmountInsufficient",inputs:[{name:"minimumAmount",type:"uint128",internalType:"uint128"},{name:"amountReceived",type:"uint128",internalType:"uint128"}]},{type:"error",name:"ModifyLiquidityNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"NoCodeSubscriber",inputs:[]},{type:"error",name:"NoSelfPermit",inputs:[]},{type:"error",name:"NonceAlreadyUsed",inputs:[]},{type:"error",name:"NotApproved",inputs:[{name:"caller",type:"address",internalType:"address"}]},{type:"error",name:"NotPoolManager",inputs:[]},{type:"error",name:"NotSubscribed",inputs:[]},{type:"error",name:"PoolManagerMustBeLocked",inputs:[]},{type:"error",name:"SignatureDeadlineExpired",inputs:[]},{type:"error",name:"SubscriptionReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"TransferNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"Unauthorized",inputs:[]},{type:"error",name:"UnsupportedAction",inputs:[{name:"action",type:"uint256",internalType:"uint256"}]}],Nr={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},er=(function(){function t(){}return t.createCallParameters=function(r,e){return{calldata:this.encodeInitializePool(r,e),value:Yt(0)}},t.addCallParameters=function(r,e){!st.greaterThan(r.liquidity,te)&&nt(!1);var i=[],o=new Re;sn(e)&&_u(e)&&i.push(t.encodeInitializePool(r.pool.poolKey,e.sqrtPriceX96)),!(r.pool.currency0===e.useNative||!r.pool.currency0.isNative&&e.useNative===void 0)&&nt(!1);var p=r.mintAmountsWithSlippage(e.slippageTolerance),A=Yt(p.amount0),m=Yt(p.amount1);if(e.batchPermit&&i.push(t.encodePermitBatch(e.batchPermit.owner,e.batchPermit.permitBatch,e.batchPermit.signature)),sn(e)){var w=wr(e.recipient);o.addMint(r.pool,r.tickLower,r.tickUpper,r.liquidity,A,m,w,e.hookData)}else o.addIncrease(e.tokenId,r.liquidity,A,m,e.hookData);var R=Yt(0);return sn(e)&&e.migrate?e.useNative?(o.addUnwrap(Er),o.addSettle(r.pool.currency0,!1),o.addSettle(r.pool.currency1,!1),o.addSweep(r.pool.currency0.wrapped,e.recipient),o.addSweep(r.pool.currency1,e.recipient)):(o.addSettle(r.pool.currency0,!1),o.addSettle(r.pool.currency1,!1),o.addSweep(r.pool.currency0,e.recipient),o.addSweep(r.pool.currency1,e.recipient)):(o.addSettlePair(r.pool.currency0,r.pool.currency1),e.useNative&&(R=Yt(A),o.addSweep(r.pool.currency0,ln))),i.push(t.encodeModifyLiquidities(o.finalize(),e.deadline)),{calldata:Oe.encodeMulticall(i),value:R}},t.removeCallParameters=function(r,e){var i=[],o=new Re,p=Yt(e.tokenId);if(e.burnToken){!e.liquidityPercentage.equalTo(Be)&&nt(!1),e.permit&&i.push(t.encodeERC721Permit(e.permit.spender,e.permit.tokenId,e.permit.deadline,e.permit.nonce,e.permit.signature));var A=r.burnAmountsWithSlippage(e.slippageTolerance),m=A.amount0,w=A.amount1;o.addBurn(p,m,w,e.hookData)}else{var R,q=new $n({pool:r.pool,liquidity:e.liquidityPercentage.multiply(r.liquidity).quotient,tickLower:r.tickLower,tickUpper:r.tickUpper});!st.greaterThan(q.liquidity,te)&&nt(!1);var M=q.burnAmountsWithSlippage(e.slippageTolerance),F=M.amount0,Y=M.amount1;o.addDecrease(p,q.liquidity.toString(),F.toString(),Y.toString(),(R=e.hookData)!=null?R:me)}return o.addTakePair(r.pool.currency0,r.pool.currency1,ln),i.push(t.encodeModifyLiquidities(o.finalize(),e.deadline)),{calldata:Oe.encodeMulticall(i),value:Yt(0)}},t.collectCallParameters=function(r,e){var i=[],o=new Re,p=Yt(e.tokenId),A=wr(e.recipient);return o.addDecrease(p,"0","0","0",e.hookData),o.addTakePair(r.pool.currency0,r.pool.currency1,A),i.push(t.encodeModifyLiquidities(o.finalize(),e.deadline)),{calldata:Oe.encodeMulticall(i),value:Yt(0)}},t.encodeInitializePool=function(r,e){return t.INTERFACE.encodeFunctionData(ge.INITIALIZE_POOL,[r,e.toString()])},t.encodeModifyLiquidities=function(r,e){return t.INTERFACE.encodeFunctionData(ge.MODIFY_LIQUIDITIES,[r,e])},t.encodePermitBatch=function(r,e,i){return t.INTERFACE.encodeFunctionData(ge.PERMIT_BATCH,[r,e,i])},t.encodeERC721Permit=function(r,e,i,o,p){return t.INTERFACE.encodeFunctionData(ge.ERC721PERMIT_PERMIT,[r,e,i,o,p])},t.getPermitData=function(r,e,i){return{domain:{name:"Uniswap V4 Positions NFT",chainId:i,verifyingContract:e},types:Nr,values:r}},t})(),er.INTERFACE=new mn(Dr)}}),Ou=Ee({"../../node_modules/@uniswap/router-sdk/dist/router-sdk.cjs.production.min.js"(t){function n(u){return u&&typeof u=="object"&&"default"in u?u.default:u}Object.defineProperty(t,"__esModule",{value:!0});var r,e=(fe(),Nt(ji)),i=n((Gr(),Nt(Wi))),o=(ur(),Nt(eo)),p=n(ou()),A=(uu(),Nt(fi)),m=(ei(),Nt(so)),w=(su(),Nt(vi)),R=(pu(),Nt(Ti)),q=(cu(),Nt(wi)),M=(To(),Nt(go)),F=(xu(),Nt(Ii)),Y=(sr(),Nt(ho)),j="0x0000000000000000000000000000000000000000",Z="0x0000000000000000000000000000000000000001",et="0x0000000000000000000000000000000000000002",rt=i.BigInt(0),X=i.BigInt(1),lt=new e.Percent(rt),At=new e.Percent(100,100);function mt(u){return Object.keys(u).some(function(s){return s==="recipient"})}(r=t.ApprovalTypes||(t.ApprovalTypes={}))[r.NOT_REQUIRED=0]="NOT_REQUIRED",r[r.MAX=1]="MAX",r[r.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",r[r.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",r[r.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var Tt=(function(){function u(){}return u.encodeApproveMax=function(s){return u.INTERFACE.encodeFunctionData("approveMax",[s.address])},u.encodeApproveMaxMinusOne=function(s){return u.INTERFACE.encodeFunctionData("approveMaxMinusOne",[s.address])},u.encodeApproveZeroThenMax=function(s){return u.INTERFACE.encodeFunctionData("approveZeroThenMax",[s.address])},u.encodeApproveZeroThenMaxMinusOne=function(s){return u.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[s.address])},u.encodeCallPositionManager=function(s){if(s.length>0||p(!1),s.length===1)return u.INTERFACE.encodeFunctionData("callPositionManager",s);var a=m.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[s]);return u.INTERFACE.encodeFunctionData("callPositionManager",[a])},u.encodeAddLiquidity=function(s,a,c,v){var b=s.mintAmountsWithSlippage(v),g=b.amount0,_=b.amount1;return i.lessThan(a.amount0.quotient,g)&&(g=a.amount0.quotient),i.lessThan(a.amount1.quotient,_)&&(_=a.amount1.quotient),mt(c)?u.INTERFACE.encodeFunctionData("mint",[{token0:s.pool.token0.address,token1:s.pool.token1.address,fee:s.pool.fee,tickLower:s.tickLower,tickUpper:s.tickUpper,amount0Min:m.toHex(g),amount1Min:m.toHex(_),recipient:c.recipient}]):u.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:s.pool.token0.address,token1:s.pool.token1.address,amount0Min:m.toHex(g),amount1Min:m.toHex(_),tokenId:m.toHex(c.tokenId)}])},u.encodeApprove=function(s,a){switch(a){case t.ApprovalTypes.MAX:return u.encodeApproveMax(s.wrapped);case t.ApprovalTypes.MAX_MINUS_ONE:return u.encodeApproveMaxMinusOne(s.wrapped);case t.ApprovalTypes.ZERO_THEN_MAX:return u.encodeApproveZeroThenMax(s.wrapped);case t.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return u.encodeApproveZeroThenMaxMinusOne(s.wrapped);default:throw new Error("Error: invalid ApprovalType")}},u})();Tt.INTERFACE=new o.Interface(A.abi);var S=(function(){function u(){}return u.encodeMulticall=function(s,a){if(a===void 0)return m.Multicall.encodeMulticall(s);if(Array.isArray(s)||(s=[s]),typeof a=="string"&&a.startsWith("0x")){var c=(function(b){if(!b.match(/^0x[0-9a-fA-F]{64}$/))throw new Error(b+" is not valid bytes32.");return b.toLowerCase()})(a);return u.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[c,s])}var v=m.toHex(a);return u.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[v,s])},u})();function Mt(u){return m.toHex(u.multiply(1e4).quotient)}S.INTERFACE=new o.Interface(w.abi);var gt=(function(){function u(){}return u.encodeUnwrapWETH9=function(s,a,c){if(typeof a=="string")return m.Payments.encodeUnwrapWETH9(s,a,c);if(c){var v=Mt(c.fee),b=e.validateAndParseAddress(c.recipient);return u.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[m.toHex(s),v,b])}return u.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[m.toHex(s)])},u.encodeSweepToken=function(s,a,c,v){if(typeof c=="string")return m.Payments.encodeSweepToken(s,a,c,v);if(v){var b=Mt(v.fee),g=e.validateAndParseAddress(v.recipient);return u.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[s.address,m.toHex(a),b,g])}return u.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[s.address,m.toHex(a)])},u.encodePull=function(s,a){return u.INTERFACE.encodeFunctionData("pull",[s.address,m.toHex(a)])},u.encodeWrapETH=function(s){return u.INTERFACE.encodeFunctionData("wrapETH",[m.toHex(s)])},u})();function Ht(u,s){(s==null||s>u.length)&&(s=u.length);for(var a=0,c=Array(s);a<s;a++)c[a]=u[a];return c}function re(u,s,a,c,v,b,g){try{var _=u[b](g),l=_.value}catch(d){return void a(d)}_.done?s(l):Promise.resolve(l).then(c,v)}function Ft(u){return function(){var s=this,a=arguments;return new Promise(function(c,v){var b=u.apply(s,a);function g(l){re(b,c,v,g,_,"next",l)}function _(l){re(b,c,v,g,_,"throw",l)}g(void 0)})}}function Ut(u,s){for(var a=0;a<s.length;a++){var c=s[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,E(c.key),c)}}function Vt(u,s,a){return s&&Ut(u.prototype,s),a&&Ut(u,a),Object.defineProperty(u,"prototype",{writable:!1}),u}function y(u,s){var a=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(a)return(a=a.call(u)).next.bind(a);if(Array.isArray(u)||(a=(function(v,b){if(v){if(typeof v=="string")return Ht(v,b);var g={}.toString.call(v).slice(8,-1);return g==="Object"&&v.constructor&&(g=v.constructor.name),g==="Map"||g==="Set"?Array.from(v):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Ht(v,b):void 0}})(u))||s&&u&&typeof u.length=="number"){a&&(u=a);var c=0;return function(){return c>=u.length?{done:!0}:{done:!1,value:u[c++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(){return(h=Object.assign?Object.assign.bind():function(u){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var c in a)({}).hasOwnProperty.call(a,c)&&(u[c]=a[c])}return u}).apply(null,arguments)}function k(u,s){u.prototype=Object.create(s.prototype),u.prototype.constructor=u,(function(a,c){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,b){return v.__proto__=b,v})(a,c)})(u,s)}function x(){x=function(){return s};var u,s={},a=Object.prototype,c=a.hasOwnProperty,v=Object.defineProperty||function(I,P,D){I[P]=D.value},b=typeof Symbol=="function"?Symbol:{},g=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",l=b.toStringTag||"@@toStringTag";function d(I,P,D){return Object.defineProperty(I,P,{value:D,enumerable:!0,configurable:!0,writable:!0}),I[P]}try{d({},"")}catch{d=function(P,D,J){return P[D]=J}}function f(I,P,D,J){var V=Object.create((P&&P.prototype instanceof Q?P:Q).prototype),K=new wt(J||[]);return v(V,"_invoke",{value:Kt(I,D,K)}),V}function O(I,P,D){try{return{type:"normal",arg:I.call(P,D)}}catch(J){return{type:"throw",arg:J}}}s.wrap=f;var T="suspendedStart",C="executing",B="completed",N={};function Q(){}function z(){}function $(){}var ot={};d(ot,g,function(){return this});var ut=Object.getPrototypeOf,ft=ut&&ut(ut(pt([])));ft&&ft!==a&&c.call(ft,g)&&(ot=ft);var L=$.prototype=Q.prototype=Object.create(ot);function vt(I){["next","throw","return"].forEach(function(P){d(I,P,function(D){return this._invoke(P,D)})})}function kt(I,P){function D(V,K,Pt,St){var Rt=O(I[V],I,K);if(Rt.type!=="throw"){var jt=Rt.arg,de=jt.value;return de&&typeof de=="object"&&c.call(de,"__await")?P.resolve(de.__await).then(function(zt){D("next",zt,Pt,St)},function(zt){D("throw",zt,Pt,St)}):P.resolve(de).then(function(zt){jt.value=zt,Pt(jt)},function(zt){return D("throw",zt,Pt,St)})}St(Rt.arg)}var J;v(this,"_invoke",{value:function(V,K){function Pt(){return new P(function(St,Rt){D(V,K,St,Rt)})}return J=J?J.then(Pt,Pt):Pt()}})}function Kt(I,P,D){var J=T;return function(V,K){if(J===C)throw Error("Generator is already running");if(J===B){if(V==="throw")throw K;return{value:u,done:!0}}for(D.method=V,D.arg=K;;){var Pt=D.delegate;if(Pt){var St=_t(Pt,D);if(St){if(St===N)continue;return St}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(J===T)throw J=B,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);J=C;var Rt=O(I,P,D);if(Rt.type==="normal"){if(J=D.done?B:"suspendedYield",Rt.arg===N)continue;return{value:Rt.arg,done:D.done}}Rt.type==="throw"&&(J=B,D.method="throw",D.arg=Rt.arg)}}}function _t(I,P){var D=P.method,J=I.iterator[D];if(J===u)return P.delegate=null,D==="throw"&&I.iterator.return&&(P.method="return",P.arg=u,_t(I,P),P.method==="throw")||D!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+D+"' method")),N;var V=O(J,I.iterator,P.arg);if(V.type==="throw")return P.method="throw",P.arg=V.arg,P.delegate=null,N;var K=V.arg;return K?K.done?(P[I.resultName]=K.value,P.next=I.nextLoc,P.method!=="return"&&(P.method="next",P.arg=u),P.delegate=null,N):K:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,N)}function Wt(I){var P={tryLoc:I[0]};1 in I&&(P.catchLoc=I[1]),2 in I&&(P.finallyLoc=I[2],P.afterLoc=I[3]),this.tryEntries.push(P)}function Bt(I){var P=I.completion||{};P.type="normal",delete P.arg,I.completion=P}function wt(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(Wt,this),this.reset(!0)}function pt(I){if(I||I===""){var P=I[g];if(P)return P.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var D=-1,J=function V(){for(;++D<I.length;)if(c.call(I,D))return V.value=I[D],V.done=!1,V;return V.value=u,V.done=!0,V};return J.next=J}}throw new TypeError(typeof I+" is not iterable")}return z.prototype=$,v(L,"constructor",{value:$,configurable:!0}),v($,"constructor",{value:z,configurable:!0}),z.displayName=d($,l,"GeneratorFunction"),s.isGeneratorFunction=function(I){var P=typeof I=="function"&&I.constructor;return!!P&&(P===z||(P.displayName||P.name)==="GeneratorFunction")},s.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,$):(I.__proto__=$,d(I,l,"GeneratorFunction")),I.prototype=Object.create(L),I},s.awrap=function(I){return{__await:I}},vt(kt.prototype),d(kt.prototype,_,function(){return this}),s.AsyncIterator=kt,s.async=function(I,P,D,J,V){V===void 0&&(V=Promise);var K=new kt(f(I,P,D,J),V);return s.isGeneratorFunction(P)?K:K.next().then(function(Pt){return Pt.done?Pt.value:K.next()})},vt(L),d(L,l,"Generator"),d(L,g,function(){return this}),d(L,"toString",function(){return"[object Generator]"}),s.keys=function(I){var P=Object(I),D=[];for(var J in P)D.push(J);return D.reverse(),function V(){for(;D.length;){var K=D.pop();if(K in P)return V.value=K,V.done=!1,V}return V.done=!0,V}},s.values=pt,wt.prototype={constructor:wt,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(Bt),!I)for(var P in this)P.charAt(0)==="t"&&c.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=u)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var P=this;function D(Rt,jt){return K.type="throw",K.arg=I,P.next=Rt,jt&&(P.method="next",P.arg=u),!!jt}for(var J=this.tryEntries.length-1;J>=0;--J){var V=this.tryEntries[J],K=V.completion;if(V.tryLoc==="root")return D("end");if(V.tryLoc<=this.prev){var Pt=c.call(V,"catchLoc"),St=c.call(V,"finallyLoc");if(Pt&&St){if(this.prev<V.catchLoc)return D(V.catchLoc,!0);if(this.prev<V.finallyLoc)return D(V.finallyLoc)}else if(Pt){if(this.prev<V.catchLoc)return D(V.catchLoc,!0)}else{if(!St)throw Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return D(V.finallyLoc)}}}},abrupt:function(I,P){for(var D=this.tryEntries.length-1;D>=0;--D){var J=this.tryEntries[D];if(J.tryLoc<=this.prev&&c.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var V=J;break}}V&&(I==="break"||I==="continue")&&V.tryLoc<=P&&P<=V.finallyLoc&&(V=null);var K=V?V.completion:{};return K.type=I,K.arg=P,V?(this.method="next",this.next=V.finallyLoc,N):this.complete(K)},complete:function(I,P){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&P&&(this.next=P),N},finish:function(I){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.finallyLoc===I)return this.complete(D.completion,D.afterLoc),Bt(D),N}},catch:function(I){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.tryLoc===I){var J=D.completion;if(J.type==="throw"){var V=J.arg;Bt(D)}return V}}throw Error("illegal catch attempt")},delegateYield:function(I,P,D){return this.delegate={iterator:pt(I),resultName:P,nextLoc:D},this.method==="next"&&(this.arg=u),N}},s}function E(u){var s=(function(a,c){if(typeof a!="object"||!a)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var b=v.call(a,"string");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(u);return typeof s=="symbol"?s:s+""}function U(u,s){return e.CurrencyAmount.fromFractionalAmount(G(u.currency,s),u.numerator,u.denominator)}function G(u,s){if(s.involvesToken(u))return u;if(s.involvesToken(u.wrapped))return u.wrapped;if(!(s instanceof F.Pool))throw new Error("Expected currency "+u.symbol+" to be either "+s.token0.symbol+" or "+s.token1.symbol);return s.token0.wrapped.equals(u)?s.token0:s.token1.wrapped.equals(u)?s.token1:u}gt.INTERFACE=new o.Interface(R.abi);var H=(function(){return Vt(function(u,s,a,c){c===void 0&&(c=!1),this._midPrice=null,(u=c?u:u.filter(function(O){return!(O instanceof F.Pool&&O.tickSpacing===0)})).length>0||p(!1);var v=u[0].chainId;u.every(function(O){return O.chainId===v})||p(!1),this.pathInput=G(s,u[0]),this.pathOutput=G(a,u[u.length-1]),u[0]instanceof F.Pool?u[0].v4InvolvesToken(this.pathInput)||p(!1):u[0].involvesToken(this.pathInput)||p(!1);var b=u[u.length-1];b instanceof F.Pool?b.v4InvolvesToken(a)||b.v4InvolvesToken(a.wrapped)||p(!1):b.involvesToken(a.wrapped)||p(!1);var g=[this.pathInput];u[0].token0.equals(this.pathInput)?g.push(u[0].token1):g.push(u[0].token0);for(var _=1;_<u.length;_++){var l=u[_],d=g[_],f=void 0;if(l instanceof F.Pool&&!l.involvesToken(d)||!(l instanceof F.Pool)&&d.isNative)if(d.equals(l.token0.wrapped))f=l.token1;else{if(!d.wrapped.equals(l.token0)&&!d.wrapped.equals(l.token1))throw new Error("POOL_MISMATCH pool: "+JSON.stringify(l)+" inputToken: "+JSON.stringify(d));f=d.wrapped.equals(l.token0)?l.token1:l.token0}else d.equals(l.token0)||d.equals(l.token1)||p(!1),f=d.equals(l.token0)?l.token1:l.token0;g.push(f)}this.pools=u,this.path=g,this.input=s,this.output=a??g[g.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;var u=this.pools.slice(1).reduce(function(s,a){var c=s.price;return s.nextInput.equals(a.token0)?{nextInput:a.token1,price:c.multiply(a.token0Price.asFraction)}:{nextInput:a.token0,price:c.multiply(a.token1Price.asFraction)}},this.pools[0].token0.equals(this.pathInput)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price.asFraction}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price.asFraction}).price;return this._midPrice=new e.Price(this.input,this.output,u.denominator,u.numerator)}}])})();function yt(u,s){return u.inputAmount.currency.equals(s.inputAmount.currency)||p(!1),u.outputAmount.currency.equals(s.outputAmount.currency)||p(!1),u.outputAmount.equalTo(s.outputAmount)?u.inputAmount.equalTo(s.inputAmount)?u.swaps.reduce(function(a,c){return a+c.route.path.length},0)-s.swaps.reduce(function(a,c){return a+c.route.path.length},0):u.inputAmount.lessThan(s.inputAmount)?-1:1:u.outputAmount.lessThan(s.outputAmount)?1:-1}var ht,Ot=(function(){function u(a){var c=a.routes,v=a.tradeType,b=c[0].inputAmount.currency,g=c[0].outputAmount.currency;c.every(function(B){return b.wrapped.equals(B.route.input.wrapped)})||p(!1),c.every(function(B){return g.wrapped.equals(B.route.output.wrapped)})||p(!1);for(var _,l=c.map(function(B){return B.route.pools.length}).reduce(function(B,N){return B+N},0),d=new Set,f=y(c);!(_=f()).done;)for(var O,T=y(_.value.route.pools);!(O=T()).done;){var C=O.value;if(C instanceof F.Pool)d.add(C.poolId);else if(C instanceof m.Pool)d.add(m.Pool.getAddress(C.token0,C.token1,C.fee));else{if(!(C instanceof M.Pair))throw new Error("Unexpected pool type in route when constructing trade object");d.add(M.Pair.getAddress(C.token0,C.token1))}}l!==d.size&&p(!1),v!==e.TradeType.EXACT_INPUT&&p(!1),this.swaps=c,this.tradeType=v}u.fromRoute=(function(){var a=Ft(x().mark(function c(v,b,g){var _,l,d,f,O;return x().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:_=new Array(v.path.length),g!==e.TradeType.EXACT_INPUT&&p(!1),b.currency.equals(v.input)||p(!1),_[0]=U(b,v.pools[0]),f=0;case 5:if(!(f<v.path.length-1)){T.next=15;break}return O=v.pools[f],T.next=9,O.getOutputAmount(U(_[f],O));case 9:_[f+1]=T.sent[0];case 12:f++,T.next=5;break;case 15:return l=e.CurrencyAmount.fromFractionalAmount(v.input,b.numerator,b.denominator),d=e.CurrencyAmount.fromFractionalAmount(v.output,_[_.length-1].numerator,_[_.length-1].denominator),T.abrupt("return",new u({routes:[{inputAmount:l,outputAmount:d,route:v}],tradeType:g}));case 18:case"end":return T.stop()}},c)}));return function(c,v,b){return a.apply(this,arguments)}})(),u.fromRoutes=(function(){var a=Ft(x().mark(function c(v,b){var g,_,l,d,f,O,T,C,B,N,Q;return x().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:g=[],b!==e.TradeType.EXACT_INPUT&&p(!1),_=y(v);case 3:if((l=_()).done){z.next=26;break}f=(d=l.value).route,O=d.amount,T=new Array(f.path.length),C=void 0,B=void 0,O.currency.equals(f.input)||p(!1),C=e.CurrencyAmount.fromFractionalAmount(f.input,O.numerator,O.denominator),T[0]=e.CurrencyAmount.fromFractionalAmount(f.pathInput,O.numerator,O.denominator),N=0;case 12:if(!(N<f.path.length-1)){z.next=22;break}return Q=f.pools[N],z.next=16,Q.getOutputAmount(U(T[N],Q));case 16:T[N+1]=z.sent[0];case 19:N++,z.next=12;break;case 22:B=e.CurrencyAmount.fromFractionalAmount(f.output,T[T.length-1].numerator,T[T.length-1].denominator),g.push({route:f,inputAmount:C,outputAmount:B});case 24:z.next=3;break;case 26:return z.abrupt("return",new u({routes:g,tradeType:b}));case 27:case"end":return z.stop()}},c)}));return function(c,v){return a.apply(this,arguments)}})(),u.createUncheckedTrade=function(a){return new u(h({},a,{routes:[{inputAmount:a.inputAmount,outputAmount:a.outputAmount,route:a.route}]}))},u.createUncheckedTradeWithMultipleRoutes=function(a){return new u(a)};var s=u.prototype;return s.minimumAmountOut=function(a,c){c===void 0&&(c=this.outputAmount),a.lessThan(rt)&&p(!1);var v=new e.Fraction(X).add(a).invert().multiply(c.quotient).quotient;return e.CurrencyAmount.fromRawAmount(c.currency,v)},s.maximumAmountIn=function(a,c){return c===void 0&&(c=this.inputAmount),a.lessThan(rt)&&p(!1),c},s.worstExecutionPrice=function(a){return new e.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(a).quotient,this.minimumAmountOut(a).quotient)},u.bestTradeExactIn=(function(){var a=Ft(x().mark(function c(v,b,g,_,l,d,f){var O,T,C,B,N,Q,z,$,ot,ut,ft;return x().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:C=(T=(O=_===void 0?{}:_).maxNumResults)===void 0?3:T,N=(B=O.maxHops)===void 0?3:B,l===void 0&&(l=[]),d===void 0&&(d=b),f===void 0&&(f=[]),v.length>0||p(!1),N>0||p(!1),b===d||l.length>0||p(!1),Q=d,z=0;case 9:if(!(z<v.length)){L.next=56;break}if(($=v[z]).token0.equals((ot=$ instanceof F.Pool?Q:Q.wrapped).currency)||$.token1.equals(ot.currency)){L.next=14;break}return L.abrupt("continue",53);case 14:if(!($ instanceof M.Pair)){L.next=17;break}if(!$.reserve0.equalTo(rt)&&!$.reserve1.equalTo(rt)){L.next=17;break}return L.abrupt("continue",53);case 17:if(ut=void 0,L.prev=18,!($ instanceof F.Pool)){L.next=26;break}return L.next=23,$.getOutputAmount(ot);case 23:L.t0=L.sent,L.next=29;break;case 26:return L.next=28,$.getOutputAmount(ot.wrapped);case 28:L.t0=L.sent;case 29:ut=L.t0[0],L.next=38;break;case 33:if(L.prev=33,L.t1=L.catch(18),!L.t1.isInsufficientInputAmountError){L.next=37;break}return L.abrupt("continue",53);case 37:throw L.t1;case 38:if(!ut.currency.wrapped.equals(g.wrapped)){L.next=49;break}return L.t2=e.sortedInsert,L.t3=f,L.next=43,u.fromRoute(new H([].concat(l,[$]),b.currency,g),b,e.TradeType.EXACT_INPUT);case 43:L.t4=L.sent,L.t5=C,L.t6=yt,(0,L.t2)(L.t3,L.t4,L.t5,L.t6),L.next=53;break;case 49:if(!(N>1&&v.length>1)){L.next=53;break}return ft=v.slice(0,z).concat(v.slice(z+1,v.length)),L.next=53,u.bestTradeExactIn(ft,b,g,{maxNumResults:C,maxHops:N-1},[].concat(l,[$]),ut,f);case 53:z++,L.next=9;break;case 56:return L.abrupt("return",f);case 57:case"end":return L.stop()}},c,null,[[18,33]])}));return function(c,v,b,g,_,l,d){return a.apply(this,arguments)}})(),Vt(u,[{key:"route",get:function(){return this.swaps.length!==1&&p(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var a=this.swaps[0].inputAmount.currency,c=this.swaps.map(function(v){return v.inputAmount}).reduce(function(v,b){return v.add(b)},e.CurrencyAmount.fromRawAmount(a,0));return this._inputAmount=c,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var a=this.swaps[0].outputAmount.currency,c=this.swaps.map(function(v){return v.outputAmount}).reduce(function(v,b){return v.add(b)},e.CurrencyAmount.fromRawAmount(a,0));return this._outputAmount=c,this._outputAmount}},{key:"executionPrice",get:function(){var a;return(a=this._executionPrice)!=null?a:this._executionPrice=new e.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var a,c=e.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),v=y(this.swaps);!(a=v()).done;){var b=a.value;c=c.add(b.route.midPrice.quote(b.inputAmount))}var g=c.subtract(this.outputAmount).divide(c);return this._priceImpact=new e.Percent(g.numerator,g.denominator),this._priceImpact}}])})();function Et(u,s){if(s.token0.wrapped.equals(u.wrapped))return s.token0;if(s.token1.wrapped.equals(u.wrapped))return s.token1;throw new Error("Expected token "+u.symbol+" to be either "+s.token0.symbol+" or "+s.token1.symbol)}(ht=t.Protocol||(t.Protocol={})).V2="V2",ht.V3="V3",ht.V4="V4",ht.MIXED="MIXED";var _e=(function(u){function s(a){var c;return(c=u.call(this,a.pairs,a.input,a.output)||this).protocol=t.Protocol.V2,c.pools=c.pairs,c.pathInput=Et(a.input,c.pairs[0]),c.pathOutput=Et(a.output,c.pairs[c.pairs.length-1]),c}return k(s,u),s})(M.Route),Se=(function(u){function s(a){var c;return(c=u.call(this,a.pools,a.input,a.output)||this).protocol=t.Protocol.V3,c.path=a.tokenPath,c.pathInput=Et(a.input,c.pools[0]),c.pathOutput=Et(a.output,c.pools[c.pools.length-1]),c}return k(s,u),s})(m.Route),pe=(function(u){function s(a){var c;return(c=u.call(this,a.pools,a.input,a.output)||this).protocol=t.Protocol.V4,c.path=a.currencyPath,c}return k(s,u),s})(F.Route),Dt=(function(u){function s(a){var c;return(c=u.call(this,a.pools,a.input,a.output)||this).protocol=t.Protocol.MIXED,c}return k(s,u),s})(H),he=(function(){function u(a){var c=a.v2Routes,v=c===void 0?[]:c,b=a.v3Routes,g=b===void 0?[]:b,_=a.v4Routes,l=_===void 0?[]:_,d=a.mixedRoutes,f=d===void 0?[]:d,O=a.tradeType;this.swaps=[],this.routes=[];for(var T,C=y(v);!(T=C()).done;){var B=T.value,N=B.inputAmount,Q=B.outputAmount,z=new _e(B.routev2);this.routes.push(z),this.swaps.push({route:z,inputAmount:N,outputAmount:Q})}for(var $,ot=y(g);!($=ot()).done;){var ut=$.value,ft=ut.inputAmount,L=ut.outputAmount,vt=new Se(ut.routev3);this.routes.push(vt),this.swaps.push({route:vt,inputAmount:ft,outputAmount:L})}for(var kt,Kt=y(l);!(kt=Kt()).done;){var _t=kt.value,Wt=_t.inputAmount,Bt=_t.outputAmount,wt=new pe(_t.routev4);this.routes.push(wt),this.swaps.push({route:wt,inputAmount:Wt,outputAmount:Bt})}for(var pt,I=y(f);!(pt=I()).done;){var P=pt.value,D=P.inputAmount,J=P.outputAmount,V=new Dt(P.mixedRoute);this.routes.push(V),this.swaps.push({route:V,inputAmount:D,outputAmount:J})}if(this.swaps.length===0)throw new Error("No routes provided when calling Trade constructor");this.tradeType=O;var K=this.swaps[0].inputAmount.currency,Pt=this.swaps[0].outputAmount.currency;this.swaps.every(function(le){return K.wrapped.equals(le.route.input.wrapped)})||p(!1),this.swaps.every(function(le){return Pt.wrapped.equals(le.route.output.wrapped)})||p(!1);for(var St,Rt=this.swaps.map(function(le){return le.route.pools.length}).reduce(function(le,Vi){return le+Vi},0),jt=new Set,de=y(this.swaps);!(St=de()).done;)for(var zt,Ui=y(St.value.route.pools);!(zt=Ui()).done;){var $t=zt.value;if($t instanceof F.Pool)jt.add($t.poolId);else if($t instanceof m.Pool)jt.add(m.Pool.getAddress($t.token0,$t.token1,$t.fee));else{if(!($t instanceof M.Pair))throw new Error("Unexpected pool type in route when constructing trade object");jt.add(M.Pair.getAddress($t.token0,$t.token1))}}Rt!==jt.size&&p(!1)}var s=u.prototype;return s.isWrappedNative=function(a){return a.equals(e.Ether.onChain(a.chainId).wrapped)},s.minimumAmountOut=function(a,c){if(c===void 0&&(c=this.outputAmount),a.lessThan(rt)&&p(!1),this.tradeType===e.TradeType.EXACT_OUTPUT)return c;var v=new e.Fraction(X).add(a).invert().multiply(c.quotient).quotient;return e.CurrencyAmount.fromRawAmount(c.currency,v)},s.maximumAmountIn=function(a,c){if(c===void 0&&(c=this.inputAmount),a.lessThan(rt)&&p(!1),this.tradeType===e.TradeType.EXACT_INPUT)return c;var v=new e.Fraction(X).add(a).multiply(c.quotient).quotient;return e.CurrencyAmount.fromRawAmount(c.currency,v)},s.worstExecutionPrice=function(a){return new e.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(a).quotient,this.minimumAmountOut(a).quotient)},u.fromRoutes=(function(){var a=Ft(x().mark(function c(v,b,g,_,l){var d,f,O,T,C,B,N,Q,z,$,ot,ut,ft,L,vt,kt,Kt,_t,Wt,Bt,wt,pt,I,P,D,J,V;return x().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:for(d=[],f=[],O=[],T=[],C=y(v);!(B=C()).done;)z=new M.Trade(Q=(N=B.value).routev2,N.amount,g),d.push({routev2:Q,inputAmount:z.inputAmount,outputAmount:z.outputAmount});$=y(b);case 6:if((ot=$()).done){K.next=15;break}return ft=(ut=ot.value).routev3,L=ut.amount,K.next=10,m.Trade.fromRoute(ft,L,g);case 10:f.push({routev3:ft,inputAmount:(vt=K.sent).inputAmount,outputAmount:vt.outputAmount});case 13:K.next=6;break;case 15:if(!l){K.next=26;break}kt=y(l);case 17:if((Kt=kt()).done){K.next=26;break}return Wt=(_t=Kt.value).routev4,Bt=_t.amount,K.next=21,F.Trade.fromRoute(Wt,Bt,g);case 21:O.push({routev4:Wt,inputAmount:(wt=K.sent).inputAmount,outputAmount:wt.outputAmount});case 24:K.next=17;break;case 26:if(!_){K.next=37;break}pt=y(_);case 28:if((I=pt()).done){K.next=37;break}return D=(P=I.value).mixedRoute,J=P.amount,K.next=32,Ot.fromRoute(D,J,g);case 32:T.push({mixedRoute:D,inputAmount:(V=K.sent).inputAmount,outputAmount:V.outputAmount});case 35:K.next=28;break;case 37:return K.abrupt("return",new u({v2Routes:d,v3Routes:f,v4Routes:O,mixedRoutes:T,tradeType:g}));case 38:case"end":return K.stop()}},c)}));return function(c,v,b,g,_){return a.apply(this,arguments)}})(),u.fromRoute=(function(){var a=Ft(x().mark(function c(v,b,g){var _,l,d,f,O,T,C,B;return x().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(_=[],l=[],d=[],f=[],!(v instanceof M.Route)){N.next=10;break}O=new M.Trade(v,b,g),_=[{routev2:v,inputAmount:O.inputAmount,outputAmount:O.outputAmount}],N.next=35;break;case 10:if(!(v instanceof m.Route)){N.next=18;break}return N.next=13,m.Trade.fromRoute(v,b,g);case 13:l=[{routev3:v,inputAmount:(T=N.sent).inputAmount,outputAmount:T.outputAmount}],N.next=35;break;case 18:if(!(v instanceof F.Route)){N.next=26;break}return N.next=21,F.Trade.fromRoute(v,b,g);case 21:d=[{routev4:v,inputAmount:(C=N.sent).inputAmount,outputAmount:C.outputAmount}],N.next=35;break;case 26:if(!(v instanceof H)){N.next=34;break}return N.next=29,Ot.fromRoute(v,b,g);case 29:f=[{mixedRoute:v,inputAmount:(B=N.sent).inputAmount,outputAmount:B.outputAmount}],N.next=35;break;case 34:throw new Error("Invalid route type");case 35:return N.abrupt("return",new u({v2Routes:_,v3Routes:l,v4Routes:d,mixedRoutes:f,tradeType:g}));case 36:case"end":return N.stop()}},c)}));return function(c,v,b){return a.apply(this,arguments)}})(),Vt(u,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var a=this.swaps[0].inputAmount.currency,c=this.swaps.map(function(v){return v.inputAmount}).reduce(function(v,b){return v.add(b)},e.CurrencyAmount.fromRawAmount(a,0));return this._inputAmount=c,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var a=this.swaps[0].outputAmount.currency,c=this.swaps.map(function(v){return v.outputAmount}).reduce(function(v,b){return v.add(b)},e.CurrencyAmount.fromRawAmount(a,0));return this._outputAmount=c,this._outputAmount}},{key:"amounts",get:function(){var a,c,v=(a=this.swaps.find(function(g){return g.inputAmount.currency.isNative}))==null?void 0:a.inputAmount.currency,b=(c=this.swaps.find(function(g){return g.outputAmount.currency.isNative}))==null?void 0:c.outputAmount.currency;return{inputAmount:this.inputAmount,inputAmountNative:v?this.swaps.reduce(function(g,_){return _.route.pathInput.isNative?g.add(_.inputAmount):g},e.CurrencyAmount.fromRawAmount(v,0)):void 0,outputAmount:this.outputAmount,outputAmountNative:b?this.swaps.reduce(function(g,_){return _.route.pathOutput.isNative?g.add(_.outputAmount):g},e.CurrencyAmount.fromRawAmount(b,0)):void 0}}},{key:"numberOfInputWraps",get:function(){return this.inputAmount.currency.isNative?this.wethInputRoutes.length:0}},{key:"numberOfInputUnwraps",get:function(){return this.isWrappedNative(this.inputAmount.currency)?this.nativeInputRoutes.length:0}},{key:"nativeInputRoutes",get:function(){return this._nativeInputRoutes||(this._nativeInputRoutes=this.routes.filter(function(a){return a.pathInput.isNative})),this._nativeInputRoutes}},{key:"wethInputRoutes",get:function(){var a=this;return this._wethInputRoutes||(this._wethInputRoutes=this.routes.filter(function(c){return a.isWrappedNative(c.pathInput)})),this._wethInputRoutes}},{key:"executionPrice",get:function(){var a;return(a=this._executionPrice)!=null?a:this._executionPrice=new e.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"inputTax",get:function(){var a=this.inputAmount.currency;return a.isNative||!a.wrapped.sellFeeBps?lt:new e.Percent(a.wrapped.sellFeeBps.toNumber(),1e4)}},{key:"outputTax",get:function(){var a=this.outputAmount.currency;return a.isNative||!a.wrapped.buyFeeBps?lt:new e.Percent(a.wrapped.buyFeeBps.toNumber(),1e4)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;if(this.outputTax.equalTo(At))return lt;for(var a,c=e.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),v=y(this.swaps);!(a=v()).done;){var b=a.value,g=b.route.midPrice,_=b.inputAmount.multiply(new e.Fraction(X).subtract(this.inputTax));c=c.add(g.quote(_))}if(c.equalTo(rt))return lt;var l=this.outputAmount.divide(new e.Fraction(X).subtract(this.outputTax)),d=c.subtract(l).divide(c);return this._priceImpact=new e.Percent(d.numerator,d.denominator),this._priceImpact}}])})();function ce(u){var s,a;if(u.pools.some(function(d){return d instanceof F.Pool})){s=[u.pathInput.isNative?j:u.pathInput.address],a=["address"];for(var c,v=u.pathInput,b=y(u.pools);!(c=b()).done;){var g=c.value,_=v.equals(g.token0)?g.token1:g.token0;if(g instanceof F.Pool)g.tickSpacing===0?(s.push(0,_.isNative?j:_.wrapped.address),a.push("uint8","address")):(s.push(g.fee+(4<<20),g.tickSpacing,g.hooks,_.isNative?j:_.wrapped.address),a.push("uint24","uint24","address","address"));else if(g instanceof m.Pool)s.push(g.fee+(3<<20),_.wrapped.address),a.push("uint24","address");else{if(!(g instanceof M.Pair))throw new Error("Unsupported pool type "+JSON.stringify(g));s.push(32,_.wrapped.address),a.push("uint8","address")}v=_}}else{var l=u.pools.reduce(function(d,f,O){var T=d.inputToken,C=d.path,B=d.types,N=f.token0.equals(T)?f.token1:f.token0;return O===0?{inputToken:N,types:["address","uint24","address"],path:[T.wrapped.address,f instanceof m.Pool?f.fee:8388608,N.wrapped.address]}:{inputToken:N,types:[].concat(B,["uint24","address"]),path:[].concat(C,[f instanceof m.Pool?f.fee:8388608,N.wrapped.address])}},{inputToken:u.input,path:[],types:[]});s=l.path,a=l.types}return Y.pack(a,s)}var Xt=function(u){for(var s=[],a=0,c=0;c<u.pools.length;)(u.pools[a]instanceof F.Pool&&!(u.pools[c]instanceof F.Pool)||u.pools[a]instanceof m.Pool&&!(u.pools[c]instanceof m.Pool)||u.pools[a]instanceof M.Pair&&!(u.pools[c]instanceof M.Pair))&&(s.push(u.pools.slice(a,c)),a=c),++c===u.pools.length&&s.push(u.pools.slice(a,c));return s},ve=function(u,s){return u.reduce(function(a,c){var v=a.inputToken;if(!c.involvesToken(v))throw new Error("PATH");return{inputToken:c.token0.equals(v)?c.token1:c.token0}},{inputToken:s}).inputToken},Gt=i.BigInt(0),Ae=new e.Percent(i.BigInt(50),i.BigInt(100)),Jt=(function(){function u(){}return u.encodeV2Swap=function(s,a,c,v){var b=m.toHex(s.maximumAmountIn(a.slippageTolerance).quotient),g=m.toHex(s.minimumAmountOut(a.slippageTolerance).quotient),_=s.route.path.map(function(d){return d.address}),l=c?et:a.recipient===void 0?Z:e.validateAndParseAddress(a.recipient);return s.tradeType===e.TradeType.EXACT_INPUT?u.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[b,v?0:g,_,l]):u.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[g,b,_,l])},u.encodeV3Swap=function(s,a,c,v){for(var b,g=[],_=y(s.swaps);!(b=_()).done;){var l=b.value,d=l.route,f=l.outputAmount,O=m.toHex(s.maximumAmountIn(a.slippageTolerance,l.inputAmount).quotient),T=m.toHex(s.minimumAmountOut(a.slippageTolerance,f).quotient),C=d.pools.length===1,B=c?et:a.recipient===void 0?Z:e.validateAndParseAddress(a.recipient);if(C)g.push(s.tradeType===e.TradeType.EXACT_INPUT?u.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:B,amountIn:O,amountOutMinimum:v?0:T,sqrtPriceLimitX96:0}]):u.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:B,amountOut:T,amountInMaximum:O,sqrtPriceLimitX96:0}]));else{var N=m.encodeRouteToPath(d,s.tradeType===e.TradeType.EXACT_OUTPUT);g.push(s.tradeType===e.TradeType.EXACT_INPUT?u.INTERFACE.encodeFunctionData("exactInput",[{path:N,recipient:B,amountIn:O,amountOutMinimum:v?0:T}]):u.INTERFACE.encodeFunctionData("exactOutput",[{path:N,recipient:B,amountOut:T,amountInMaximum:O}]))}}return g},u.encodeMixedRouteSwap=function(s,a,c,v){var b=[];s.tradeType!==e.TradeType.EXACT_INPUT&&p(!1);for(var g,_=function(){var d=g.value,f=d.route,O=d.inputAmount,T=d.outputAmount;if(f.pools.some(function(wt){return wt instanceof F.Pool}))throw new Error("Encoding mixed routes with V4 not supported");var C=m.toHex(s.maximumAmountIn(a.slippageTolerance,O).quotient),B=m.toHex(s.minimumAmountOut(a.slippageTolerance,T).quotient),N=f.pools.length===1,Q=c?et:a.recipient===void 0?Z:e.validateAndParseAddress(a.recipient),z=function(wt){return wt.pools.every(function(pt){return pt instanceof m.Pool})};if(N)if(z(f))b.push(u.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:f.path[0].wrapped.address,tokenOut:f.path[1].wrapped.address,fee:f.pools[0].fee,recipient:Q,amountIn:C,amountOutMinimum:v?0:B,sqrtPriceLimitX96:0}]));else{var $=f.path.map(function(wt){return wt.wrapped.address});b.push(u.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[C,v?0:B,$,Q]))}else for(var ot,ut=Xt(f),ft=function(wt){return wt===ut.length-1},L=f.input.wrapped,vt=0;vt<ut.length;vt++){var kt=ut[vt];ot=ve(kt,L);var Kt=new H([].concat(kt),kt[0].token0.equals(L)?kt[0].token0:kt[0].token1,ot),_t=new Dt(Kt);if(L=ot.wrapped,z(_t)){var Wt={path:ce(_t),recipient:ft(vt)?Q:et,amountIn:vt===0?C:0,amountOutMinimum:ft(vt)?B:0};b.push(u.INTERFACE.encodeFunctionData("exactInput",[Wt]))}else{var Bt=[vt===0?C:0,ft(vt)?B:0,_t.path.map(function(wt){return wt.wrapped.address}),ft(vt)?Q:et];b.push(u.INTERFACE.encodeFunctionData("swapExactTokensForTokens",Bt))}}},l=y(s.swaps);!(g=l()).done;)_();return b},u.encodeSwaps=function(s,a,c){if(s instanceof he){s.swaps.every(function(pt){return pt.route.protocol===t.Protocol.V3||pt.route.protocol===t.Protocol.V2||pt.route.protocol===t.Protocol.MIXED})||p(!1);for(var v,b=[],g=y(s.swaps);!(v=g()).done;){var _=v.value,l=_.route,d=_.inputAmount,f=_.outputAmount;if(l.protocol===t.Protocol.V2)b.push(new M.Trade(l,s.tradeType===e.TradeType.EXACT_INPUT?d:f,s.tradeType));else if(l.protocol===t.Protocol.V3)b.push(m.Trade.createUncheckedTrade({route:l,inputAmount:d,outputAmount:f,tradeType:s.tradeType}));else{if(l.protocol!==t.Protocol.MIXED)throw new Error("UNSUPPORTED_TRADE_PROTOCOL");b.push(Ot.createUncheckedTrade({route:l,inputAmount:d,outputAmount:f,tradeType:s.tradeType}))}}s=b}Array.isArray(s)||(s=[s]);var O=s.reduce(function(pt,I){return pt+(I instanceof m.Trade||I instanceof Ot?I.swaps.length:1)},0),T=s[0];s.every(function(pt){return pt.inputAmount.currency.equals(T.inputAmount.currency)})||p(!1),s.every(function(pt){return pt.outputAmount.currency.equals(T.outputAmount.currency)})||p(!1),s.every(function(pt){return pt.tradeType===T.tradeType})||p(!1);var C=[],B=T.inputAmount.currency.isNative,N=T.outputAmount.currency.isNative,Q=T.tradeType===e.TradeType.EXACT_INPUT&&O>2,z=N||!!a.fee||!!c||Q;a.inputTokenPermit&&(T.inputAmount.currency.isToken||p(!1),C.push(m.SelfPermit.encodePermit(T.inputAmount.currency,a.inputTokenPermit)));for(var $,ot=y(s);!($=ot()).done;){var ut=$.value;if(ut instanceof M.Trade)C.push(u.encodeV2Swap(ut,a,z,Q));else if(ut instanceof m.Trade)for(var ft,L=y(u.encodeV3Swap(ut,a,z,Q));!(ft=L()).done;)C.push(ft.value);else{if(!(ut instanceof Ot))throw new Error("Unsupported trade object");for(var vt,kt=y(u.encodeMixedRouteSwap(ut,a,z,Q));!(vt=kt()).done;)C.push(vt.value)}}var Kt=e.CurrencyAmount.fromRawAmount(T.inputAmount.currency,0),_t=e.CurrencyAmount.fromRawAmount(T.outputAmount.currency,0),Wt=s.reduce(function(pt,I){return pt.add(I.minimumAmountOut(a.slippageTolerance))},_t),Bt=s.reduce(function(pt,I){return pt.add(I.outputAmount)},_t),wt=s.reduce(function(pt,I){return pt.add(I.maximumAmountIn(a.slippageTolerance))},Kt);return{calldatas:C,sampleTrade:T,routerMustCustody:z,inputIsNative:B,outputIsNative:N,totalAmountIn:wt,minimumAmountOut:Wt,quoteAmountOut:Bt}},u.swapCallParameters=function(s,a){var c=u.encodeSwaps(s,a),v=c.calldatas,b=c.sampleTrade,g=c.inputIsNative,_=c.totalAmountIn,l=c.minimumAmountOut;return c.routerMustCustody&&v.push(c.outputIsNative?gt.encodeUnwrapWETH9(l.quotient,a.recipient,a.fee):gt.encodeSweepToken(b.outputAmount.currency.wrapped,l.quotient,a.recipient,a.fee)),g&&(b.tradeType===e.TradeType.EXACT_OUTPUT||u.riskOfPartialFill(s))&&v.push(m.Payments.encodeRefundETH()),{calldata:S.encodeMulticall(v,a.deadlineOrPreviousBlockhash),value:m.toHex(g?_.quotient:Gt)}},u.swapAndAddCallParameters=function(s,a,c,v,b,g){var _=u.encodeSwaps(s,a,!0),l=_.calldatas,d=_.inputIsNative,f=_.outputIsNative,O=_.sampleTrade,T=_.totalAmountIn,C=_.quoteAmountOut,B=_.minimumAmountOut;a.outputTokenPermit&&(C.currency.isToken||p(!1),l.push(m.SelfPermit.encodePermit(C.currency,a.outputTokenPermit)));var N=O.route.chainId,Q=c.pool.token0.wrapped.address===T.currency.wrapped.address,z=u.getPositionAmounts(c,Q),$=z.positionAmountIn,ot=z.positionAmountOut,ut=d?e.WETH9[N]:$.currency.wrapped,ft=f?e.WETH9[N]:ot.currency.wrapped,L=ot.subtract(C.wrapped);L.greaterThan(e.CurrencyAmount.fromRawAmount(ot.currency,0))&&l.push(f?gt.encodeWrapETH(L.quotient):gt.encodePull(ft,L.quotient)),l.push(d?gt.encodeWrapETH($.quotient):gt.encodePull(ut,$.quotient)),b!==t.ApprovalTypes.NOT_REQUIRED&&l.push(Tt.encodeApprove(ut,b)),g!==t.ApprovalTypes.NOT_REQUIRED&&l.push(Tt.encodeApprove(ft,g));var vt,kt=m.Position.fromAmounts({pool:c.pool,tickLower:c.tickLower,tickUpper:c.tickUpper,amount0:Q?c.amount0.quotient.toString():B.quotient.toString(),amount1:Q?B.quotient.toString():c.amount1.quotient.toString(),useFullPrecision:!1});return l.push(Tt.encodeAddLiquidity(c,kt,v,a.slippageTolerance)),l.push(d?gt.encodeUnwrapWETH9(Gt):gt.encodeSweepToken(ut,Gt)),l.push(f?gt.encodeUnwrapWETH9(Gt):gt.encodeSweepToken(ft,Gt)),vt=d?T.wrapped.add($.wrapped).quotient:f?L.quotient:Gt,{calldata:S.encodeMulticall(l,a.deadlineOrPreviousBlockhash),value:vt.toString()}},u.riskOfPartialFill=function(s){return Array.isArray(s)?s.some(function(a){return u.v3TradeWithHighPriceImpact(a)}):u.v3TradeWithHighPriceImpact(s)},u.v3TradeWithHighPriceImpact=function(s){return!(s instanceof M.Trade)&&s.priceImpact.greaterThan(Ae)},u.getPositionAmounts=function(s,a){var c=s.mintAmounts,v=c.amount1,b=e.CurrencyAmount.fromRawAmount(s.pool.token0,c.amount0),g=e.CurrencyAmount.fromRawAmount(s.pool.token1,v),_=a?[b,g]:[g,b];return{positionAmountIn:_[0],positionAmountOut:_[1]}},u})();Jt.INTERFACE=new o.Interface(q.abi),t.ADDRESS_THIS=et,t.ADDRESS_ZERO=j,t.ApproveAndCall=Tt,t.MIXED_QUOTER_V1_V2_FEE_PATH_PLACEHOLDER=1<<23,t.MIXED_QUOTER_V2_V2_FEE_PATH_PLACEHOLDER=32,t.MIXED_QUOTER_V2_V3_FEE_PATH_PLACEHOLDER=3<<20,t.MIXED_QUOTER_V2_V4_FEE_PATH_PLACEHOLDER=4<<20,t.MSG_SENDER=Z,t.MixedRoute=Dt,t.MixedRouteSDK=H,t.MixedRouteTrade=Ot,t.MulticallExtended=S,t.ONE=X,t.ONE_HUNDRED_PERCENT=At,t.PaymentsExtended=gt,t.RouteV2=_e,t.RouteV3=Se,t.RouteV4=pe,t.SwapRouter=Jt,t.Trade=he,t.ZERO=rt,t.ZERO_PERCENT=lt,t.amountWithPathCurrency=U,t.encodeMixedRouteToPath=ce,t.getOutputOfPools=ve,t.getPathCurrency=G,t.getPathToken=Et,t.isMint=mt,t.partitionMixedRouteByProtocol=Xt,t.tradeComparator=yt}}),es=Ee({"../../node_modules/@uniswap/router-sdk/dist/index.js"(t,n){n.exports=Ou()}}),Ru=Ee({"../../node_modules/@uniswap/permit2-sdk/node_modules/tiny-invariant/dist/tiny-invariant.cjs.js"(t,n){var r=!0,e="Invariant failed";function i(o,p){if(!o){if(r)throw new Error(e);var A=typeof p=="function"?p():p,m=A?"".concat(e,": ").concat(A):e;throw new Error(m)}}n.exports=i}}),Du=Ee({"../../node_modules/@uniswap/permit2-sdk/dist/permit2-sdk.cjs.production.min.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=Ru())&&typeof n=="object"&&"default"in n?n.default:n,e=(ti(),Nt(Ba)),i=(Yr(),Nt(ga)),o=(li(),Nt(iu)),p=i.BigNumber.from("0xffffffffffff"),A=i.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffff"),m=i.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),w=A,R=p,q=p,M=m,F=m,Y=m,j=i.BigNumber.from(0);function Z(y,h){return{name:"Permit2",chainId:h,verifyingContract:y}}var et=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],rt={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:et},X={PermitBatch:[{name:"details",type:"PermitDetails[]"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:et},lt=(function(){function y(){}return y.getPermitData=function(h,k,x){Y.gte(h.sigDeadline)||r(!1);var E=Z(k,x);return(function(U){return!Array.isArray(U.details)})(h)?(At(h.details),{domain:E,types:rt,values:h}):(h.details.forEach(At),{domain:E,types:X,values:h})},y.hash=function(h,k,x){var E=y.getPermitData(h,k,x);return e._TypedDataEncoder.hash(E.domain,E.types,E.values)},y})();function At(y){q.gte(y.nonce)||r(!1),w.gte(y.amount)||r(!1),R.gte(y.expiration)||r(!1)}function mt(){mt=function(){return h};var y,h={},k=Object.prototype,x=k.hasOwnProperty,E=Object.defineProperty||function(l,d,f){l[d]=f.value},U=typeof Symbol=="function"?Symbol:{},G=U.iterator||"@@iterator",H=U.asyncIterator||"@@asyncIterator",yt=U.toStringTag||"@@toStringTag";function ht(l,d,f){return Object.defineProperty(l,d,{value:f,enumerable:!0,configurable:!0,writable:!0}),l[d]}try{ht({},"")}catch{ht=function(d,f,O){return d[f]=O}}function Ot(l,d,f,O){var T=Object.create((d&&d.prototype instanceof he?d:he).prototype),C=new g(O||[]);return E(T,"_invoke",{value:a(l,f,C)}),T}function Et(l,d,f){try{return{type:"normal",arg:l.call(d,f)}}catch(O){return{type:"throw",arg:O}}}h.wrap=Ot;var _e="suspendedStart",Se="executing",pe="completed",Dt={};function he(){}function ce(){}function Xt(){}var ve={};ht(ve,G,function(){return this});var Gt=Object.getPrototypeOf,Ae=Gt&&Gt(Gt(_([])));Ae&&Ae!==k&&x.call(Ae,G)&&(ve=Ae);var Jt=Xt.prototype=he.prototype=Object.create(ve);function u(l){["next","throw","return"].forEach(function(d){ht(l,d,function(f){return this._invoke(d,f)})})}function s(l,d){function f(T,C,B,N){var Q=Et(l[T],l,C);if(Q.type!=="throw"){var z=Q.arg,$=z.value;return $&&typeof $=="object"&&x.call($,"__await")?d.resolve($.__await).then(function(ot){f("next",ot,B,N)},function(ot){f("throw",ot,B,N)}):d.resolve($).then(function(ot){z.value=ot,B(z)},function(ot){return f("throw",ot,B,N)})}N(Q.arg)}var O;E(this,"_invoke",{value:function(T,C){function B(){return new d(function(N,Q){f(T,C,N,Q)})}return O=O?O.then(B,B):B()}})}function a(l,d,f){var O=_e;return function(T,C){if(O===Se)throw new Error("Generator is already running");if(O===pe){if(T==="throw")throw C;return{value:y,done:!0}}for(f.method=T,f.arg=C;;){var B=f.delegate;if(B){var N=c(B,f);if(N){if(N===Dt)continue;return N}}if(f.method==="next")f.sent=f._sent=f.arg;else if(f.method==="throw"){if(O===_e)throw O=pe,f.arg;f.dispatchException(f.arg)}else f.method==="return"&&f.abrupt("return",f.arg);O=Se;var Q=Et(l,d,f);if(Q.type==="normal"){if(O=f.done?pe:"suspendedYield",Q.arg===Dt)continue;return{value:Q.arg,done:f.done}}Q.type==="throw"&&(O=pe,f.method="throw",f.arg=Q.arg)}}}function c(l,d){var f=d.method,O=l.iterator[f];if(O===y)return d.delegate=null,f==="throw"&&l.iterator.return&&(d.method="return",d.arg=y,c(l,d),d.method==="throw")||f!=="return"&&(d.method="throw",d.arg=new TypeError("The iterator does not provide a '"+f+"' method")),Dt;var T=Et(O,l.iterator,d.arg);if(T.type==="throw")return d.method="throw",d.arg=T.arg,d.delegate=null,Dt;var C=T.arg;return C?C.done?(d[l.resultName]=C.value,d.next=l.nextLoc,d.method!=="return"&&(d.method="next",d.arg=y),d.delegate=null,Dt):C:(d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,Dt)}function v(l){var d={tryLoc:l[0]};1 in l&&(d.catchLoc=l[1]),2 in l&&(d.finallyLoc=l[2],d.afterLoc=l[3]),this.tryEntries.push(d)}function b(l){var d=l.completion||{};d.type="normal",delete d.arg,l.completion=d}function g(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(v,this),this.reset(!0)}function _(l){if(l||l===""){var d=l[G];if(d)return d.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var f=-1,O=function T(){for(;++f<l.length;)if(x.call(l,f))return T.value=l[f],T.done=!1,T;return T.value=y,T.done=!0,T};return O.next=O}}throw new TypeError(typeof l+" is not iterable")}return ce.prototype=Xt,E(Jt,"constructor",{value:Xt,configurable:!0}),E(Xt,"constructor",{value:ce,configurable:!0}),ce.displayName=ht(Xt,yt,"GeneratorFunction"),h.isGeneratorFunction=function(l){var d=typeof l=="function"&&l.constructor;return!!d&&(d===ce||(d.displayName||d.name)==="GeneratorFunction")},h.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,Xt):(l.__proto__=Xt,ht(l,yt,"GeneratorFunction")),l.prototype=Object.create(Jt),l},h.awrap=function(l){return{__await:l}},u(s.prototype),ht(s.prototype,H,function(){return this}),h.AsyncIterator=s,h.async=function(l,d,f,O,T){T===void 0&&(T=Promise);var C=new s(Ot(l,d,f,O),T);return h.isGeneratorFunction(d)?C:C.next().then(function(B){return B.done?B.value:C.next()})},u(Jt),ht(Jt,yt,"Generator"),ht(Jt,G,function(){return this}),ht(Jt,"toString",function(){return"[object Generator]"}),h.keys=function(l){var d=Object(l),f=[];for(var O in d)f.push(O);return f.reverse(),function T(){for(;f.length;){var C=f.pop();if(C in d)return T.value=C,T.done=!1,T}return T.done=!0,T}},h.values=_,g.prototype={constructor:g,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(b),!l)for(var d in this)d.charAt(0)==="t"&&x.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=y)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var d=this;function f(Q,z){return C.type="throw",C.arg=l,d.next=Q,z&&(d.method="next",d.arg=y),!!z}for(var O=this.tryEntries.length-1;O>=0;--O){var T=this.tryEntries[O],C=T.completion;if(T.tryLoc==="root")return f("end");if(T.tryLoc<=this.prev){var B=x.call(T,"catchLoc"),N=x.call(T,"finallyLoc");if(B&&N){if(this.prev<T.catchLoc)return f(T.catchLoc,!0);if(this.prev<T.finallyLoc)return f(T.finallyLoc)}else if(B){if(this.prev<T.catchLoc)return f(T.catchLoc,!0)}else{if(!N)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return f(T.finallyLoc)}}}},abrupt:function(l,d){for(var f=this.tryEntries.length-1;f>=0;--f){var O=this.tryEntries[f];if(O.tryLoc<=this.prev&&x.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var T=O;break}}T&&(l==="break"||l==="continue")&&T.tryLoc<=d&&d<=T.finallyLoc&&(T=null);var C=T?T.completion:{};return C.type=l,C.arg=d,T?(this.method="next",this.next=T.finallyLoc,Dt):this.complete(C)},complete:function(l,d){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&d&&(this.next=d),Dt},finish:function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var f=this.tryEntries[d];if(f.finallyLoc===l)return this.complete(f.completion,f.afterLoc),b(f),Dt}},catch:function(l){for(var d=this.tryEntries.length-1;d>=0;--d){var f=this.tryEntries[d];if(f.tryLoc===l){var O=f.completion;if(O.type==="throw"){var T=O.arg;b(f)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(l,d,f){return this.delegate={iterator:_(l),resultName:d,nextLoc:f},this.method==="next"&&(this.arg=y),Dt}},h}function Tt(y,h,k,x,E,U,G){try{var H=y[U](G),yt=H.value}catch(ht){return void k(ht)}H.done?h(yt):Promise.resolve(yt).then(x,E)}function S(y){return function(){var h=this,k=arguments;return new Promise(function(x,E){var U=y.apply(h,k);function G(yt){Tt(U,x,E,G,H,"next",yt)}function H(yt){Tt(U,x,E,G,H,"throw",yt)}G(void 0)})}}function Mt(){return(Mt=Object.assign?Object.assign.bind():function(y){for(var h=1;h<arguments.length;h++){var k=arguments[h];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(y[x]=k[x])}return y}).apply(this,arguments)}var gt=[{name:"token",type:"address"},{name:"amount",type:"uint256"}],Ht={PermitTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],TokenPermissions:gt},re={PermitBatchTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],TokenPermissions:gt},Ft=(function(){function y(){}return y.getPermitData=function(h,k,x,E){Y.gte(h.deadline)||r(!1),F.gte(h.nonce)||r(!1);var U=Z(k,x);return(function(G){return!Array.isArray(G.permitted)})(h)?(Ut(h.permitted),{domain:U,types:E?(function(G){return Mt({PermitWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:G.witnessTypeName}],TokenPermissions:gt},G.witnessType)})(E):Ht,values:E?Object.assign(h,{witness:E.witness}):h}):(h.permitted.forEach(Ut),{domain:U,types:E?(function(G){return Mt({PermitBatchWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:G.witnessTypeName}],TokenPermissions:gt},G.witnessType)})(E):re,values:E?Object.assign(h,{witness:E.witness}):h})},y.hash=function(h,k,x,E){var U=y.getPermitData(h,k,x,E);return e._TypedDataEncoder.hash(U.domain,U.types,U.values)},y})();function Ut(y){M.gte(y.amount)||r(!1)}var Vt=[{inputs:[],name:"AllowanceExpired",type:"error"},{inputs:[],name:"ExcessiveInvalidation",type:"error"},{inputs:[],name:"InsufficientAllowance",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidContractSignature",type:"error"},{inputs:[],name:"InvalidNonce",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[],name:"LengthMismatch",type:"error"},{inputs:[],name:"NotSpender",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint160",name:"amount",type:"uint160"},{indexed:!1,internalType:"uint48",name:"expiration",type:"uint48"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"spender",type:"address"}],name:"Lockdown",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint48",name:"newNonce",type:"uint48"},{indexed:!1,internalType:"uint48",name:"oldNonce",type:"uint48"}],name:"NonceInvalidation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"word",type:"uint256"},{indexed:!1,internalType:"uint256",name:"mask",type:"uint256"}],name:"UnorderedNonceInvalidation",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint48",name:"newNonce",type:"uint48"}],name:"invalidateNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"wordPos",type:"uint256"},{internalType:"uint256",name:"mask",type:"uint256"}],name:"invalidateUnorderedNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"}],internalType:"struct IAllowanceTransfer.TokenSpenderPair[]",name:"approvals",type:"tuple[]"}],name:"lockdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"nonceBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails[]",name:"details",type:"tuple[]"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitBatch",name:"permitBatch",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails",name:"details",type:"tuple"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitSingle",name:"permitSingle",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeName",type:"string"},{internalType:"string",name:"witnessType",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeName",type:"string"},{internalType:"string",name:"witnessType",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"address",name:"to",type:"address"}],internalType:"struct IAllowanceTransfer.AllowanceTransferDetails[]",name:"transferDetails",type:"tuple[]"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];t.AllowanceProvider=(function(){function y(k,x){this.provider=k,this.permit2Address=x,this.permit2=new o.Contract(this.permit2Address,Vt,this.provider)}var h=y.prototype;return h.getAllowanceData=(function(){var k=S(mt().mark(function x(E,U,G){return mt().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.permit2.allowance(U,E,G);case 2:return H.abrupt("return",H.sent);case 3:case"end":return H.stop()}},x,this)}));return function(x,E,U){return k.apply(this,arguments)}})(),h.getAllowance=(function(){var k=S(mt().mark(function x(E,U,G){return mt().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.getAllowanceData(E,U,G);case 2:return H.abrupt("return",H.sent.amount);case 3:case"end":return H.stop()}},x,this)}));return function(x,E,U){return k.apply(this,arguments)}})(),h.getNonce=(function(){var k=S(mt().mark(function x(E,U,G){return mt().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.getAllowanceData(E,U,G);case 2:return H.abrupt("return",H.sent.nonce);case 3:case"end":return H.stop()}},x,this)}));return function(x,E,U){return k.apply(this,arguments)}})(),h.getExpiration=(function(){var k=S(mt().mark(function x(E,U,G){return mt().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.getAllowanceData(E,U,G);case 2:return H.abrupt("return",H.sent.expiration);case 3:case"end":return H.stop()}},x,this)}));return function(x,E,U){return k.apply(this,arguments)}})(),y})(),t.AllowanceTransfer=lt,t.InstantExpiration=j,t.MaxAllowanceExpiration=R,t.MaxAllowanceTransferAmount=w,t.MaxOrderedNonce=q,t.MaxSigDeadline=Y,t.MaxSignatureTransferAmount=M,t.MaxUint160=A,t.MaxUint256=m,t.MaxUint48=p,t.MaxUnorderedNonce=F,t.PERMIT2_ADDRESS="0x000000000022D473030F116dDEE9F6B43aC78BA3",t.SignatureTransfer=Ft,t.permit2Address=function(y){switch(y){case 324:return"0x0000000000225e31D15943971F47aD3022F714Fa";default:return"0x000000000022D473030F116dDEE9F6B43aC78BA3"}}}}),mr=Ee({"../../node_modules/@uniswap/permit2-sdk/dist/index.js"(t,n){n.exports=Du()}});fe();ne();const Nu=[ee.MAINNET,ee.GOERLI,ee.POLYGON,ee.BASE,ee.UNICHAIN];function on(t,n=[]){return Nu.concat(n).reduce((r,e)=>(r[e]=t,r),{})}const Cr=Object.assign(Object.assign({},on("0x000000000022d473030f116ddee9f6b43ac78ba3",[11155111,42161])),{12341234:"0x000000000022d473030f116ddee9f6b43ac78ba3"}),ns=Object.assign(Object.assign({},on("0x54539967a06Fc0E3C3ED0ee320Eb67362D13C5fF")),{11155111:"0xAA6187C48096e093c37d2cF178B1e8534A6934f7",42161:"0x88440407634F89873c5D9439987Ac4BE9725fea8",12341234:"0xbea0901A41177811b099F787D753436b2c47690E",8453:"0x88440407634f89873c5d9439987ac4be9725fea8",130:"0x88440407634F89873c5D9439987Ac4BE9725fea8"}),rs=Object.assign(Object.assign({},on("0x8A66A74e15544db9688B68B06E116f5d19e5dF90")),{5:"0x0000000000000000000000000000000000000000",11155111:"0x0000000000000000000000000000000000000000",42161:"0x0000000000000000000000000000000000000000",12341234:"0x8A66A74e15544db9688B68B06E116f5d19e5dF90"});var Mr;(function(t){t.ERC20_TRANSFER="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"})(Mr||(Mr={}));var dt;(function(t){t.Dutch="Dutch",t.Relay="Relay",t.Dutch_V2="Dutch_V2",t.Dutch_V3="Dutch_V3",t.Limit="Limit",t.Priority="Priority"})(dt||(dt={}));const nr=Object.assign(Object.assign({},on({[dt.Dutch]:"0x6000da47483062A0D734Ba3dc7576Ce6A0B645C4",[dt.Dutch_V2]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000A4e21E2597DCac987455c48b12edBF"})),{1:{[dt.Dutch]:"0x6000da47483062A0D734Ba3dc7576Ce6A0B645C4",[dt.Dutch_V2]:"0x00000011F84B9aa48e5f8aA8B9897600006289Be",[dt.Priority]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000A4e21E2597DCac987455c48b12edBF"},12341234:{[dt.Dutch]:"0xbD7F9D0239f81C94b728d827a87b9864972661eC",[dt.Dutch_V2]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000A4e21E2597DCac987455c48b12edBF"},11155111:{[dt.Dutch_V2]:"0x0e22B6638161A89533940Db590E67A52474bEBcd",[dt.Dutch]:"0xD6c073F2A3b676B8f9002b276B618e0d8bA84Fad",[dt.Relay]:"0x0000000000A4e21E2597DCac987455c48b12edBF"},42161:{[dt.Dutch_V2]:"0x1bd1aAdc9E230626C44a139d7E70d842749351eb",[dt.Dutch]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000000000000000000000000000000000",[dt.Dutch_V3]:"0xB274d5F4b833b61B340b654d600A864fB604a87c"},8453:{[dt.Dutch]:"0x0000000000000000000000000000000000000000",[dt.Dutch_V2]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000000000000000000000000000000000",[dt.Priority]:"0x000000001Ec5656dcdB24D90DFa42742738De729"},130:{[dt.Dutch]:"0x0000000000000000000000000000000000000000",[dt.Dutch_V2]:"0x0000000000000000000000000000000000000000",[dt.Relay]:"0x0000000000000000000000000000000000000000",[dt.Priority]:"0x00000006021a6Bce796be7ba509BBBA71e956e37"}}),is=Object.entries(nr).reduce((t,[n,r])=>{for(const[e,i]of Object.entries(r))t[i.toLowerCase()]={orderType:dt[e]};return t},{}),as=1e4,Pe=W.from(10).pow(7),os=[{address:"0x7712c34205737192402172409a8F7ccef8aA2AEc",chainId:ee.MAINNET,symbol:"BUIDL",usesProxy:!0}];var Si=class xi extends Error{constructor(n,r){super(`Missing configuration for ${n}: ${r}`),Object.setPrototypeOf(this,xi.prototype)}};function Fr(t,n=Math.floor(Date.now()/1e3)){const{startAmount:r,endAmount:e,decayStartTime:i,decayEndTime:o}=t;if(o<=n)return e;if(i>=n||r.eq(e))return r;const p=o-i,A=n-i;if(r.gt(e)){const m=r.sub(e).mul(A).div(p);return r.sub(m)}else{const m=e.sub(r).mul(A).div(p);return r.add(m)}}ne();var Ce;(function(t){t[t.None=0]="None",t[t.ExclusiveFiller=1]="ExclusiveFiller"})(Ce||(Ce={}));const Oi={type:Ce.None,data:null};function Ri(t){const n=Cu(t.additionalValidationData);return n.type!==Ce.None?n:Oi}function Cu(t){try{const[n,r]=new Ct().decode(["address","uint256"],t);return{type:Ce.ExclusiveFiller,data:{filler:n,lastExclusiveTimestamp:r.toNumber()}}}catch{return Oi}}ne();function Mu(t){const n=t.div(256),r=t.mod(256);return{word:n,bitPos:r}}function us(t){const n=t.map(Mu),r={};return n.forEach(e=>{const i=e.word.toString();r[i]||(r[i]=[]),r[i].push(e)}),Object.entries(r).map(([e,i])=>{let o=W.from(0);return i.forEach(p=>{o=o.or(W.from(2).pow(p.bitPos))}),{word:W.from(e),mask:o}})}ne();function Fu(t,n){const r=t.relativeBlocks;let e=0,i=0;for(;i<r.length;i++){if(r[i]>=n)return[e,i];e=i}return[i-1,i-1]}var Lu=class{static decay(t,n,r,e){if(t.relativeAmounts.length>16)throw new Error("InvalidDecayCurve");if(r>=e||t.relativeAmounts.length===0)return n;const i=e-r;if(t.relativeBlocks[0]>i)return this.linearDecay(0,t.relativeBlocks[0],i,n,n.sub(t.relativeAmounts[0].toString()));const[o,p]=Fu(t,i),A=n.sub(t.relativeAmounts[o].toString()),m=n.sub(t.relativeAmounts[p].toString());return this.linearDecay(t.relativeBlocks[o],t.relativeBlocks[p],i,A,m)}static linearDecay(t,n,r,e,i){if(r>=n)return i;const o=W.from(r-t),p=W.from(n-t);let A;return i.lt(e)?A=W.from(0).sub(e.sub(i).mul(o).div(p)):A=i.sub(e).mul(o).div(p),e.add(A)}};function Lr(t,n){const{decayStartBlock:r,startAmount:e,relativeBlocks:i,relativeAmounts:o}=t;return Lu.decay({relativeAmounts:o,relativeBlocks:i},e,r,n)}var qr=$e(mr());ne();const Di="tuple(uint256,address,uint256,uint256,uint256[])",Br={V3DutchOrder:[{name:"info",type:"OrderInfo"},{name:"cosigner",type:"address"},{name:"startingBaseFee",type:"uint256"},{name:"baseInput",type:"V3DutchInput"},{name:"baseOutputs",type:"V3DutchOutput[]"}],OrderInfo:[{name:"reactor",type:"address"},{name:"swapper",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"additionalValidationContract",type:"address"},{name:"additionalValidationData",type:"bytes"}],V3DutchInput:[{name:"token",type:"address"},{name:"startAmount",type:"uint256"},{name:"curve",type:"NonlinearDutchDecay"},{name:"maxAmount",type:"uint256"},{name:"adjustmentPerGweiBaseFee",type:"uint256"}],V3DutchOutput:[{name:"token",type:"address"},{name:"startAmount",type:"uint256"},{name:"curve",type:"NonlinearDutchDecay"},{name:"recipient",type:"address"},{name:"minAmount",type:"uint256"},{name:"adjustmentPerGweiBaseFee",type:"uint256"}],NonlinearDutchDecay:[{name:"relativeBlocks",type:"uint256"},{name:"relativeAmounts",type:"int256[]"}]},yr=["tuple("+["tuple(address,address,uint256,uint256,address,bytes)","address","uint256","tuple(address,uint256,tuple(uint256,int256[]),uint256,uint256)","tuple(address,uint256,tuple(uint256,int256[]),address,uint256,uint256)[]",Di,"bytes"].join(",")+")"];var Ni=class rr{constructor(n,r,e){this.info=n,this.chainId=r,this.permit2Address=fr(r,e)}static fromJSON(n,r,e){return new rr(Object.assign(Object.assign({},n),{nonce:W.from(n.nonce),startingBaseFee:W.from(n.startingBaseFee),input:Object.assign(Object.assign({},n.input),{startAmount:W.from(n.input.startAmount),curve:{relativeBlocks:n.input.curve.relativeBlocks,relativeAmounts:n.input.curve.relativeAmounts.map(i=>BigInt(i))},maxAmount:W.from(n.input.maxAmount),adjustmentPerGweiBaseFee:W.from(n.input.adjustmentPerGweiBaseFee)}),outputs:n.outputs.map(i=>Object.assign(Object.assign({},i),{startAmount:W.from(i.startAmount),curve:{relativeBlocks:i.curve.relativeBlocks,relativeAmounts:i.curve.relativeAmounts.map(o=>BigInt(o))},minAmount:W.from(i.minAmount),adjustmentPerGweiBaseFee:W.from(i.adjustmentPerGweiBaseFee)}))}),r,e)}get blockOverrides(){}serialize(){const n=Ne(this.info.input.curve.relativeBlocks);return new Ct().encode(yr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,this.info.startingBaseFee,[this.info.input.token,this.info.input.startAmount,[n,this.info.input.curve.relativeAmounts],this.info.input.maxAmount,this.info.input.adjustmentPerGweiBaseFee],this.info.outputs.map(e=>[e.token,e.startAmount,[n,e.curve.relativeAmounts],e.recipient,e.minAmount,e.adjustmentPerGweiBaseFee]),[0,tn,0,0,[0]],"0x"]])}toJSON(){return{reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce.toString(),deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData,cosigner:this.info.cosigner,startingBaseFee:this.info.startingBaseFee.toString(),input:{token:this.info.input.token,startAmount:this.info.input.startAmount.toString(),curve:{relativeBlocks:this.info.input.curve.relativeBlocks,relativeAmounts:this.info.input.curve.relativeAmounts.map(n=>n.toString())},maxAmount:this.info.input.maxAmount.toString(),adjustmentPerGweiBaseFee:this.info.input.adjustmentPerGweiBaseFee.toString()},outputs:this.info.outputs.map(n=>({token:n.token,startAmount:n.startAmount.toString(),curve:{relativeBlocks:n.curve.relativeBlocks,relativeAmounts:n.curve.relativeAmounts.map(r=>r.toString())},recipient:n.recipient,minAmount:n.minAmount.toString(),adjustmentPerGweiBaseFee:n.adjustmentPerGweiBaseFee.toString()})),chainId:this.chainId,permit2Address:this.permit2Address}}permitData(){return qr.SignatureTransfer.getPermitData(this.toPermit(),this.permit2Address,this.chainId,this.witness())}toPermit(){return{permitted:{token:this.info.input.token,amount:this.info.input.maxAmount},spender:this.info.reactor,nonce:this.info.nonce,deadline:this.info.deadline}}witnessInfo(){return{info:{reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce,deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData},cosigner:this.info.cosigner,startingBaseFee:this.info.startingBaseFee,baseInput:{token:this.info.input.token,startAmount:this.info.input.startAmount,curve:{relativeBlocks:Ne(this.info.input.curve.relativeBlocks),relativeAmounts:this.info.input.curve.relativeAmounts.map(n=>n.toString())},maxAmount:this.info.input.maxAmount,adjustmentPerGweiBaseFee:this.info.input.adjustmentPerGweiBaseFee},baseOutputs:this.info.outputs.map(n=>({token:n.token,startAmount:n.startAmount,curve:{relativeBlocks:Ne(n.curve.relativeBlocks),relativeAmounts:n.curve.relativeAmounts.map(r=>r.toString())},recipient:n.recipient,minAmount:n.minAmount,adjustmentPerGweiBaseFee:n.adjustmentPerGweiBaseFee}))}}witness(){return{witness:this.witnessInfo(),witnessTypeName:"V3DutchOrder",witnessType:Br}}getSigner(n){return nn(rn(qr.SignatureTransfer.hash(this.toPermit(),this.permit2Address,this.chainId,this.witness()),n))}hash(){const n=this.witnessInfo();return en.from(Br).hash(n)}cosignatureHash(n){const r=new Ct;return Fe(["bytes32","uint256","bytes"],[this.hash(),this.chainId,r.encode([Di],[[n.decayStartBlock,n.exclusiveFiller,n.exclusivityOverrideBps,n.inputOverride,n.outputOverrides]])])}static parse(n,r,e){return new rr(Ci(n),r,e)}},ss=class Xe extends Ni{static fromUnsignedOrder(n,r,e){return new Xe(Object.assign(Object.assign({},n.info),{cosignerData:r,cosignature:e}),n.chainId,n.permit2Address)}static fromJSON(n,r,e){return new Xe(Object.assign(Object.assign({},n),{nonce:W.from(n.nonce),startingBaseFee:W.from(n.startingBaseFee),input:{token:n.input.token,startAmount:W.from(n.input.startAmount),curve:{relativeBlocks:n.input.curve.relativeBlocks,relativeAmounts:n.input.curve.relativeAmounts.map(i=>BigInt(i))},maxAmount:W.from(n.input.maxAmount),adjustmentPerGweiBaseFee:W.from(n.input.adjustmentPerGweiBaseFee)},outputs:n.outputs.map(i=>({token:i.token,startAmount:W.from(i.startAmount),curve:{relativeBlocks:i.curve.relativeBlocks,relativeAmounts:i.curve.relativeAmounts.map(o=>BigInt(o))},recipient:i.recipient,minAmount:W.from(i.minAmount),adjustmentPerGweiBaseFee:W.from(i.adjustmentPerGweiBaseFee)})),cosignerData:{decayStartBlock:n.cosignerData.decayStartBlock,exclusiveFiller:n.cosignerData.exclusiveFiller,exclusivityOverrideBps:W.from(n.cosignerData.exclusivityOverrideBps),inputOverride:W.from(n.cosignerData.inputOverride),outputOverrides:n.cosignerData.outputOverrides.map(W.from)},cosignature:n.cosignature}),r,e)}constructor(n,r,e){super(n,r,e),this.info=n,this.chainId=r}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{cosignerData:{decayStartBlock:this.info.cosignerData.decayStartBlock,exclusiveFiller:this.info.cosignerData.exclusiveFiller,exclusivityOverrideBps:this.info.cosignerData.exclusivityOverrideBps.toNumber(),inputOverride:this.info.cosignerData.inputOverride.toString(),outputOverrides:this.info.cosignerData.outputOverrides.map(n=>n.toString())},cosignature:this.info.cosignature})}static parse(n,r,e){return new Xe(Ci(n),r,e)}serialize(){const n=Ne(this.info.input.curve.relativeBlocks);return new Ct().encode(yr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,this.info.startingBaseFee,[this.info.input.token,this.info.input.startAmount,[n,this.info.input.curve.relativeAmounts],this.info.input.maxAmount,this.info.input.adjustmentPerGweiBaseFee],this.info.outputs.map(e=>[e.token,e.startAmount,[Ne(e.curve.relativeBlocks),e.curve.relativeAmounts],e.recipient,e.minAmount,e.adjustmentPerGweiBaseFee]),[this.info.cosignerData.decayStartBlock,this.info.cosignerData.exclusiveFiller,this.info.cosignerData.exclusivityOverrideBps,this.info.cosignerData.inputOverride.toString(),this.info.cosignerData.outputOverrides.map(e=>e.toString())],this.info.cosignature]])}recoverCosigner(){const n=this.cosignatureHash(this.info.cosignerData),r=this.info.cosignature;return ii(n,r)}resolve(n){return{input:{token:this.info.input.token,amount:Lr({decayStartBlock:this.info.cosignerData.decayStartBlock,startAmount:Je(this.info.cosignerData.inputOverride,this.info.input.startAmount),relativeBlocks:this.info.input.curve.relativeBlocks,relativeAmounts:this.info.input.curve.relativeAmounts},n.currentBlock)},outputs:this.info.outputs.map((r,e)=>({token:r.token,amount:Lr({decayStartBlock:this.info.cosignerData.decayStartBlock,startAmount:Je(this.info.cosignerData.outputOverrides[e],r.startAmount),relativeBlocks:r.curve.relativeBlocks,relativeAmounts:r.curve.relativeAmounts},n.currentBlock)}))}}};function Ci(t){const r=new Ct().decode(yr,t),[[[e,i,o,p,A,m],w,R,[q,M,[F,Y],j,Z],et,[rt,X,lt,At,mt],Tt]]=r;return{reactor:e,swapper:i,nonce:o,deadline:p.toNumber(),additionalValidationContract:A,additionalValidationData:m,cosigner:w,startingBaseFee:R,input:{token:q,startAmount:M,curve:{relativeBlocks:Ur(F,Y.length),relativeAmounts:Y.map(S=>S.toBigInt())},maxAmount:j,adjustmentPerGweiBaseFee:Z},outputs:et.map(([S,Mt,[gt,Ht],re,Ft,Ut])=>({token:S,startAmount:Mt,curve:{relativeBlocks:Ur(gt,Ht.length),relativeAmounts:Ht.map(Vt=>Vt.toBigInt())},recipient:re,minAmount:Ft,adjustmentPerGweiBaseFee:Ut})),cosignerData:{decayStartBlock:rt.toNumber(),exclusiveFiller:X,exclusivityOverrideBps:lt,inputOverride:At,outputOverrides:mt},cosignature:Tt}}function Ne(t){let n=W.from(0);for(let r=0;r<t.length;r++)n=n.or(W.from(t[r]).shl(r*16));return n}function Ur(t,n){const r=[];for(let e=0;e<n;e++){const i=t.shr(e*16).toNumber()&65535;r.push(i)}return r}function Je(t,n){return t.isZero()?n:t}function fr(t,n){if(n)return n;if(Cr[t])return Cr[t];throw new Si("permit2",t.toString())}function ps(t,n,r){const e=nr[t]?nr[t][n]:void 0;if(r)return r;if(e)return e;throw new Si("reactor",t.toString())}Qr();var Vr=$e(mr());ne();var Wr=class extends Error{constructor(t){super(t),this.name="OrderNotFillable"}};const qu="tuple(uint256)",jr={PriorityOrder:[{name:"info",type:"OrderInfo"},{name:"cosigner",type:"address"},{name:"auctionStartBlock",type:"uint256"},{name:"baselinePriorityFeeWei",type:"uint256"},{name:"input",type:"PriorityInput"},{name:"outputs",type:"PriorityOutput[]"}],OrderInfo:[{name:"reactor",type:"address"},{name:"swapper",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"additionalValidationContract",type:"address"},{name:"additionalValidationData",type:"bytes"}],PriorityInput:[{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"mpsPerPriorityFeeWei",type:"uint256"}],PriorityOutput:[{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"mpsPerPriorityFeeWei",type:"uint256"},{name:"recipient",type:"address"}]},hr=["tuple("+["tuple(address,address,uint256,uint256,address,bytes)","address","uint256","uint256","tuple(address,uint256,uint256)","tuple(address,uint256,uint256,address)[]","tuple(uint256)","bytes"].join(",")+")"];var Mi=class ir{constructor(n,r,e){this.info=n,this.chainId=r,this.permit2Address=fr(r,e)}static fromJSON(n,r,e){return new ir(Object.assign(Object.assign({},n),{cosigner:n.cosigner,auctionStartBlock:W.from(n.auctionStartBlock),baselinePriorityFeeWei:W.from(n.baselinePriorityFeeWei),nonce:W.from(n.nonce),input:{token:n.input.token,amount:W.from(n.input.amount),mpsPerPriorityFeeWei:W.from(n.input.mpsPerPriorityFeeWei)},outputs:n.outputs.map(i=>({token:i.token,amount:W.from(i.amount),mpsPerPriorityFeeWei:W.from(i.mpsPerPriorityFeeWei),recipient:i.recipient}))}),r,e)}static parse(n,r,e){return new ir(Fi(n),r,e)}toJSON(){return{chainId:this.chainId,permit2Address:this.permit2Address,reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce.toString(),deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData,cosigner:this.info.cosigner,auctionStartBlock:this.info.auctionStartBlock.toString(),baselinePriorityFeeWei:this.info.baselinePriorityFeeWei.toString(),input:{token:this.info.input.token,amount:this.info.input.amount.toString(),mpsPerPriorityFeeWei:this.info.input.mpsPerPriorityFeeWei.toString()},outputs:this.info.outputs.map(n=>({token:n.token,amount:n.amount.toString(),mpsPerPriorityFeeWei:n.mpsPerPriorityFeeWei.toString(),recipient:n.recipient}))}}get blockOverrides(){return{number:or(this.info.auctionStartBlock.toHexString())}}serialize(){return new Ct().encode(hr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,this.info.auctionStartBlock,this.info.baselinePriorityFeeWei,[this.info.input.token,this.info.input.amount,this.info.input.mpsPerPriorityFeeWei],this.info.outputs.map(r=>[r.token,r.amount,r.mpsPerPriorityFeeWei,r.recipient]),[0],"0x"]])}getSigner(n){return nn(rn(Vr.SignatureTransfer.hash(this.toPermit(),this.permit2Address,this.chainId,this.witness()),n))}permitData(){return Vr.SignatureTransfer.getPermitData(this.toPermit(),this.permit2Address,this.chainId,this.witness())}hash(){return en.from(jr).hash(this.witnessInfo())}resolve(n){throw new Error("Method not implemented.")}get validation(){return Ri(this.info)}toPermit(){return{permitted:{token:this.info.input.token,amount:this.info.input.amount},spender:this.info.reactor,nonce:this.info.nonce,deadline:this.info.deadline}}witnessInfo(){return{info:{reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce,deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData},cosigner:this.info.cosigner,auctionStartBlock:this.info.auctionStartBlock,baselinePriorityFeeWei:this.info.baselinePriorityFeeWei,input:this.info.input,outputs:this.info.outputs}}witness(){return{witness:this.witnessInfo(),witnessTypeName:"PriorityOrder",witnessType:jr}}cosignatureHash(n){const r=new Ct;return Fe(["bytes32","uint256","bytes"],[this.hash(),this.chainId,r.encode([qu],[[n.auctionTargetBlock]])])}},cs=class Ge extends Mi{static fromUnsignedOrder(n,r,e){return new Ge(Object.assign(Object.assign({},n.info),{cosignerData:r,cosignature:e}),n.chainId,n.permit2Address)}static fromJSON(n,r,e){return new Ge(Object.assign(Object.assign({},n),{nonce:W.from(n.nonce),cosigner:n.cosigner,auctionStartBlock:W.from(n.auctionStartBlock),baselinePriorityFeeWei:W.from(n.baselinePriorityFeeWei),input:{token:n.input.token,amount:W.from(n.input.amount),mpsPerPriorityFeeWei:W.from(n.input.mpsPerPriorityFeeWei)},outputs:n.outputs.map(i=>({token:i.token,amount:W.from(i.amount),mpsPerPriorityFeeWei:W.from(i.mpsPerPriorityFeeWei),recipient:i.recipient})),cosignerData:{auctionTargetBlock:W.from(n.cosignerData.auctionTargetBlock)},cosignature:n.cosignature}),r,e)}static parse(n,r,e){return new Ge(Fi(n),r,e)}constructor(n,r,e){super(n,r,e),this.info=n,this.chainId=r}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{cosignerData:{auctionTargetBlock:this.info.cosignerData.auctionTargetBlock.toString()},cosignature:this.info.cosignature})}resolve(n){if(n.currentBlock){if(this.info.cosignerData.auctionTargetBlock.gt(0)&&n.currentBlock.lt(this.info.cosignerData.auctionTargetBlock))throw new Wr("Target block in the future");if(n.currentBlock.lt(this.info.auctionStartBlock))throw new Wr("Start block in the future")}return{input:{token:this.info.input.token,amount:Bu(this.info.input,n.priorityFee)},outputs:Uu(this.info.outputs,n.priorityFee)}}get blockOverrides(){return{number:or(this.info.cosignerData.auctionTargetBlock.toHexString())}}serialize(){return new Ct().encode(hr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,this.info.auctionStartBlock,this.info.baselinePriorityFeeWei,[this.info.input.token,this.info.input.amount,this.info.input.mpsPerPriorityFeeWei],this.info.outputs.map(r=>[r.token,r.amount,r.mpsPerPriorityFeeWei,r.recipient]),[this.info.cosignerData.auctionTargetBlock],this.info.cosignature]])}recoverCosigner(){return pr(this.cosignatureHash(this.info.cosignerData),this.info.cosignature)}};function Fi(t){const r=new Ct().decode(hr,t),[[[e,i,o,p,A,m],w,R,q,[M,F,Y],j,[Z],et]]=r;return{reactor:e,swapper:i,nonce:o,deadline:p.toNumber(),additionalValidationContract:A,additionalValidationData:m,cosigner:w,auctionStartBlock:R,baselinePriorityFeeWei:q,input:{token:M,amount:F,mpsPerPriorityFeeWei:Y},outputs:j.map(([rt,X,lt,At])=>({token:rt,amount:X,mpsPerPriorityFeeWei:lt,recipient:At})),cosignerData:{auctionTargetBlock:Z},cosignature:et}}function Bu(t,n){return n.mul(t.mpsPerPriorityFeeWei).gte(Pe)?W.from(0):t.amount.mul(Pe.sub(n.mul(t.mpsPerPriorityFeeWei))).div(Pe)}function Uu(t,n){return t.map(r=>{const e=r.amount.mul(Pe.add(n.mul(r.mpsPerPriorityFeeWei))),i=e.mod(Pe),o=e.div(Pe);return Object.assign(Object.assign({},r),{amount:i.eq(0)?o:o.add(1)})})}var Hr=$e(mr());ne();const Li="tuple(uint256,uint256,address,uint256,uint256,uint256[])",Xr={V2DutchOrder:[{name:"info",type:"OrderInfo"},{name:"cosigner",type:"address"},{name:"baseInputToken",type:"address"},{name:"baseInputStartAmount",type:"uint256"},{name:"baseInputEndAmount",type:"uint256"},{name:"baseOutputs",type:"DutchOutput[]"}],OrderInfo:[{name:"reactor",type:"address"},{name:"swapper",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"additionalValidationContract",type:"address"},{name:"additionalValidationData",type:"bytes"}],DutchOutput:[{name:"token",type:"address"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},vr=["tuple("+["tuple(address,address,uint256,uint256,address,bytes)","address","tuple(address,uint256,uint256)","tuple(address,uint256,uint256,address)[]",Li,"bytes"].join(",")+")"];var qi=class ar{constructor(n,r,e){this.info=n,this.chainId=r,this.permit2Address=fr(r,e)}static fromJSON(n,r,e){return new ar(Object.assign(Object.assign({},n),{nonce:W.from(n.nonce),input:{token:n.input.token,startAmount:W.from(n.input.startAmount),endAmount:W.from(n.input.endAmount)},outputs:n.outputs.map(i=>({token:i.token,startAmount:W.from(i.startAmount),endAmount:W.from(i.endAmount),recipient:i.recipient}))}),r,e)}static parse(n,r,e){return new ar(Bi(n),r,e)}toJSON(){return{chainId:this.chainId,permit2Address:this.permit2Address,reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce.toString(),deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData,input:{token:this.info.input.token,startAmount:this.info.input.startAmount.toString(),endAmount:this.info.input.endAmount.toString()},outputs:this.info.outputs.map(n=>({token:n.token,startAmount:n.startAmount.toString(),endAmount:n.endAmount.toString(),recipient:n.recipient})),cosigner:this.info.cosigner}}get blockOverrides(){}serialize(){return new Ct().encode(vr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,[this.info.input.token,this.info.input.startAmount,this.info.input.endAmount],this.info.outputs.map(r=>[r.token,r.startAmount,r.endAmount,r.recipient]),[0,0,tn,0,0,[0]],"0x"]])}getSigner(n){return nn(rn(Hr.SignatureTransfer.hash(this.toPermit(),this.permit2Address,this.chainId,this.witness()),n))}permitData(){return Hr.SignatureTransfer.getPermitData(this.toPermit(),this.permit2Address,this.chainId,this.witness())}hash(){return en.from(Xr).hash(this.witnessInfo())}resolve(n){throw new Error("Method not implemented")}get validation(){return Ri(this.info)}toPermit(){return{permitted:{token:this.info.input.token,amount:this.info.input.endAmount},spender:this.info.reactor,nonce:this.info.nonce,deadline:this.info.deadline}}witnessInfo(){return{info:{reactor:this.info.reactor,swapper:this.info.swapper,nonce:this.info.nonce,deadline:this.info.deadline,additionalValidationContract:this.info.additionalValidationContract,additionalValidationData:this.info.additionalValidationData},cosigner:this.info.cosigner,baseInputToken:this.info.input.token,baseInputStartAmount:this.info.input.startAmount,baseInputEndAmount:this.info.input.endAmount,baseOutputs:this.info.outputs}}witness(){return{witness:this.witnessInfo(),witnessTypeName:"V2DutchOrder",witnessType:Xr}}cosignatureHash(n){const r=new Ct;return Fe(["bytes32","bytes"],[this.hash(),r.encode([Li],[[n.decayStartTime,n.decayEndTime,n.exclusiveFiller,n.exclusivityOverrideBps,n.inputOverride,n.outputOverrides]])])}},ds=class Ke extends qi{static fromUnsignedOrder(n,r,e){return new Ke(Object.assign(Object.assign({},n.info),{cosignerData:r,cosignature:e}),n.chainId,n.permit2Address)}static fromJSON(n,r,e){return new Ke(Object.assign(Object.assign({},n),{nonce:W.from(n.nonce),input:{token:n.input.token,startAmount:W.from(n.input.startAmount),endAmount:W.from(n.input.endAmount)},outputs:n.outputs.map(i=>({token:i.token,startAmount:W.from(i.startAmount),endAmount:W.from(i.endAmount),recipient:i.recipient})),cosignerData:{decayStartTime:n.cosignerData.decayStartTime,decayEndTime:n.cosignerData.decayEndTime,exclusiveFiller:n.cosignerData.exclusiveFiller,exclusivityOverrideBps:W.from(n.cosignerData.exclusivityOverrideBps),inputOverride:W.from(n.cosignerData.inputOverride),outputOverrides:n.cosignerData.outputOverrides.map(W.from)},cosignature:n.cosignature}),r,e)}static parse(n,r,e){return new Ke(Bi(n),r,e)}constructor(n,r,e){super(n,r,e),this.info=n,this.chainId=r}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{cosignerData:{decayStartTime:this.info.cosignerData.decayStartTime,decayEndTime:this.info.cosignerData.decayEndTime,exclusiveFiller:this.info.cosignerData.exclusiveFiller,exclusivityOverrideBps:this.info.cosignerData.exclusivityOverrideBps.toNumber(),inputOverride:this.info.cosignerData.inputOverride.toString(),outputOverrides:this.info.cosignerData.outputOverrides.map(n=>n.toString())},cosignature:this.info.cosignature})}resolve(n){return{input:{token:this.info.input.token,amount:Fr({decayStartTime:this.info.cosignerData.decayStartTime,decayEndTime:this.info.cosignerData.decayEndTime,startAmount:Je(this.info.cosignerData.inputOverride,this.info.input.startAmount),endAmount:this.info.input.endAmount},n.timestamp)},outputs:this.info.outputs.map((r,e)=>({token:r.token,amount:Fr({decayStartTime:this.info.cosignerData.decayStartTime,decayEndTime:this.info.cosignerData.decayEndTime,startAmount:Je(this.info.cosignerData.outputOverrides[e],r.startAmount),endAmount:r.endAmount},n.timestamp)}))}}serialize(){return new Ct().encode(vr,[[[this.info.reactor,this.info.swapper,this.info.nonce,this.info.deadline,this.info.additionalValidationContract,this.info.additionalValidationData],this.info.cosigner,[this.info.input.token,this.info.input.startAmount,this.info.input.endAmount],this.info.outputs.map(r=>[r.token,r.startAmount,r.endAmount,r.recipient]),[this.info.cosignerData.decayStartTime,this.info.cosignerData.decayEndTime,this.info.cosignerData.exclusiveFiller,this.info.cosignerData.exclusivityOverrideBps,this.info.cosignerData.inputOverride.toString(),this.info.cosignerData.outputOverrides.map(r=>r.toString())],this.info.cosignature]])}recoverCosigner(){return pr(this.cosignatureHash(this.info.cosignerData),this.info.cosignature)}};function Bi(t){const r=new Ct().decode(vr,t),[[[e,i,o,p,A,m],w,[R,q,M],F,[Y,j,Z,et,rt,X],lt]]=r;return{reactor:e,swapper:i,nonce:o,deadline:p.toNumber(),additionalValidationContract:A,additionalValidationData:m,cosigner:w,input:{token:R,startAmount:q,endAmount:M},outputs:F.map(([At,mt,Tt,S])=>({token:At,startAmount:mt,endAmount:Tt,recipient:S})),cosignerData:{decayStartTime:Y.toNumber(),decayEndTime:j.toNumber(),exclusiveFiller:Z,exclusivityOverrideBps:et,inputOverride:rt,outputOverrides:X},cosignature:lt}}fe();ne();var ke;(function(t){t.MATIC="MATIC",t.BNB="BNB",t.AVAX="AVAX",t.ETH="ETH"})(ke||(ke={}));function Vu(t){switch(t){case ee.POLYGON:return ke.MATIC;case ee.BNB:return ke.BNB;case ee.AVALANCHE:return ke.AVAX;default:return ke.ETH}}function Me(t,n,r){return t.chainId!==r?!1:t.isNative?n===tn||n===Vu(r):t.address.toLowerCase()===(n==null?void 0:n.toLowerCase())}fe();var ls=class{constructor({currencyIn:t,currenciesOut:n,orderInfo:r,tradeType:e}){this._currencyIn=t,this._currenciesOut=n,this.tradeType=e,this.order=new qi(r,t.chainId)}get inputAmount(){if(this._inputAmount)return this._inputAmount;const t=it.fromRawAmount(this._currencyIn,this.order.info.input.startAmount.toString());return this._inputAmount=t,t}get outputAmounts(){if(this._outputAmounts)return this._outputAmounts;const t=this.order.info.outputs.map(n=>{const r=this._currenciesOut.find(e=>Me(e,n.token,e.chainId));if(!r)throw new Error("currency not found in output array");return it.fromRawAmount(r,n.startAmount.toString())});return this._outputAmounts=t,t}getFirstNonFeeOutputStartEndAmounts(){if(this._firstNonFeeOutputStartEndAmounts)return this._firstNonFeeOutputStartEndAmounts;if(this.order.info.outputs.length===0)throw new Error("there must be at least one output token");const t=this.order.info.outputs[0],n=this._currenciesOut.find(e=>Me(e,t.token,e.chainId));if(!n)throw new Error("currency output from order must exist in currenciesOut list");const r={startAmount:it.fromRawAmount(n,t.startAmount.toString()),endAmount:it.fromRawAmount(n,t.endAmount.toString())};return this._firstNonFeeOutputStartEndAmounts=r,r}get outputAmount(){return this.getFirstNonFeeOutputStartEndAmounts().startAmount}minimumAmountOut(){return this.getFirstNonFeeOutputStartEndAmounts().endAmount}maximumAmountIn(){return it.fromRawAmount(this._currencyIn,this.order.info.input.endAmount.toString())}get executionPrice(){var t;return(t=this._executionPrice)!==null&&t!==void 0?t:this._executionPrice=new qt(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}worstExecutionPrice(){return new qt(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn().quotient,this.minimumAmountOut().quotient)}};fe();var ms=class{constructor({currencyIn:t,currenciesOut:n,orderInfo:r,tradeType:e,expectedAmounts:i}){this._currencyIn=t,this._currenciesOut=n,this.tradeType=e,this.expectedAmounts=i,this.order=new Mi(r,t.chainId)}get inputAmount(){var t;if(this._inputAmount)return this._inputAmount;const n=!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountIn?this.getExpectedAmountIn():it.fromRawAmount(this._currencyIn,this.order.info.input.amount.toString());return this._inputAmount=n,n}get outputAmounts(){if(this._outputAmounts)return this._outputAmounts;const t=this.order.info.outputs.map(n=>{const r=this._currenciesOut.find(e=>Me(e,n.token,e.chainId));if(!r)throw new Error("currency not found in output array");return it.fromRawAmount(r,n.amount.toString())});return this._outputAmounts=t,t}getFirstNonFeeOutputAmount(){if(this._firstNonFeeOutputAmount)return this._firstNonFeeOutputAmount;if(this.order.info.outputs.length===0)throw new Error("there must be at least one output token");const t=this.order.info.outputs[0],n=this._currenciesOut.find(e=>Me(e,t.token,e.chainId));if(!n)throw new Error("currency output from order must exist in currenciesOut list");const r=it.fromRawAmount(n,t.amount.toString());return this._firstNonFeeOutputAmount=r,r}get outputAmount(){var t;return!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountOut?this.getExpectedAmountOut():this.getFirstNonFeeOutputAmount()}minimumAmountOut(){return this.getFirstNonFeeOutputAmount()}maximumAmountIn(){return it.fromRawAmount(this._currencyIn,this.order.info.input.amount.toString())}get executionPrice(){var t;return(t=this._executionPrice)!==null&&t!==void 0?t:this._executionPrice=new qt(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}worstExecutionPrice(){return new qt(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn().quotient,this.minimumAmountOut().quotient)}getExpectedAmountIn(){var t;if(!(!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountIn))throw new Error("expectedAmountIn not set");return it.fromRawAmount(this._currencyIn,this.expectedAmounts.expectedAmountIn)}getExpectedAmountOut(){var t;if(!(!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountOut))throw new Error("expectedAmountOut not set");return it.fromRawAmount(this._currenciesOut[0],this.expectedAmounts.expectedAmountOut)}};fe();var ys=class{constructor({currencyIn:t,currenciesOut:n,orderInfo:r,tradeType:e,expectedAmounts:i}){this._currencyIn=t,this._currenciesOut=n,this.tradeType=e,this.expectedAmounts=i,this.order=new Ni(r,t.chainId)}get inputAmount(){var t;if(this._inputAmount)return this._inputAmount;const n=!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountIn?this.getExpectedAmountIn():it.fromRawAmount(this._currencyIn,this.order.info.input.startAmount.toString());return this._inputAmount=n,n}get outputAmounts(){if(this._outputAmounts)return this._outputAmounts;const t=this.order.info.outputs.map(n=>{const r=this._currenciesOut.find(e=>Me(e,n.token,e.chainId));if(!r)throw new Error("Currency out not found");return it.fromRawAmount(r,n.startAmount.toString())});return this._outputAmounts=t,t}get outputAmount(){var t;return!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountOut?this.getExpectedAmountOut():this.outputAmounts[0]}minimumAmountOut(){const t=this.order.info.outputs[0],n=t.curve.relativeAmounts,r=t.startAmount,e=n.reduce((o,p)=>p>o?p:o,BigInt(0)),i=r.sub(e.toString());return it.fromRawAmount(this.outputAmount.currency,i.toString())}maximumAmountIn(){const t=this.order.info.input.maxAmount;return it.fromRawAmount(this._currencyIn,t.toString())}get executionPrice(){var t;return(t=this._executionPrice)!==null&&t!==void 0?t:this._executionPrice=new qt(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}worstExecutionPrice(){return new qt(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn().quotient,this.minimumAmountOut().quotient)}getExpectedAmountIn(){var t;if(!(!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountIn))throw new Error("expectedAmountIn not set");return it.fromRawAmount(this._currencyIn,this.expectedAmounts.expectedAmountIn)}getExpectedAmountOut(){var t;if(!(!((t=this.expectedAmounts)===null||t===void 0)&&t.expectedAmountOut))throw new Error("expectedAmountOut not set");return it.fromRawAmount(this._currenciesOut[0],this.expectedAmounts.expectedAmountOut)}};export{as as BPS,cs as CosignedPriorityOrder,ds as CosignedV2DutchOrder,ss as CosignedV3DutchOrder,Si as MissingConfiguration,dt as OrderType,Cr as PERMIT2_MAPPING,oe as Pool,$n as Position,ms as PriorityOrderTrade,nr as REACTOR_ADDRESS_MAPPING,je as Route,Mi as UnsignedPriorityOrder,qi as UnsignedV2DutchOrder,Ni as UnsignedV3DutchOrder,ls as V2DutchOrderTrade,ys as V3DutchOrderTrade,Me as areCurrenciesEqual,us as getCancelMultipleParams,Fr as getDecayedAmount,fr as getPermit2,ps as getReactor,ne as init_lib,xu as init_v4_sdk_esm,fu as lib_exports,Ri as parseValidation,gu as priceToClosestTick,mr as require_dist,es as require_dist$1,ou as require_tiny_invariant_cjs,Ye as tickToPrice,Ii as v4_sdk_esm_exports};
