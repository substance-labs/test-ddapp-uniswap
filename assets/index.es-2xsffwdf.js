import{__commonJS as q,__esm as kr,__export as qe,__reExport as Hr,__toCommonJS as Ee,__toESM as ne}from"./chunk-DgAfPHQg.js";import{global as $,init_dist as It}from"./dist-Q7olfaoJ.js";import{init_dist as Fr,process$1 as pe}from"./dist-QCpUvRkJ.js";import{Buffer as Vr,init_dist as ii}from"./dist-ceZDlR1V.js";import{require_events as Ke}from"./events-Bnkik2bI.js";import{bases as er,init_basics as oi}from"./basics-DA01Pp0C.js";Fr();var tr=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},si=(function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e})(),ai=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=pe.platform}return e})(),ci=(function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e})(),ui=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),li=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),fi=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hi=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,rr=3,di=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fi]],nr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function zu(e){return e?ir(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new li:typeof navigator<"u"?ir(navigator.userAgent):yi()}function pi(e){return e!==""&&di.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1)}function ir(e){var t=pi(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new ui;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<rr&&(i=tr(tr([],i,!0),gi(rr-i.length),!0)):i=[];var o=i.join("."),c=bi(e),f=hi.exec(e);return f&&f[1]?new ci(r,o,c,f[1]):new si(r,o,c)}function bi(e){for(var t=0,r=nr.length;t<r;t++){var n=nr[t],i=n[0],o=n[1],c=o.exec(e);if(c)return i}return null}function yi(){var e=typeof pe<"u"&&pe.version;return e?new ai(pe.version.slice(1)):null}function gi(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Se={};qe(Se,{__assign:()=>Ce,__asyncDelegator:()=>xi,__asyncGenerator:()=>Ti,__asyncValues:()=>Ni,__await:()=>ve,__awaiter:()=>Si,__classPrivateFieldGet:()=>Ci,__classPrivateFieldSet:()=>Ui,__createBinding:()=>Ii,__decorate:()=>vi,__exportStar:()=>Ri,__extends:()=>wi,__generator:()=>Oi,__importDefault:()=>Li,__importStar:()=>ji,__makeTemplateObject:()=>Pi,__metadata:()=>Ei,__param:()=>_i,__read:()=>qr,__rest:()=>mi,__spread:()=>Ai,__spreadArrays:()=>Bi,__values:()=>dt});function wi(e,t){Le(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function mi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function vi(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(o=(i<3?c(o):i>3?c(t,r,o):c(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function _i(e,t){return function(r,n){t(r,n,e)}}function Ei(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Si(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(a){try{s(n.next(a))}catch(p){c(p)}}function h(a){try{s(n.throw(a))}catch(p){c(p)}}function s(a){a.done?o(a.value):i(a.value).then(f,h)}s((n=n.apply(e,t||[])).next())})}function Oi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(s){return function(a){return h([s,a])}}function h(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(a){s=[6,a],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Ii(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ri(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function dt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return o}function Ai(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qr(arguments[t]));return e}function Bi(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],c=0,f=o.length;c<f;c++,i++)n[i]=o[c];return n}function ve(e){return this instanceof ve?(this.v=e,this):new ve(e)}function Ti(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){n[b]&&(i[b]=function(y){return new Promise(function(d,g){o.push([b,y,d,g])>1||f(b,y)})})}function f(b,y){try{h(n[b](y))}catch(d){p(o[0][3],d)}}function h(b){b.value instanceof ve?Promise.resolve(b.value.v).then(s,a):p(o[0][2],b)}function s(b){f("next",b)}function a(b){f("throw",b)}function p(b,y){b(y),o.shift(),o.length&&f(o[0][0],o[0][1])}}function xi(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(c){return(r=!r)?{value:ve(e[i](c)),done:i==="return"}:o?o(c):c}:o}}function Ni(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof dt=="function"?dt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(c){return new Promise(function(f,h){c=e[o](c),i(f,h,c.done,c.value)})}}function i(o,c,f,h){Promise.resolve(h).then(function(s){o({value:s,done:f})},c)}}function Pi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ji(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Li(e){return e&&e.__esModule?e:{default:e}}function Ci(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Ui(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Le,Ce,Je=kr({"../../node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js"(){Le=function(e,t){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Le(e,t)},Ce=function(){return Ce=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ce.apply(this,arguments)}}}),Di=q({"../../node_modules/@walletconnect/time/dist/cjs/utils/delay.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;function t(r){return new Promise(n=>{setTimeout(()=>{n(!0)},r)})}e.delay=t}}),Mi=q({"../../node_modules/@walletconnect/time/dist/cjs/constants/misc.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3}}),zi=q({"../../node_modules/@walletconnect/time/dist/cjs/constants/time.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}}),Kr=q({"../../node_modules/@walletconnect/time/dist/cjs/constants/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});const t=(Je(),Ee(Se));t.__exportStar(Mi(),e),t.__exportStar(zi(),e)}}),Wi=q({"../../node_modules/@walletconnect/time/dist/cjs/utils/convert.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const t=Kr();function r(i){return i*t.ONE_THOUSAND}e.toMiliseconds=r;function n(i){return Math.floor(i/t.ONE_THOUSAND)}e.fromMiliseconds=n}}),ki=q({"../../node_modules/@walletconnect/time/dist/cjs/utils/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});const t=(Je(),Ee(Se));t.__exportStar(Di(),e),t.__exportStar(Wi(),e)}}),Hi=q({"../../node_modules/@walletconnect/time/dist/cjs/watch.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;var t=class{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}};e.Watch=t,e.default=t}}),Fi=q({"../../node_modules/@walletconnect/time/dist/cjs/types/watch.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;var t=class{};e.IWatch=t}}),Vi=q({"../../node_modules/@walletconnect/time/dist/cjs/types/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),(Je(),Ee(Se)).__exportStar(Fi(),e)}}),Jr=q({"../../node_modules/@walletconnect/time/dist/cjs/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});const t=(Je(),Ee(Se));t.__exportStar(ki(),e),t.__exportStar(Hi(),e),t.__exportStar(Vi(),e),t.__exportStar(Kr(),e)}}),qi=q({"../../node_modules/@walletconnect/window-getters/dist/cjs/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0;function t(y){let d;return typeof window<"u"&&typeof window[y]<"u"&&(d=window[y]),d}e.getFromWindow=t;function r(y){const d=t(y);if(!d)throw new Error(`${y} is not defined in Window`);return d}e.getFromWindowOrThrow=r;function n(){return r("document")}e.getDocumentOrThrow=n;function i(){return t("document")}e.getDocument=i;function o(){return r("navigator")}e.getNavigatorOrThrow=o;function c(){return t("navigator")}e.getNavigator=c;function f(){return r("location")}e.getLocationOrThrow=f;function h(){return t("location")}e.getLocation=h;function s(){return r("crypto")}e.getCryptoOrThrow=s;function a(){return t("crypto")}e.getCrypto=a;function p(){return r("localStorage")}e.getLocalStorageOrThrow=p;function b(){return t("localStorage")}e.getLocalStorage=b}}),Wu=q({"../../node_modules/@walletconnect/window-metadata/dist/cjs/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getWindowMetadata=void 0;const t=qi();function r(){let n,i;try{n=t.getDocumentOrThrow(),i=t.getLocationOrThrow()}catch{return null}function o(){const d=n.getElementsByTagName("link"),g=[];for(let x=0;x<d.length;x++){const _=d[x],I=_.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){const v=_.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let P=i.protocol+"//"+i.host;if(v.indexOf("/")===0)P+=v;else{const W=i.pathname.split("/");W.pop();const k=W.join("/");P+=k+"/"+v}g.push(P)}else if(v.indexOf("//")===0){const P=i.protocol+v;g.push(P)}else g.push(v)}}return g}function c(...d){const g=n.getElementsByTagName("meta");for(let x=0;x<g.length;x++){const _=g[x],I=["itemprop","property","name"].map(v=>_.getAttribute(v)).filter(v=>v?d.includes(v):!1);if(I.length&&I){const v=_.getAttribute("content");if(v)return v}}return""}function f(){let d=c("name","og:site_name","og:title","twitter:title");return d||(d=n.title),d}function h(){return c("description","og:description","twitter:description","keywords")}const s=f(),a=h(),p=i.origin,b=o();return{description:a,url:p,icons:b,name:s}}e.getWindowMetadata=r}});const Ki=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Ji=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Oe(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Ji(e)}catch{return e}}function le(e){return typeof e=="string"?e:Ki(e)||""}var Gi=ne(Jr());function Yi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gr(e,...t){if(!Yi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function or(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xi(e,t){Gr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ge=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Zi(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Yr(e){return typeof e=="string"&&(e=Zi(e)),Gr(e),e}var Qi=class{clone(){return this._cloneInto()}};function $i(e){const t=n=>e().update(Yr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Xr(e=32){if(ge&&typeof ge.getRandomValues=="function")return ge.getRandomValues(new Uint8Array(e));if(ge&&typeof ge.randomBytes=="function")return ge.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function eo(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),c=Number(r>>i&o),f=Number(r&o),h=n?4:0,s=n?0:4;e.setUint32(t+h,c,n),e.setUint32(t+s,f,n)}var to=class extends Qi{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rt(this.buffer)}update(e){or(this);const{view:t,buffer:r,blockLen:n}=this;e=Yr(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(n-this.pos,i-o);if(c===n){const f=rt(e);for(;n<=i-o;o+=n)this.process(f,o);continue}r.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){or(this),Xi(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let a=o;a<n;a++)t[a]=0;eo(r,n-8,BigInt(this.length*8),i),this.process(r,0);const c=rt(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,s=this.get();if(h>s.length)throw new Error("_sha2: outputLen bigger than state");for(let a=0;a<h;a++)c.setUint32(4*a,s[a],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:c}=this;return e.length=n,e.pos=c,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const Te=BigInt(2**32-1),pt=BigInt(32);function Zr(e,t=!1){return t?{h:Number(e&Te),l:Number(e>>pt&Te)}:{h:Number(e>>pt&Te)|0,l:Number(e&Te)|0}}function ro(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:c}=Zr(e[i],t);[r[i],n[i]]=[o,c]}return[r,n]}const no=(e,t)=>BigInt(e>>>0)<<pt|BigInt(t>>>0),io=(e,t,r)=>e>>>r,oo=(e,t,r)=>e<<32-r|t>>>r,so=(e,t,r)=>e>>>r|t<<32-r,ao=(e,t,r)=>e<<32-r|t>>>r,co=(e,t,r)=>e<<64-r|t>>>r-32,uo=(e,t,r)=>e>>>r-32|t<<64-r,lo=(e,t)=>t,fo=(e,t)=>e,ho=(e,t,r)=>e<<r|t>>>32-r,po=(e,t,r)=>t<<r|e>>>32-r,bo=(e,t,r)=>t<<r-32|e>>>64-r,yo=(e,t,r)=>e<<r-32|t>>>64-r;function go(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const wo=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),mo=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,vo=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),_o=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Eo=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),So=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,N={fromBig:Zr,split:ro,toBig:no,shrSH:io,shrSL:oo,rotrSH:so,rotrSL:ao,rotrBH:co,rotrBL:uo,rotr32H:lo,rotr32L:fo,rotlSH:ho,rotlSL:po,rotlBH:bo,rotlBL:yo,add:go,add3L:wo,add3H:mo,add4L:vo,add4H:_o,add5H:So,add5L:Eo},[Oo,Io]=N.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ce=new Uint32Array(80),ue=new Uint32Array(80);var Ro=class extends to{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:c,Dl:f,Eh:h,El:s,Fh:a,Fl:p,Gh:b,Gl:y,Hh:d,Hl:g}=this;return[e,t,r,n,i,o,c,f,h,s,a,p,b,y,d,g]}set(e,t,r,n,i,o,c,f,h,s,a,p,b,y,d,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=f|0,this.Eh=h|0,this.El=s|0,this.Fh=a|0,this.Fl=p|0,this.Gh=b|0,this.Gl=y|0,this.Hh=d|0,this.Hl=g|0}process(e,t){for(let I=0;I<16;I++,t+=4)ce[I]=e.getUint32(t),ue[I]=e.getUint32(t+=4);for(let I=16;I<80;I++){const v=ce[I-15]|0,P=ue[I-15]|0,W=N.rotrSH(v,P,1)^N.rotrSH(v,P,8)^N.shrSH(v,P,7),k=N.rotrSL(v,P,1)^N.rotrSL(v,P,8)^N.shrSL(v,P,7),U=ce[I-2]|0,w=ue[I-2]|0,S=N.rotrSH(U,w,19)^N.rotrBH(U,w,61)^N.shrSH(U,w,6),B=N.rotrSL(U,w,19)^N.rotrBL(U,w,61)^N.shrSL(U,w,6),C=N.add4L(k,B,ue[I-7],ue[I-16]),A=N.add4H(C,W,S,ce[I-7],ce[I-16]);ce[I]=A|0,ue[I]=C|0}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:c,Cl:f,Dh:h,Dl:s,Eh:a,El:p,Fh:b,Fl:y,Gh:d,Gl:g,Hh:x,Hl:_}=this;for(let I=0;I<80;I++){const v=N.rotrSH(a,p,14)^N.rotrSH(a,p,18)^N.rotrBH(a,p,41),P=N.rotrSL(a,p,14)^N.rotrSL(a,p,18)^N.rotrBL(a,p,41),W=a&b^~a&d,k=p&y^~p&g,U=N.add5L(_,P,k,Io[I],ue[I]),w=N.add5H(U,x,v,W,Oo[I],ce[I]),S=U|0,B=N.rotrSH(r,n,28)^N.rotrBH(r,n,34)^N.rotrBH(r,n,39),C=N.rotrSL(r,n,28)^N.rotrBL(r,n,34)^N.rotrBL(r,n,39),A=r&i^r&c^i&c,D=n&o^n&f^o&f;x=d|0,_=g|0,d=b|0,g=y|0,b=a|0,y=p|0,{h:a,l:p}=N.add(h|0,s|0,w|0,S|0),h=c|0,s=f|0,c=i|0,f=o|0,i=r|0,o=n|0;const M=N.add3L(S,C,D);r=N.add3H(M,w,B,A),n=M|0}({h:r,l:n}=N.add(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:o}=N.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:f}=N.add(this.Ch|0,this.Cl|0,c|0,f|0),{h,l:s}=N.add(this.Dh|0,this.Dl|0,h|0,s|0),{h:a,l:p}=N.add(this.Eh|0,this.El|0,a|0,p|0),{h:b,l:y}=N.add(this.Fh|0,this.Fl|0,b|0,y|0),{h:d,l:g}=N.add(this.Gh|0,this.Gl|0,d|0,g|0),{h:x,l:_}=N.add(this.Hh|0,this.Hl|0,x|0,_|0),this.set(r,n,i,o,c,f,h,s,a,p,b,y,d,g,x,_)}roundClean(){ce.fill(0),ue.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ao=$i(()=>new Ro);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rt=BigInt(0),Qr=BigInt(1),Bo=BigInt(2);function At(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Bt(e){if(!At(e))throw new Error("Uint8Array expected")}function nt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const To=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tt(e){Bt(e);let t="";for(let r=0;r<e.length;r++)t+=To[e[r]];return t}function $r(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Rt:BigInt("0x"+e)}const oe={_0:48,_9:57,A:65,F:70,a:97,f:102};function sr(e){if(e>=oe._0&&e<=oe._9)return e-oe._0;if(e>=oe.A&&e<=oe.F)return e-(oe.A-10);if(e>=oe.a&&e<=oe.f)return e-(oe.a-10)}function en(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const c=sr(e.charCodeAt(o)),f=sr(e.charCodeAt(o+1));if(c===void 0||f===void 0){const h=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+o)}n[i]=c*16+f}return n}function xo(e){return $r(Tt(e))}function Ue(e){return Bt(e),$r(Tt(Uint8Array.from(e).reverse()))}function tn(e,t){return en(e.toString(16).padStart(t*2,"0"))}function bt(e,t){return tn(e,t).reverse()}function se(e,t,r){let n;if(typeof t=="string")try{n=en(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(At(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function ar(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Bt(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}const it=e=>typeof e=="bigint"&&Rt<=e;function No(e,t,r){return it(e)&&it(t)&&it(r)&&t<=e&&e<r}function me(e,t,r,n){if(!No(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Po(e){let t;for(t=0;e>Rt;e>>=Qr,t+=1);return t}const jo=e=>(Bo<<BigInt(e-1))-Qr,Lo={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||At(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function xt(e,t,r={}){const n=(i,o,c)=>{const f=Lo[o];if(typeof f!="function")throw new Error("invalid validator function");const h=e[i];if(!(c&&h===void 0)&&!f(h,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+h)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}function cr(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}const G=BigInt(0),F=BigInt(1),he=BigInt(2),Co=BigInt(3),yt=BigInt(4),ur=BigInt(5),lr=BigInt(8);function V(e,t){const r=e%t;return r>=G?r:t+r}function Uo(e,t,r){if(t<G)throw new Error("invalid exponent, negatives unsupported");if(r<=G)throw new Error("invalid modulus");if(r===F)return G;let n=F;for(;t>G;)t&F&&(n=n*e%r),e=e*e%r,t>>=F;return n}function ie(e,t,r){let n=e;for(;t-- >G;)n*=n,n%=r;return n}function fr(e,t){if(e===G)throw new Error("invert: expected non-zero number");if(t<=G)throw new Error("invert: expected positive modulus, got "+t);let r=V(e,t),n=t,i=G,o=F;for(;r!==G;){const c=n/r,f=n%r,h=i-o*c;n=r,r=f,i=o,o=h}if(n!==F)throw new Error("invert: does not exist");return V(i,t)}function Do(e){const t=(e-F)/he;let r,n,i;for(r=e-F,n=0;r%he===G;r/=he,n++);for(i=he;i<e&&Uo(i,t,e)!==e-F;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const c=(e+F)/yt;return function(f,h){const s=f.pow(h,c);if(!f.eql(f.sqr(s),h))throw new Error("Cannot find square root");return s}}const o=(r+F)/he;return function(c,f){if(c.pow(f,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,s=c.pow(c.mul(c.ONE,i),r),a=c.pow(f,o),p=c.pow(f,r);for(;!c.eql(p,c.ONE);){if(c.eql(p,c.ZERO))return c.ZERO;let b=1;for(let d=c.sqr(p);b<h&&!c.eql(d,c.ONE);b++)d=c.sqr(d);const y=c.pow(s,F<<BigInt(h-b-1));s=c.sqr(y),a=c.mul(a,y),p=c.mul(p,s),h=b}return a}}function Mo(e){if(e%yt===Co){const t=(e+F)/yt;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%lr===ur){const t=(e-ur)/lr;return function(r,n){const i=r.mul(n,he),o=r.pow(i,t),c=r.mul(n,o),f=r.mul(r.mul(c,he),o),h=r.mul(c,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),n))throw new Error("Cannot find square root");return h}}return Do(e)}const zo=(e,t)=>(V(e,t)&F)===F,Wo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ko(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Wo.reduce((n,i)=>(n[i]="function",n),t);return xt(e,r)}function Ho(e,t,r){if(r<G)throw new Error("invalid exponent, negatives unsupported");if(r===G)return e.ONE;if(r===F)return t;let n=e.ONE,i=t;for(;r>G;)r&F&&(n=e.mul(n,i)),i=e.sqr(i),r>>=F;return n}function Fo(e,t){const r=new Array(t.length),n=t.reduce((o,c,f)=>e.is0(c)?o:(r[f]=o,e.mul(o,c)),e.ONE),i=e.inv(n);return t.reduceRight((o,c,f)=>e.is0(c)?o:(r[f]=e.mul(o,r[f]),e.mul(o,c)),i),r}function rn(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function nn(e,t,r=!1,n={}){if(e<=G)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=rn(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const f=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:o,MASK:jo(i),ZERO:G,ONE:F,create:h=>V(h,e),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return G<=h&&h<e},is0:h=>h===G,isOdd:h=>(h&F)===F,neg:h=>V(-h,e),eql:(h,s)=>h===s,sqr:h=>V(h*h,e),add:(h,s)=>V(h+s,e),sub:(h,s)=>V(h-s,e),mul:(h,s)=>V(h*s,e),pow:(h,s)=>Ho(f,h,s),div:(h,s)=>V(h*fr(s,e),e),sqrN:h=>h*h,addN:(h,s)=>h+s,subN:(h,s)=>h-s,mulN:(h,s)=>h*s,inv:h=>fr(h,e),sqrt:n.sqrt||(h=>(c||(c=Mo(e)),c(f,h))),invertBatch:h=>Fo(f,h),cmov:(h,s,a)=>a?s:h,toBytes:h=>r?bt(h,o):tn(h,o),fromBytes:h=>{if(h.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);return r?Ue(h):xo(h)}});return Object.freeze(f)}const hr=BigInt(0),xe=BigInt(1);function ot(e,t){const r=t.negate();return e?r:t}function on(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function st(e,t){on(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function Vo(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function qo(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const at=new WeakMap,sn=new WeakMap;function ct(e){return sn.get(e)||1}function Ko(e,t){return{constTimeNegate:ot,hasPrecomputes(r){return ct(r)!==1},unsafeLadder(r,n,i=e.ZERO){let o=r;for(;n>hr;)n&xe&&(i=i.add(o)),o=o.double(),n>>=xe;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=st(n,t),c=[];let f=r,h=f;for(let s=0;s<i;s++){h=f,c.push(h);for(let a=1;a<o;a++)h=h.add(f),c.push(h);f=h.double()}return c},wNAF(r,n,i){const{windows:o,windowSize:c}=st(r,t);let f=e.ZERO,h=e.BASE;const s=BigInt(2**r-1),a=2**r,p=BigInt(r);for(let b=0;b<o;b++){const y=b*c;let d=Number(i&s);i>>=p,d>c&&(d-=a,i+=xe);const g=y,x=y+Math.abs(d)-1,_=b%2!==0,I=d<0;d===0?h=h.add(ot(_,n[g])):f=f.add(ot(I,n[x]))}return{p:f,f:h}},wNAFUnsafe(r,n,i,o=e.ZERO){const{windows:c,windowSize:f}=st(r,t),h=BigInt(2**r-1),s=2**r,a=BigInt(r);for(let p=0;p<c;p++){const b=p*f;if(i===hr)break;let y=Number(i&h);if(i>>=a,y>f&&(y-=s,i+=xe),y===0)continue;let d=n[b+Math.abs(y)-1];y<0&&(d=d.negate()),o=o.add(d)}return o},getPrecomputes(r,n,i){let o=at.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&at.set(n,i(o))),o},wNAFCached(r,n,i){const o=ct(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const c=ct(r);return c===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(c,this.getPrecomputes(c,r,i),n,o)},setWindowSize(r,n){on(n,t),sn.set(r,n),at.delete(r)}}}function Jo(e,t,r,n){if(Vo(r,e),qo(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Po(BigInt(r.length)),c=o>12?o-3:o>4?o-2:o?2:1,f=(1<<c)-1,h=new Array(f+1).fill(i),s=Math.floor((t.BITS-1)/c)*c;let a=i;for(let p=s;p>=0;p-=c){h.fill(i);for(let y=0;y<n.length;y++){const d=n[y],g=Number(d>>BigInt(p)&BigInt(f));h[g]=h[g].add(r[y])}let b=i;for(let y=h.length-1,d=i;y>0;y--)d=d.add(h[y]),b=b.add(d);if(a=a.add(b),p!==0)for(let y=0;y<c;y++)a=a.double()}return a}function Go(e){return ko(e.Fp),xt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rn(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const re=BigInt(0),Z=BigInt(1),Ne=BigInt(2),Yo=BigInt(8),Xo={zip215:!0};function Zo(e){const t=Go(e);return xt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Qo(e){const t=Zo(e),{Fp:r,n,prehash:i,hash:o,randomBytes:c,nByteLength:f,h}=t,s=Ne<<BigInt(f*8)-Z,a=r.create,p=nn(t.n,t.nBitLength),b=t.uvRatio||((l,u)=>{try{return{isValid:!0,value:r.sqrt(l*r.inv(u))}}catch{return{isValid:!1,value:re}}}),y=t.adjustScalarBytes||(l=>l),d=t.domain||((l,u,m)=>{if(nt("phflag",m),u.length||m)throw new Error("Contexts/pre-hash are not supported");return l});function g(l,u){me("coordinate "+l,u,re,s)}function x(l){if(!(l instanceof v))throw new Error("ExtendedPoint expected")}const _=cr((l,u)=>{const{ex:m,ey:E,ez:R}=l,O=l.is0();u??(u=O?Yo:r.inv(R));const L=a(m*u),T=a(E*u),j=a(R*u);if(O)return{x:re,y:Z};if(j!==Z)throw new Error("invZ was invalid");return{x:L,y:T}}),I=cr(l=>{const{a:u,d:m}=t;if(l.is0())throw new Error("bad point: ZERO");const{ex:E,ey:R,ez:O,et:L}=l,T=a(E*E),j=a(R*R),z=a(O*O),H=a(z*z),Y=a(T*u),ee=a(z*a(Y+j)),K=a(H+a(m*a(T*j)));if(ee!==K)throw new Error("bad point: equation left != right (1)");const te=a(E*R),ae=a(O*L);if(te!==ae)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(u,m,E,R){this.ex=u,this.ey=m,this.ez=E,this.et=R,g("x",u),g("y",m),g("z",E),g("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(u){if(u instanceof v)throw new Error("extended point not allowed");const{x:m,y:E}=u||{};return g("x",m),g("y",E),new v(m,E,Z,a(m*E))}static normalizeZ(u){const m=r.invertBatch(u.map(E=>E.ez));return u.map((E,R)=>E.toAffine(m[R])).map(v.fromAffine)}static msm(u,m){return Jo(v,p,u,m)}_setWindowSize(u){k.setWindowSize(this,u)}assertValidity(){I(this)}equals(u){x(u);const{ex:m,ey:E,ez:R}=this,{ex:O,ey:L,ez:T}=u,j=a(m*T),z=a(O*R),H=a(E*T),Y=a(L*R);return j===z&&H===Y}is0(){return this.equals(v.ZERO)}negate(){return new v(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:u}=t,{ex:m,ey:E,ez:R}=this,O=a(m*m),L=a(E*E),T=a(Ne*a(R*R)),j=a(u*O),z=m+E,H=a(a(z*z)-O-L),Y=j+L,ee=Y-T,K=j-L,te=a(H*ee),ae=a(Y*K),fe=a(H*K),Be=a(ee*Y);return new v(te,ae,Be,fe)}add(u){x(u);const{a:m,d:E}=t,{ex:R,ey:O,ez:L,et:T}=this,{ex:j,ey:z,ez:H,et:Y}=u;if(m===BigInt(-1)){const Jt=a((O-R)*(z+j)),Gt=a((O+R)*(z-j)),tt=a(Gt-Jt);if(tt===re)return this.double();const Yt=a(L*Ne*Y),Xt=a(T*Ne*H),Zt=Xt+Yt,Qt=Gt+Jt,$t=Xt-Yt,ei=a(Zt*tt),ti=a(Qt*$t),ri=a(Zt*$t),ni=a(tt*Qt);return new v(ei,ti,ni,ri)}const ee=a(R*j),K=a(O*z),te=a(T*E*Y),ae=a(L*H),fe=a((R+O)*(j+z)-ee-K),Be=ae-te,qt=ae+te,Kt=a(K-m*ee),Xn=a(fe*Be),Zn=a(qt*Kt),Qn=a(fe*Kt),$n=a(Be*qt);return new v(Xn,Zn,$n,Qn)}subtract(u){return this.add(u.negate())}wNAF(u){return k.wNAFCached(this,u,v.normalizeZ)}multiply(u){const m=u;me("scalar",m,Z,n);const{p:E,f:R}=this.wNAF(m);return v.normalizeZ([E,R])[0]}multiplyUnsafe(u,m=v.ZERO){const E=u;return me("scalar",E,re,n),E===re?W:this.is0()||E===Z?this:k.wNAFCachedUnsafe(this,E,v.normalizeZ,m)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(u){return _(this,u)}clearCofactor(){const{h:u}=t;return u===Z?this:this.multiplyUnsafe(u)}static fromHex(u,m=!1){const{d:E,a:R}=t,O=r.BYTES;u=se("pointHex",u,O),nt("zip215",m);const L=u.slice(),T=u[O-1];L[O-1]=T&-129;const j=Ue(L),z=m?s:r.ORDER;me("pointHex.y",j,re,z);const H=a(j*j),Y=a(H-Z),ee=a(E*H-R);let{isValid:K,value:te}=b(Y,ee);if(!K)throw new Error("Point.fromHex: invalid y coordinate");const ae=(te&Z)===Z,fe=(T&128)!==0;if(!m&&te===re&&fe)throw new Error("Point.fromHex: x=0 and x_0=1");return fe!==ae&&(te=a(-te)),v.fromAffine({x:te,y:j})}static fromPrivateKey(u){return S(u).point}toRawBytes(){const{x:u,y:m}=this.toAffine(),E=bt(m,r.BYTES);return E[E.length-1]|=u&Z?128:0,E}toHex(){return Tt(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Z,a(t.Gx*t.Gy)),v.ZERO=new v(re,Z,Z,re);const{BASE:P,ZERO:W}=v,k=Ko(v,f*8);function U(l){return V(l,n)}function w(l){return U(Ue(l))}function S(l){const u=r.BYTES;l=se("private key",l,u);const m=se("hashed private key",o(l),2*u),E=y(m.slice(0,u)),R=m.slice(u,2*u),O=w(E),L=P.multiply(O),T=L.toRawBytes();return{head:E,prefix:R,scalar:O,point:L,pointBytes:T}}function B(l){return S(l).pointBytes}function C(l=new Uint8Array,...u){const m=ar(...u);return w(o(d(m,se("context",l),!!i)))}function A(l,u,m={}){l=se("message",l),i&&(l=i(l));const{prefix:E,scalar:R,pointBytes:O}=S(u),L=C(m.context,E,l),T=P.multiply(L).toRawBytes(),j=C(m.context,T,O,l),z=U(L+j*R);me("signature.s",z,re,n);const H=ar(T,bt(z,r.BYTES));return se("result",H,r.BYTES*2)}const D=Xo;function M(l,u,m,E=D){const{context:R,zip215:O}=E,L=r.BYTES;l=se("signature",l,2*L),u=se("message",u),m=se("publicKey",m,L),O!==void 0&&nt("zip215",O),i&&(u=i(u));const T=Ue(l.slice(L,2*L));let j,z,H;try{j=v.fromHex(m,O),z=v.fromHex(l.slice(0,L),O),H=P.multiplyUnsafe(T)}catch{return!1}if(!O&&j.isSmallOrder())return!1;const Y=C(R,z.toRawBytes(),j.toRawBytes(),u);return z.add(j.multiplyUnsafe(Y)).subtract(H).clearCofactor().equals(v.ZERO)}return P._setWindowSize(8),{CURVE:t,getPublicKey:B,sign:A,verify:M,ExtendedPoint:v,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>c(r.BYTES),precompute(l=8,u=v.BASE){return u._setWindowSize(l),u.multiply(BigInt(3)),u}}}}BigInt(0),BigInt(1);const Nt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),dr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const $o=BigInt(1),pr=BigInt(2);BigInt(3);const es=BigInt(5),ts=BigInt(8);function rs(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Nt,c=e*e%o*e%o,f=ie(c,pr,o)*c%o,h=ie(f,$o,o)*e%o,s=ie(h,es,o)*h%o,a=ie(s,t,o)*s%o,p=ie(a,r,o)*a%o,b=ie(p,n,o)*p%o,y=ie(b,i,o)*b%o,d=ie(y,i,o)*b%o,g=ie(d,t,o)*s%o;return{pow_p_5_8:ie(g,pr,o)*e%o,b2:c}}function ns(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function is(e,t){const r=Nt,n=V(t*t*t,r),i=V(n*n*t,r),o=rs(e*i).pow_p_5_8;let c=V(e*n*o,r);const f=V(t*c*c,r),h=c,s=V(c*dr,r),a=f===e,p=f===V(-e,r),b=f===V(-e*dr,r);return a&&(c=h),(p||b)&&(c=s),zo(c,r)&&(c=V(-c,r)),{isValid:a||p,value:c}}const os=nn(Nt,void 0,!0),ss={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:os,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ts,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ao,randomBytes:Xr,adjustScalarBytes:ns,uvRatio:is},an=Qo(ss),as="EdDSA",cs="JWT",ke=".",Ge="base64url",cn="utf8",un="utf8",us=":",ls="did",fs="key",br="base58btc",hs="z",ds="K36";const ps=32;function Pt(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ln(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Pt(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function fn(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const r=ln(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return Pt(r)}function bs(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),c=o.charCodeAt(0);if(r[c]!==255)throw new TypeError(o+" is ambiguous");r[c]=i}var f=e.length,h=e.charAt(0),s=Math.log(f)/Math.log(256),a=Math.log(256)/Math.log(f);function p(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var g=0,x=0,_=0,I=d.length;_!==I&&d[_]===0;)_++,g++;for(var v=(I-_)*a+1>>>0,P=new Uint8Array(v);_!==I;){for(var W=d[_],k=0,U=v-1;(W!==0||k<x)&&U!==-1;U--,k++)W+=256*P[U]>>>0,P[U]=W%f>>>0,W=W/f>>>0;if(W!==0)throw new Error("Non-zero carry");x=k,_++}for(var w=v-x;w!==v&&P[w]===0;)w++;for(var S=h.repeat(g);w<v;++w)S+=e.charAt(P[w]);return S}function b(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var g=0;if(d[g]!==" "){for(var x=0,_=0;d[g]===h;)x++,g++;for(var I=(d.length-g)*s+1>>>0,v=new Uint8Array(I);d[g];){var P=r[d.charCodeAt(g)];if(P===255)return;for(var W=0,k=I-1;(P!==0||W<_)&&k!==-1;k--,W++)P+=f*v[k]>>>0,v[k]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");_=W,g++}if(d[g]!==" "){for(var U=I-_;U!==I&&v[U]===0;)U++;for(var w=new Uint8Array(x+(I-U)),S=x;U!==I;)w[S++]=v[U++];return w}}}function y(d){var g=b(d);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:p,decodeUnsafe:b,decode:y}}var ys=bs,gs=ys;const hn=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ws=e=>new TextEncoder().encode(e),ms=e=>new TextDecoder().decode(e);var vs=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_s=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return dn(this,e)}},Es=class{constructor(e){this.decoders=e}or(e){return dn(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const dn=(e,t)=>new Es({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});var Ss=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new vs(e,t,r),this.decoder=new _s(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ye=({name:e,prefix:t,encode:r,decode:n})=>new Ss(e,t,r,n),Ie=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=gs(r,t);return Ye({prefix:e,name:t,encode:n,decode:o=>hn(i(o))})},Os=(e,t,r,n)=>{const i={};for(let a=0;a<t.length;++a)i[t[a]]=a;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*r/8|0);let f=0,h=0,s=0;for(let a=0;a<o;++a){const p=i[e[a]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<r|p,f+=r,f>=8&&(f-=8,c[s++]=255&h>>f)}if(f>=r||255&h<<8-f)throw new SyntaxError("Unexpected end of data");return c},Is=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",c=0,f=0;for(let h=0;h<e.length;++h)for(f=f<<8|e[h],c+=8;c>r;)c-=r,o+=t[i&f>>c];if(c&&(o+=t[i&f<<r-c]),n)for(;o.length*r&7;)o+="=";return o},X=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ye({prefix:t,name:e,encode(i){return Is(i,n,r)},decode(i){return Os(i,n,r,e)}}),Rs=Ye({prefix:"\0",name:"identity",encode:e=>ms(e),decode:e=>ws(e)});var As=Object.freeze({__proto__:null,identity:Rs});const Bs=X({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ts=Object.freeze({__proto__:null,base2:Bs});const xs=X({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ns=Object.freeze({__proto__:null,base8:xs});const Ps=Ie({prefix:"9",name:"base10",alphabet:"0123456789"});var js=Object.freeze({__proto__:null,base10:Ps});const Ls=X({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cs=X({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Us=Object.freeze({__proto__:null,base16:Ls,base16upper:Cs});const Ds=X({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ms=X({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zs=X({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ws=X({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ks=X({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hs=X({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fs=X({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vs=X({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qs=X({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ks=Object.freeze({__proto__:null,base32:Ds,base32upper:Ms,base32pad:zs,base32padupper:Ws,base32hex:ks,base32hexupper:Hs,base32hexpad:Fs,base32hexpadupper:Vs,base32z:qs});const Js=Ie({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Gs=Ie({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ys=Object.freeze({__proto__:null,base36:Js,base36upper:Gs});const Xs=Ie({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zs=Ie({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qs=Object.freeze({__proto__:null,base58btc:Xs,base58flickr:Zs});const $s=X({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ea=X({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ta=X({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ra=X({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var na=Object.freeze({__proto__:null,base64:$s,base64pad:ea,base64url:ta,base64urlpad:ra});const pn=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),ia=pn.reduce((e,t,r)=>(e[r]=t,e),[]),oa=pn.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function sa(e){return e.reduce((t,r)=>(t+=ia[r],t),"")}function aa(e){const t=[];for(const r of e){const n=oa[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const ca=Ye({prefix:"🚀",name:"base256emoji",encode:sa,decode:aa});var ua=Object.freeze({__proto__:null,base256emoji:ca}),la=bn,yr=128,fa=127,ha=~fa,da=Math.pow(2,31);function bn(e,t,r){t=t||[],r=r||0;for(var n=r;e>=da;)t[r++]=e&255|yr,e/=128;for(;e&ha;)t[r++]=e&255|yr,e>>>=7;return t[r]=e|0,bn.bytes=r-n+1,t}var pa=gt,ba=128,gr=127;function gt(e,n){var r=0,n=n||0,i=0,o=n,c,f=e.length;do{if(o>=f)throw gt.bytes=0,new RangeError("Could not decode varint");c=e[o++],r+=i<28?(c&gr)<<i:(c&gr)*Math.pow(2,i),i+=7}while(c>=ba);return gt.bytes=o-n,r}var ya=Math.pow(2,7),ga=Math.pow(2,14),wa=Math.pow(2,21),ma=Math.pow(2,28),va=Math.pow(2,35),_a=Math.pow(2,42),Ea=Math.pow(2,49),Sa=Math.pow(2,56),Oa=Math.pow(2,63),Ia=function(e){return e<ya?1:e<ga?2:e<wa?3:e<ma?4:e<va?5:e<_a?6:e<Ea?7:e<Sa?8:e<Oa?9:10},Ra={encode:la,decode:pa,encodingLength:Ia},yn=Ra;const wr=(e,t,r=0)=>(yn.encode(e,t,r),t),mr=e=>yn.encodingLength(e),wt=(e,t)=>{const r=t.byteLength,n=mr(e),i=n+mr(r),o=new Uint8Array(i+r);return wr(e,o,0),wr(r,o,n),o.set(t,i),new Aa(e,r,t,o)};var Aa=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};const gn=({name:e,code:t,encode:r})=>new Ba(e,t,r);var Ba=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?wt(this.code,t):t.then(r=>wt(this.code,r))}else throw Error("Unknown type, must be binary type")}};const wn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ta=gn({name:"sha2-256",code:18,encode:wn("SHA-256")}),xa=gn({name:"sha2-512",code:19,encode:wn("SHA-512")});var Na=Object.freeze({__proto__:null,sha256:Ta,sha512:xa});const mn=0,Pa="identity",vn=hn,ja=e=>wt(mn,vn(e)),La={code:mn,name:Pa,encode:vn,digest:ja};var Ca=Object.freeze({__proto__:null,identity:La});new TextEncoder,new TextDecoder;const vr={...As,...Ts,...Ns,...js,...Us,...Ks,...Ys,...Qs,...na,...ua};({...Na,...Ca});function _n(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const _r=_n("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ut=_n("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=ln(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),En={utf8:_r,"utf-8":_r,hex:vr.base16,latin1:ut,ascii:ut,binary:ut,...vr};function Xe(e,t="utf8"){const r=En[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function we(e,t="utf8"){const r=En[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Pt(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Er(e){return Oe(Xe(we(e,Ge),cn))}function He(e){return Xe(we(le(e),cn),Ge)}function Ua(e){const t=we(ds,br),r=hs+Xe(fn([t,e]),br);return[ls,fs,r].join(us)}function Da(e){return Xe(e,Ge)}function Ma(e){return we(e,Ge)}function za(e){return we([He(e.header),He(e.payload)].join(ke),un)}function Wa(e){return[He(e.header),He(e.payload),Da(e.signature)].join(ke)}function ku(e){const t=e.split(ke),r=Er(t[0]),n=Er(t[1]),i=Ma(t[2]),o=we(t.slice(0,2).join(ke),un);return{header:r,payload:n,signature:i,data:o}}function Hu(e=Xr(ps)){const t=an.getPublicKey(e);return{secretKey:fn([e,t]),publicKey:t}}async function Fu(e,t,r,n,i=(0,Gi.fromMiliseconds)(Date.now())){const o={alg:as,typ:cs},c=Ua(n.publicKey),f=i+r,h={iss:c,sub:e,aud:t,iat:i,exp:f},s=za({header:o,payload:h}),a=an.sign(s,n.secretKey.slice(0,32));return Wa({header:o,payload:h,signature:a})}function Sn(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Vu(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const r=Sn(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}oi();function On(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Sr=On("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),lt=On("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Sn(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ka={utf8:Sr,"utf-8":Sr,hex:er.base16,latin1:lt,ascii:lt,binary:lt,...er};var In=ka;function qu(e,t="utf8"){const r=In[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function Ku(e,t="utf8"){const r=In[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const Ju={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Ha=class{},Fa=ne(Ke()),Rn=ne(Jr()),Va=class extends Ha{constructor(e){super()}};const Or=Rn.FIVE_SECONDS,qa={pulse:"heartbeat_pulse"};var Gu=class An extends Va{constructor(t){super(t),this.events=new Fa.EventEmitter,this.interval=Or,this.interval=(t==null?void 0:t.interval)||Or}static async init(t){const r=new An(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,Rn.toMiliseconds)(this.interval))}pulse(){this.events.emit(qa.pulse)}};const Ka=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ja=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Ga=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ya(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Xa(e);return}return t}function Xa(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Pe(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.at(-1)==='"'&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Ga.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Ka.test(e)||Ja.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Ya)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}ii();function Za(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function J(e,...t){try{return Za(e(...t))}catch(r){return Promise.reject(r)}}function Qa(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function $a(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function De(e){if(Qa(e))return String(e);if($a(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return De(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const mt="base64:";function ec(e){if(typeof e=="string")return e;const t=Vr.from(e).toString("base64");return mt+t}function tc(e){return typeof e!="string"||!e.startsWith(mt)?e:Vr.from(e.slice(mt.length),"base64")}function Q(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function rc(...e){return Q(e.join(":"))}function je(e){return e=Q(e),e?e+":":""}const nc="memory",ic=()=>{const e=new Map;return{name:nc,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function oc(e={}){const t={mounts:{"":e.driver||ic()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=s=>{for(const a of t.mountpoints)if(s.startsWith(a))return{base:a,relativeKey:s.slice(a.length),driver:t.mounts[a]};return{base:"",relativeKey:s,driver:t.mounts[""]}},n=(s,a)=>t.mountpoints.filter(p=>p.startsWith(s)||a&&s.startsWith(p)).map(p=>({relativeBase:s.length>p.length?s.slice(p.length):void 0,mountpoint:p,driver:t.mounts[p]})),i=(s,a)=>{if(t.watching){a=Q(a);for(const p of t.watchListeners)p(s,a)}},o=async()=>{if(!t.watching){t.watching=!0;for(const s in t.mounts)t.unwatch[s]=await Ir(t.mounts[s],i,s)}},c=async()=>{if(t.watching){for(const s in t.unwatch)await t.unwatch[s]();t.unwatch={},t.watching=!1}},f=(s,a,p)=>{const b=new Map,y=d=>{let g=b.get(d.base);return g||(g={driver:d.driver,base:d.base,items:[]},b.set(d.base,g)),g};for(const d of s){const g=typeof d=="string",x=Q(g?d:d.key),_=g?void 0:d.value,I=g||!d.options?a:{...a,...d.options},v=r(x);y(v).items.push({key:x,value:_,relativeKey:v.relativeKey,options:I})}return Promise.all([...b.values()].map(d=>p(d))).then(d=>d.flat())},h={hasItem(s,a={}){s=Q(s);const{relativeKey:p,driver:b}=r(s);return J(b.hasItem,p,a)},getItem(s,a={}){s=Q(s);const{relativeKey:p,driver:b}=r(s);return J(b.getItem,p,a).then(y=>Pe(y))},getItems(s,a){return f(s,a,p=>p.driver.getItems?J(p.driver.getItems,p.items.map(b=>({key:b.relativeKey,options:b.options})),a).then(b=>b.map(y=>({key:rc(p.base,y.key),value:Pe(y.value)}))):Promise.all(p.items.map(b=>J(p.driver.getItem,b.relativeKey,b.options).then(y=>({key:b.key,value:Pe(y)})))))},getItemRaw(s,a={}){s=Q(s);const{relativeKey:p,driver:b}=r(s);return b.getItemRaw?J(b.getItemRaw,p,a):J(b.getItem,p,a).then(y=>tc(y))},async setItem(s,a,p={}){if(a===void 0)return h.removeItem(s);s=Q(s);const{relativeKey:b,driver:y}=r(s);y.setItem&&(await J(y.setItem,b,De(a),p),y.watch||i("update",s))},async setItems(s,a){await f(s,a,async p=>{p.driver.setItems&&await J(p.driver.setItems,p.items.map(b=>({key:b.relativeKey,value:De(b.value),options:b.options})),a),p.driver.setItem&&await Promise.all(p.items.map(b=>J(p.driver.setItem,b.relativeKey,De(b.value),b.options)))})},async setItemRaw(s,a,p={}){if(a===void 0)return h.removeItem(s,p);s=Q(s);const{relativeKey:b,driver:y}=r(s);if(y.setItemRaw)await J(y.setItemRaw,b,a,p);else if(y.setItem)await J(y.setItem,b,ec(a),p);else return;y.watch||i("update",s)},async removeItem(s,a={}){typeof a=="boolean"&&(a={removeMeta:a}),s=Q(s);const{relativeKey:p,driver:b}=r(s);b.removeItem&&(await J(b.removeItem,p,a),(a.removeMeta||a.removeMata)&&await J(b.removeItem,p+"$",a),b.watch||i("remove",s))},async getMeta(s,a={}){typeof a=="boolean"&&(a={nativeOnly:a}),s=Q(s);const{relativeKey:p,driver:b}=r(s),y=Object.create(null);if(b.getMeta&&Object.assign(y,await J(b.getMeta,p,a)),!a.nativeOnly){const d=await J(b.getItem,p+"$",a).then(g=>Pe(g));d&&typeof d=="object"&&(typeof d.atime=="string"&&(d.atime=new Date(d.atime)),typeof d.mtime=="string"&&(d.mtime=new Date(d.mtime)),Object.assign(y,d))}return y},setMeta(s,a,p={}){return this.setItem(s+"$",a,p)},removeMeta(s,a={}){return this.removeItem(s+"$",a)},async getKeys(s,a={}){s=je(s);const p=n(s,!0);let b=[];const y=[];for(const d of p){const x=(await J(d.driver.getKeys,d.relativeBase,a)).map(_=>d.mountpoint+Q(_)).filter(_=>!b.some(I=>_.startsWith(I)));y.push(...x),b=[d.mountpoint,...b.filter(_=>!_.startsWith(d.mountpoint))]}return s?y.filter(d=>d.startsWith(s)&&!d.endsWith("$")):y.filter(d=>!d.endsWith("$"))},async clear(s,a={}){s=je(s),await Promise.all(n(s,!1).map(async p=>{if(p.driver.clear)return J(p.driver.clear,p.relativeBase,a);if(p.driver.removeItem){const b=await p.driver.getKeys(p.relativeBase||"",a);return Promise.all(b.map(y=>p.driver.removeItem(y,a)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(s=>Rr(s)))},async watch(s){return await o(),t.watchListeners.push(s),async()=>{t.watchListeners=t.watchListeners.filter(a=>a!==s),t.watchListeners.length===0&&await c()}},async unwatch(){t.watchListeners=[],await c()},mount(s,a){if(s=je(s),s&&t.mounts[s])throw new Error(`already mounted at ${s}`);return s&&(t.mountpoints.push(s),t.mountpoints.sort((p,b)=>b.length-p.length)),t.mounts[s]=a,t.watching&&Promise.resolve(Ir(a,i,s)).then(p=>{t.unwatch[s]=p}).catch(console.error),h},async unmount(s,a=!0){s=je(s),!(!s||!t.mounts[s])&&(t.watching&&s in t.unwatch&&(t.unwatch[s](),delete t.unwatch[s]),a&&await Rr(t.mounts[s]),t.mountpoints=t.mountpoints.filter(p=>p!==s),delete t.mounts[s])},getMount(s=""){s=Q(s)+":";const a=r(s);return{driver:a.driver,base:a.base}},getMounts(s="",a={}){return s=Q(s),n(s,a.parents).map(b=>({driver:b.driver,base:b.mountpoint}))}};return h}function Ir(e,t,r){return e.watch?e.watch((n,i)=>t(n,r+i)):()=>{}}async function Rr(e){typeof e.dispose=="function"&&await J(e.dispose)}function ye(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function Bn(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=ye(r);return(i,o)=>n.then(c=>o(c.transaction(t,i).objectStore(t)))}let ft;function Re(){return ft||(ft=Bn("keyval-store","keyval")),ft}function Ar(e,t=Re()){return t("readonly",r=>ye(r.get(e)))}function sc(e,t,r=Re()){return r("readwrite",n=>(n.put(t,e),ye(n.transaction)))}function ac(e,t=Re()){return t("readwrite",r=>(r.delete(e),ye(r.transaction)))}function cc(e=Re()){return e("readwrite",t=>(t.clear(),ye(t.transaction)))}function uc(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ye(e.transaction)}function lc(e=Re()){return e("readonly",t=>{if(t.getAllKeys)return ye(t.getAllKeys());const r=[];return uc(t,n=>r.push(n.key)).then(()=>r)})}It();const fc="idb-keyval";var hc=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=i=>t+i;let n;return e.dbName&&e.storeName&&(n=Bn(e.dbName,e.storeName)),{name:fc,options:e,async hasItem(i){return!(typeof await Ar(r(i),n)>"u")},async getItem(i){return await Ar(r(i),n)??null},setItem(i,o){return sc(r(i),o,n)},removeItem(i){return ac(r(i),n)},getKeys(){return lc(n)},clear(){return cc(n)}}};const dc="WALLET_CONNECT_V2_INDEXED_DB",pc="keyvaluestorage";var bc=class{constructor(){this.indexedDb=oc({driver:hc({dbName:dc,storeName:pc})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,le(t))}async removeItem(e){await this.indexedDb.removeItem(e)}},ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof $<"u"?$:typeof self<"u"?self:{},Me={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ht<"u"&&ht.localStorage?Me.exports=ht.localStorage:typeof window<"u"&&window.localStorage?Me.exports=window.localStorage:Me.exports=new t})();function yc(e){var t;return[e[0],Oe((t=e[1])!=null?t:"")]}var gc=class{constructor(){this.localStorage=Me.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(yc)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return Oe(t)}async setItem(e,t){this.localStorage.setItem(e,le(t))}async removeItem(e){this.localStorage.removeItem(e)}};const wc="wc_storage_version",Br=1,mc=async(e,t,r)=>{const n=wc,i=await t.getItem(n);if(i&&i>=Br){r(t);return}const o=await e.getKeys();if(!o.length){r(t);return}const c=[];for(;o.length;){const f=o.shift();if(!f)continue;const h=f.toLowerCase();if(h.includes("wc@")||h.includes("walletconnect")||h.includes("wc_")||h.includes("wallet_connect")){const s=await e.getItem(f);await t.setItem(f,s),c.push(f)}}await t.setItem(n,Br),r(t),vc(e,c)},vc=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};var Yu=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new gc;this.storage=e;try{const t=new bc;mc(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}},_c=q({"../../node_modules/quick-format-unescaped/index.js"(e,t){function r(i){try{return JSON.stringify(i)}catch{return'"[Circular]"'}}t.exports=n;function n(i,o,c){var f=c&&c.stringify||r,h=1;if(typeof i=="object"&&i!==null){var s=o.length+h;if(s===1)return i;var a=new Array(s);a[0]=f(i);for(var p=1;p<s;p++)a[p]=f(o[p]);return a.join(" ")}if(typeof i!="string")return i;var b=o.length;if(b===0)return i;for(var y="",d=1-h,g=-1,x=i&&i.length||0,_=0;_<x;){if(i.charCodeAt(_)===37&&_+1<x){switch(g=g>-1?g:0,i.charCodeAt(_+1)){case 100:case 102:if(d>=b||o[d]==null)break;g<_&&(y+=i.slice(g,_)),y+=Number(o[d]),g=_+2,_++;break;case 105:if(d>=b||o[d]==null)break;g<_&&(y+=i.slice(g,_)),y+=Math.floor(Number(o[d])),g=_+2,_++;break;case 79:case 111:case 106:if(d>=b||o[d]===void 0)break;g<_&&(y+=i.slice(g,_));var I=typeof o[d];if(I==="string"){y+="'"+o[d]+"'",g=_+2,_++;break}if(I==="function"){y+=o[d].name||"<anonymous>",g=_+2,_++;break}y+=f(o[d]),g=_+2,_++;break;case 115:if(d>=b)break;g<_&&(y+=i.slice(g,_)),y+=String(o[d]),g=_+2,_++;break;case 37:g<_&&(y+=i.slice(g,_)),y+="%",g=_+2,_++,d--;break}++d}++_}return g===-1?i:(g<x&&(y+=i.slice(g)),y)}}}),Tn=q({"../../node_modules/pino/browser.js"(e,t){const r=_c();t.exports=c;const n=U().console||{},i={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:_,wrapResponseSerializer:_,wrapErrorSerializer:_,req:x,res:x,err:d};function o(w,S){return Array.isArray(w)?w.filter(function(C){return C!=="!stdSerializers.err"}):w===!0?Object.keys(S):!1}function c(w){w=w||{},w.browser=w.browser||{};const S=w.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const B=w.browser.write||n;w.browser.write&&(w.browser.asObject=!0);const C=w.serializers||{},A=o(w.browser.serialize,C);let D=w.browser.serialize;Array.isArray(w.browser.serialize)&&w.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const M=["error","fatal","warn","info","debug","trace"];typeof B=="function"&&(B.error=B.fatal=B.warn=B.info=B.debug=B.trace=B),w.enabled===!1&&(w.level="silent");const l=w.level||"info",u=Object.create(B);u.log||(u.log=I),Object.defineProperty(u,"levelVal",{get:E}),Object.defineProperty(u,"level",{get:R,set:O});const m={transmit:S,serialize:A,asObject:w.browser.asObject,levels:M,timestamp:g(w)};u.levels=c.levels,u.level=l,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=I,u.serializers=C,u._serialize=A,u._stdErrSerialize=D,u.child=L,S&&(u._logEvent=y());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function O(T){if(T!=="silent"&&!this.levels.values[T])throw Error("unknown level "+T);this._level=T,f(m,u,"error","log"),f(m,u,"fatal","error"),f(m,u,"warn","error"),f(m,u,"info","log"),f(m,u,"debug","log"),f(m,u,"trace","log")}function L(T,j){if(!T)throw new Error("missing bindings for child Pino");j=j||{},A&&T.serializers&&(j.serializers=T.serializers);const z=j.serializers;if(A&&z){var H=Object.assign({},C,z),Y=w.browser.serialize===!0?Object.keys(H):A;delete T.serializers,a([T],Y,H,this._stdErrSerialize)}function ee(K){this._childLevel=(K._childLevel|0)+1,this.error=p(K,T,"error"),this.fatal=p(K,T,"fatal"),this.warn=p(K,T,"warn"),this.info=p(K,T,"info"),this.debug=p(K,T,"debug"),this.trace=p(K,T,"trace"),H&&(this.serializers=H,this._serialize=Y),S&&(this._logEvent=y([].concat(K._logEvent.bindings,T)))}return ee.prototype=this,new ee(this)}return u}c.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},c.stdSerializers=i,c.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:P,unixTime:W,isoTime:k});function f(w,S,B,C){const A=Object.getPrototypeOf(S);S[B]=S.levelVal>S.levels.values[B]?I:A[B]?A[B]:n[B]||n[C]||I,h(w,S,B)}function h(w,S,B){!w.transmit&&S[B]===I||(S[B]=(function(C){return function(){const D=w.timestamp(),M=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var u=0;u<M.length;u++)M[u]=arguments[u];if(w.serialize&&!w.asObject&&a(M,this._serialize,this.serializers,this._stdErrSerialize),w.asObject?C.call(l,s(this,B,M,D)):C.apply(l,M),w.transmit){const m=w.transmit.level||S.level,E=c.levels.values[m],R=c.levels.values[B];if(R<E)return;b(this,{ts:D,methodLevel:B,methodValue:R,transmitLevel:m,transmitValue:c.levels.values[w.transmit.level||S.level],send:w.transmit.send,val:S.levelVal},M)}}})(S[B]))}function s(w,S,B,C){w._serialize&&a(B,w._serialize,w.serializers,w._stdErrSerialize);const A=B.slice();let D=A[0];const M={};C&&(M.time=C),M.level=c.levels.values[S];let l=(w._childLevel|0)+1;if(l<1&&(l=1),D!==null&&typeof D=="object"){for(;l--&&typeof A[0]=="object";)Object.assign(M,A.shift());D=A.length?r(A.shift(),A):void 0}else typeof D=="string"&&(D=r(A.shift(),A));return D!==void 0&&(M.msg=D),M}function a(w,S,B,C){for(const A in w)if(C&&w[A]instanceof Error)w[A]=c.stdSerializers.err(w[A]);else if(typeof w[A]=="object"&&!Array.isArray(w[A]))for(const D in w[A])S&&S.indexOf(D)>-1&&D in B&&(w[A][D]=B[D](w[A][D]))}function p(w,S,B){return function(){const C=new Array(1+arguments.length);C[0]=S;for(var A=1;A<C.length;A++)C[A]=arguments[A-1];return w[B].apply(this,C)}}function b(w,S,B){const C=S.send,A=S.ts,D=S.methodLevel,M=S.methodValue,l=S.val,u=w._logEvent.bindings;a(B,w._serialize||Object.keys(w.serializers),w.serializers,w._stdErrSerialize===void 0?!0:w._stdErrSerialize),w._logEvent.ts=A,w._logEvent.messages=B.filter(function(m){return u.indexOf(m)===-1}),w._logEvent.level.label=D,w._logEvent.level.value=M,C(D,w._logEvent,l),w._logEvent=y(u)}function y(w){return{ts:0,messages:[],bindings:w||[],level:{label:"",value:0}}}function d(w){const S={type:w.constructor.name,msg:w.message,stack:w.stack};for(const B in w)S[B]===void 0&&(S[B]=w[B]);return S}function g(w){return typeof w.timestamp=="function"?w.timestamp:w.timestamp===!1?v:P}function x(){return{}}function _(w){return w}function I(){}function v(){return!1}function P(){return Date.now()}function W(){return Math.round(Date.now()/1e3)}function k(){return new Date(Date.now()).toISOString()}function U(){function w(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return w(self)||w(window)||w(this)||{}}}}}),de=ne(Tn()),Xu=ne(Tn());const Ec={level:"info"},Ae="custom_context",jt=1e3*1024;var Sc=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Tr=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Sc(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},xn=class{constructor(e,t=jt){this.level=e??"error",this.levelValue=de.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Tr(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===de.levels.values.error?console.error(e):t===de.levels.values.warn?console.warn(e):t===de.levels.values.debug?console.debug(e):t===de.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(le({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Tr(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(le({extraMetadata:e})),new Blob(t,{type:"application/json"})}},Oc=class{constructor(e,t=jt){this.baseChunkLogger=new xn(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}},Ic=class{constructor(e,t=jt){this.baseChunkLogger=new xn(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},Rc=Object.defineProperty,Ac=Object.defineProperties,Bc=Object.getOwnPropertyDescriptors,xr=Object.getOwnPropertySymbols,Tc=Object.prototype.hasOwnProperty,xc=Object.prototype.propertyIsEnumerable,Nr=(e,t,r)=>t in e?Rc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fe=(e,t)=>{for(var r in t||(t={}))Tc.call(t,r)&&Nr(e,r,t[r]);if(xr)for(var r of xr(t))xc.call(t,r)&&Nr(e,r,t[r]);return e},Ve=(e,t)=>Ac(e,Bc(t));function Zu(e){return Ve(Fe({},e),{level:(e==null?void 0:e.level)||Ec.level})}function Nc(e,t=Ae){return e[t]||""}function Pc(e,t,r=Ae){return e[r]=t,e}function jc(e,t=Ae){let r="";return typeof e.bindings>"u"?r=Nc(e,t):r=e.bindings().context||"",r}function Lc(e,t,r=Ae){const n=jc(e,r);return n.trim()?`${n}/${t}`:t}function Qu(e,t,r=Ae){const n=Lc(e,t,r),i=e.child({context:n});return Pc(i,n,r)}function Cc(e){var t,r;const n=new Oc((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,de.default)(Ve(Fe({},e.opts),{level:"trace",browser:Ve(Fe({},(r=e.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function Uc(e){var t;const r=new Ic((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,de.default)(Ve(Fe({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function $u(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Cc(e):Uc(e)}const Nn="PARSE_ERROR",Pn="INVALID_REQUEST",jn="METHOD_NOT_FOUND",Ln="INVALID_PARAMS",Lt="INTERNAL_ERROR",Ze="SERVER_ERROR",Cn=[-32700,-32600,-32601,-32602,-32603],vt=[-32e3,-32099],be={[Nn]:{code:-32700,message:"Parse error"},[Pn]:{code:-32600,message:"Invalid Request"},[jn]:{code:-32601,message:"Method not found"},[Ln]:{code:-32602,message:"Invalid params"},[Lt]:{code:-32603,message:"Internal error"},[Ze]:{code:-32e3,message:"Server error"}},Qe=Ze;function Dc(e){return e<=vt[0]&&e>=vt[1]}function Ct(e){return Cn.includes(e)}function Un(e){return typeof e=="number"}function _t(e){return Object.keys(be).includes(e)?be[e]:be[Qe]}function Ut(e){const t=Object.values(be).find(r=>r.code===e);return t||be[Qe]}function Mc(e){if(typeof e.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof e.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!Un(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(Ct(e.error.code)){const t=Ut(e.error.code);if(t.message!==be[Qe].message&&e.error.message===t.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}function Dt(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var Dn={};qe(Dn,{__assign:()=>We,__asyncDelegator:()=>Zc,__asyncGenerator:()=>Xc,__asyncValues:()=>Qc,__await:()=>_e,__awaiter:()=>Vc,__classPrivateFieldGet:()=>ru,__classPrivateFieldSet:()=>nu,__createBinding:()=>Kc,__decorate:()=>kc,__exportStar:()=>Jc,__extends:()=>zc,__generator:()=>qc,__importDefault:()=>tu,__importStar:()=>eu,__makeTemplateObject:()=>$c,__metadata:()=>Fc,__param:()=>Hc,__read:()=>Mn,__rest:()=>Wc,__spread:()=>Gc,__spreadArrays:()=>Yc,__values:()=>Et});function zc(e,t){ze(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Wc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function kc(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(o=(i<3?c(o):i>3?c(t,r,o):c(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function Hc(e,t){return function(r,n){t(r,n,e)}}function Fc(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Vc(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(a){try{s(n.next(a))}catch(p){c(p)}}function h(a){try{s(n.throw(a))}catch(p){c(p)}}function s(a){a.done?o(a.value):i(a.value).then(f,h)}s((n=n.apply(e,t||[])).next())})}function qc(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(s){return function(a){return h([s,a])}}function h(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(a){s=[6,a],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Kc(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Jc(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Et(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return o}function Gc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mn(arguments[t]));return e}function Yc(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],c=0,f=o.length;c<f;c++,i++)n[i]=o[c];return n}function _e(e){return this instanceof _e?(this.v=e,this):new _e(e)}function Xc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){n[b]&&(i[b]=function(y){return new Promise(function(d,g){o.push([b,y,d,g])>1||f(b,y)})})}function f(b,y){try{h(n[b](y))}catch(d){p(o[0][3],d)}}function h(b){b.value instanceof _e?Promise.resolve(b.value.v).then(s,a):p(o[0][2],b)}function s(b){f("next",b)}function a(b){f("throw",b)}function p(b,y){b(y),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Zc(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(c){return(r=!r)?{value:_e(e[i](c)),done:i==="return"}:o?o(c):c}:o}}function Qc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Et=="function"?Et(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(c){return new Promise(function(f,h){c=e[o](c),i(f,h,c.done,c.value)})}}function i(o,c,f,h){Promise.resolve(h).then(function(s){o({value:s,done:f})},c)}}function $c(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function eu(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function tu(e){return e&&e.__esModule?e:{default:e}}function ru(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function nu(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var ze,We,iu=kr({"../../node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js"(){ze=function(e,t){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ze(e,t)},We=function(){return We=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},We.apply(this,arguments)}}}),ou=q({"../../node_modules/@walletconnect/environment/dist/cjs/crypto.js"(e){It(),Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0;function t(){return($===null||$===void 0?void 0:$.crypto)||($===null||$===void 0?void 0:$.msCrypto)||{}}e.getBrowerCrypto=t;function r(){const i=t();return i.subtle||i.webkitSubtle}e.getSubtleCrypto=r;function n(){return!!t()&&!!r()}e.isBrowserCryptoAvailable=n}}),su=q({"../../node_modules/@walletconnect/environment/dist/cjs/env.js"(e){Fr(),Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}e.isReactNative=t;function r(){return typeof pe<"u"&&typeof pe.versions<"u"&&typeof pe.versions.node<"u"}e.isNode=r;function n(){return!t()&&!r()}e.isBrowser=n}}),zn=q({"../../node_modules/@walletconnect/environment/dist/cjs/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});const t=(iu(),Ee(Dn));t.__exportStar(ou(),e),t.__exportStar(su(),e)}}),Mt={};qe(Mt,{isNodeJs:()=>Wn});var au=ne(zn());Hr(Mt,ne(zn()));const Wn=au.isNode;function zt(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function kn(e=6){return BigInt(zt(e))}function Hn(e,t,r){return{id:r||zt(),jsonrpc:"2.0",method:e,params:t}}function cu(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Wt(e,t,r){return{id:e,jsonrpc:"2.0",error:Fn(t,r)}}function Fn(e,t){return typeof e>"u"?_t(Lt):(typeof e=="string"&&(e=Object.assign(Object.assign({},_t(Ze)),{message:e})),typeof t<"u"&&(e.data=t),Ct(e.code)&&(e=Ut(e.code)),e)}function uu(e){return e.includes("*")?et(e):!/\W/g.test(e)}function $e(e){return e==="*"}function et(e){return $e(e)?!0:!(!e.includes("*")||e.split("*").length!==2||e.split("*").filter(t=>t.trim()==="").length!==1)}function lu(e){return!$e(e)&&et(e)&&!e.split("*")[0].trim()}function fu(e){return!$e(e)&&et(e)&&!e.split("*")[1].trim()}var kt=class{},hu=class extends kt{constructor(e){super()}},Vn=class extends kt{constructor(){super()}},qn=class extends Vn{constructor(e){super()}};const du="^https?:",pu="^wss?:";function bu(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Kn(e,t){const r=bu(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function St(e){return Kn(e,du)}function Ot(e){return Kn(e,pu)}function Jn(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Ht(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function yu(e){return Ht(e)&&"method"in e}function Gn(e){return Ht(e)&&(Yn(e)||Ft(e))}function Yn(e){return"result"in e}function Ft(e){return"error"in e}function gu(e){return"error"in e&&e.valid===!1}var Vt={};qe(Vt,{DEFAULT_ERROR:()=>Qe,IBaseJsonRpcProvider:()=>Vn,IEvents:()=>kt,IJsonRpcConnection:()=>hu,IJsonRpcProvider:()=>qn,INTERNAL_ERROR:()=>Lt,INVALID_PARAMS:()=>Ln,INVALID_REQUEST:()=>Pn,METHOD_NOT_FOUND:()=>jn,PARSE_ERROR:()=>Nn,RESERVED_ERROR_CODES:()=>Cn,SERVER_ERROR:()=>Ze,SERVER_ERROR_CODE_RANGE:()=>vt,STANDARD_ERROR_MAP:()=>be,formatErrorMessage:()=>Fn,formatJsonRpcError:()=>Wt,formatJsonRpcRequest:()=>Hn,formatJsonRpcResult:()=>cu,getBigIntRpcId:()=>kn,getError:()=>_t,getErrorByCode:()=>Ut,isHttpUrl:()=>St,isJsonRpcError:()=>Ft,isJsonRpcPayload:()=>Ht,isJsonRpcRequest:()=>yu,isJsonRpcResponse:()=>Gn,isJsonRpcResult:()=>Yn,isJsonRpcValidationInvalid:()=>gu,isLocalhostUrl:()=>Jn,isNodeJs:()=>Wn,isReservedErrorCode:()=>Ct,isServerErrorCode:()=>Dc,isValidDefaultRoute:()=>$e,isValidErrorCode:()=>Un,isValidLeadingWildcardRoute:()=>lu,isValidRoute:()=>uu,isValidTrailingWildcardRoute:()=>fu,isValidWildcardRoute:()=>et,isWsUrl:()=>Ot,parseConnectionError:()=>Dt,payloadId:()=>zt,validateJsonRpcError:()=>Mc});Hr(Vt,Mt);var wu=ne(Ke()),el=class extends qn{constructor(e){super(e),this.events=new wu.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Hn(e.method,e.params||[],e.id||kn().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(i){n(i)}this.events.on(`${e.id}`,i=>{Ft(i)?n(i.error):r(i.result)});try{await this.connection.send(e,t)}catch(i){n(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Gn(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},mu=q({"../../node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/browser.js"(e,t){t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}});It();var vu=ne(Ke());const _u=()=>typeof WebSocket<"u"?WebSocket:typeof $<"u"&&typeof $.WebSocket<"u"?$.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:mu(),Eu=()=>typeof WebSocket<"u"||typeof $<"u"&&typeof $.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Pr=e=>e.split("?")[0],jr=10,Su=_u();var tl=class{constructor(e){if(this.url=e,this.events=new vu.EventEmitter,this.registering=!1,!Ot(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(le(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Ot(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,n)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),n(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const n=(0,Vt.isReactNative)()?void 0:{rejectUnauthorized:!Jn(e)},i=new Su(e,[],n);Eu()?i.onerror=o=>{const c=o;r(this.emitError(c.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Oe(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=r.message||r.toString(),i=Wt(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return Dt(e,Pr(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>jr&&this.events.setMaxListeners(jr)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Pr(this.url)}`));return this.events.emit("register_error",t),t}},Ou=q({"../../node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/browser-ponyfill.js"(e,t){var r=typeof self<"u"?self:void 0,n=(function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o})();(function(o){var c=(function(f){var h={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function s(l){return l&&DataView.prototype.isPrototypeOf(l)}if(h.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(l){return l&&a.indexOf(Object.prototype.toString.call(l))>-1};function b(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function y(l){return typeof l!="string"&&(l=String(l)),l}function d(l){var u={next:function(){var m=l.shift();return{done:m===void 0,value:m}}};return h.iterable&&(u[Symbol.iterator]=function(){return u}),u}function g(l){this.map={},l instanceof g?l.forEach(function(u,m){this.append(m,u)},this):Array.isArray(l)?l.forEach(function(u){this.append(u[0],u[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(u){this.append(u,l[u])},this)}g.prototype.append=function(l,u){l=b(l),u=y(u);var m=this.map[l];this.map[l]=m?m+", "+u:u},g.prototype.delete=function(l){delete this.map[b(l)]},g.prototype.get=function(l){return l=b(l),this.has(l)?this.map[l]:null},g.prototype.has=function(l){return this.map.hasOwnProperty(b(l))},g.prototype.set=function(l,u){this.map[b(l)]=y(u)},g.prototype.forEach=function(l,u){for(var m in this.map)this.map.hasOwnProperty(m)&&l.call(u,this.map[m],m,this)},g.prototype.keys=function(){var l=[];return this.forEach(function(u,m){l.push(m)}),d(l)},g.prototype.values=function(){var l=[];return this.forEach(function(u){l.push(u)}),d(l)},g.prototype.entries=function(){var l=[];return this.forEach(function(u,m){l.push([m,u])}),d(l)},h.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function x(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function _(l){return new Promise(function(u,m){l.onload=function(){u(l.result)},l.onerror=function(){m(l.error)}})}function I(l){var u=new FileReader,m=_(u);return u.readAsArrayBuffer(l),m}function v(l){var u=new FileReader,m=_(u);return u.readAsText(l),m}function P(l){for(var u=new Uint8Array(l),m=new Array(u.length),E=0;E<u.length;E++)m[E]=String.fromCharCode(u[E]);return m.join("")}function W(l){if(l.slice)return l.slice(0);var u=new Uint8Array(l.byteLength);return u.set(new Uint8Array(l)),u.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:h.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:h.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():h.arrayBuffer&&h.blob&&s(l)?(this._bodyArrayBuffer=W(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||p(l))?this._bodyArrayBuffer=W(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var l=x(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var l=x(this);if(l)return l;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(l){var u=l.toUpperCase();return U.indexOf(u)>-1?u:l}function S(l,u){u=u||{};var m=u.body;if(l instanceof S){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,u.headers||(this.headers=new g(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!m&&l._bodyInit!=null&&(m=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new g(u.headers)),this.method=w(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(m)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function B(l){var u=new FormData;return l.trim().split("&").forEach(function(m){if(m){var E=m.split("="),R=E.shift().replace(/\+/g," "),O=E.join("=").replace(/\+/g," ");u.append(decodeURIComponent(R),decodeURIComponent(O))}}),u}function C(l){var u=new g,m=l.replace(/\r?\n[\t ]+/g," ");return m.split(/\r?\n/).forEach(function(E){var R=E.split(":"),O=R.shift().trim();if(O){var L=R.join(":").trim();u.append(O,L)}}),u}k.call(S.prototype);function A(l,u){u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in u?u.statusText:"OK",this.headers=new g(u.headers),this.url=u.url||"",this._initBody(l)}k.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},A.error=function(){var l=new A(null,{status:0,statusText:""});return l.type="error",l};var D=[301,302,303,307,308];A.redirect=function(l,u){if(D.indexOf(u)===-1)throw new RangeError("Invalid status code");return new A(null,{status:u,headers:{location:l}})},f.DOMException=o.DOMException;try{new f.DOMException}catch{f.DOMException=function(u,m){this.message=u,this.name=m;var E=Error(u);this.stack=E.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function M(l,u){return new Promise(function(m,E){var R=new S(l,u);if(R.signal&&R.signal.aborted)return E(new f.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function L(){O.abort()}O.onload=function(){var T={status:O.status,statusText:O.statusText,headers:C(O.getAllResponseHeaders()||"")};T.url="responseURL"in O?O.responseURL:T.headers.get("X-Request-URL");var j="response"in O?O.response:O.responseText;m(new A(j,T))},O.onerror=function(){E(new TypeError("Network request failed"))},O.ontimeout=function(){E(new TypeError("Network request failed"))},O.onabort=function(){E(new f.DOMException("Aborted","AbortError"))},O.open(R.method,R.url,!0),R.credentials==="include"?O.withCredentials=!0:R.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&h.blob&&(O.responseType="blob"),R.headers.forEach(function(T,j){O.setRequestHeader(j,T)}),R.signal&&(R.signal.addEventListener("abort",L),O.onreadystatechange=function(){O.readyState===4&&R.signal.removeEventListener("abort",L)}),O.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return M.polyfill=!0,o.fetch||(o.fetch=M,o.Headers=g,o.Request=S,o.Response=A),f.Headers=g,f.Request=S,f.Response=A,f.fetch=M,Object.defineProperty(f,"__esModule",{value:!0}),f})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}}),Iu=ne(Ke()),Lr=ne(Ou()),Ru=Object.defineProperty,Au=Object.defineProperties,Bu=Object.getOwnPropertyDescriptors,Cr=Object.getOwnPropertySymbols,Tu=Object.prototype.hasOwnProperty,xu=Object.prototype.propertyIsEnumerable,Ur=(e,t,r)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dr=(e,t)=>{for(var r in t||(t={}))Tu.call(t,r)&&Ur(e,r,t[r]);if(Cr)for(var r of Cr(t))xu.call(t,r)&&Ur(e,r,t[r]);return e},Mr=(e,t)=>Au(e,Bu(t));const Nu={Accept:"application/json","Content-Type":"application/json"},Pu="POST",zr={headers:Nu,method:Pu},Wr=10;var rl=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Iu.EventEmitter,this.isAvailable=!1,this.registering=!1,!St(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=le(e),r=await(await(0,Lr.default)(this.url,Mr(Dr({},zr),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!St(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,n)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),n(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=le({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,Lr.default)(e,Mr(Dr({},zr),{body:t}))}this.onOpen()}catch(t){const r=this.parseError(t);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Oe(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=r.message||r.toString(),i=Wt(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return Dt(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Wr&&this.events.setMaxListeners(Wr)}};export{$u as A,Ju as C,Qu as E,Ha as IEvents,Hu as Po,Ua as Qe,Fu as Qo,Vu as concat,zu as detect,rl as f,tl as f$1,Wt as formatJsonRpcError,Hn as formatJsonRpcRequest,cu as formatJsonRpcResult,qu as fromString,kn as getBigIntRpcId,Yu as h,Gu as i,Xu as import_browser,Ft as isJsonRpcError,yu as isJsonRpcRequest,Gn as isJsonRpcResponse,Yn as isJsonRpcResult,Zu as k,el as o,zt as payloadId,qa as r,Wu as require_cjs,qi as require_cjs$1,Jr as require_cjs$2,Oe as safeJsonParse,le as safeJsonStringify,ku as sn,Ku as toString,jc as y};
