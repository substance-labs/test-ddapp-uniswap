import{__toESM as sn}from"./chunk-DgAfPHQg.js";import{require_react as kt}from"./react-CNoFhWkx.js";import{AnimatePresence as qn,Check as Ct,CheckCircleFilled as Gn,Dimensions as Tn,G as To,ModalCloseIcon as _t,Path as j,RotatableChevron as Jn,Svg as X,TouchableArea as ne,Trans as en,createIcon as Q,require_isArray as Tt,spacing as Ze,useScrollbarStyles as St,useSporeColors as So,zIndexes as bo}from"./src-DOOtfpHS.js";import{useTranslation as z}from"./useTranslation-BotBuoJf.js";import{isAndroid as Io,isExtension as bt,isInterface as le,isMobileApp as an,isMobileWeb as $n,isWeb as q}from"./index.web-BqgtOHN3.js";import{useUrlContext as It}from"./constants-CrXoXfFH.js";import{useDispatch as Ne,useSelector as cn}from"./es-Iwj7vF3u.js";import{require_jsx_runtime as wt}from"./jsx-runtime-D7bMTQeG.js";import{useEnabledChains as re,useUniswapContext as wo}from"./useEnabledChains-DuB86c95.js";import{logger as jt,useEvent as Xe}from"./hooks-BXO4d1DJ.js";import{SharedEventName as Yn}from"./analytics.web-DLc1_wTk.js";import{createSelector as Oe}from"./redux-toolkit.esm-BnRUBto_.js";import{ApolloError as Pt,Percent as qe,SafetyLevel as Ge,UniverseChainId as jo,fromGraphQLChain as Po,getChainInfo as nn,getChainLabel as Bt,init_sdk_core_esm as Ft,isTestnetChain as Et,toSupportedChainId as Qe,unique as Rt,useTokenProjectsQuery as Lt}from"./utils-BX1Fu73x.js";import{areCurrencyIdsEqual as At,buildCurrencyId as fe,buildNativeCurrencyId as En,currencyAddress as Sn,currencyId as ln,currencyIdToAddress as ge,currencyIdToChain as Rn,getNativeAddress as te,isNativeCurrencyAddress as Zn}from"./currencyId-Ci6selsx.js";import{SearchResultType as xe,addFavoriteToken as Dt,addToSearchHistory as ke,clearSearchHistory as Nt,removeFavoriteToken as Ot}from"./slice-DimuiOR8.js";import{WalletEventName as Bo}from"./wallet-gHLp87c6.js";import{InterfaceEventName as Wt}from"./interface-BdpC4qOF.js";import{ElementName as on}from"./element-Wnp4RkdY.js";import{ModalName as ue}from"./modal-Dvm06CN4.js";import{UniswapEventName as Fo}from"./uniswap-Bm-6KILn.js";import{getTokenDetailsURL as Mt,tokenAddressOrNativeAddress as Ht}from"./linking-D29RyAR8.js";import{TradeState as Ut}from"./types-DbOmsKtk.js";import{isAddress as zt,shortenAddress as Eo}from"./addresses-D56PBUHX.js";import{getSymbolDisplayText as Ln}from"./currency-DIOEzjz2.js";import{FeatureFlags as Vt,useFeatureFlag as Kt}from"./hooks-Bp0VtWbX.js";import{sendAnalyticsEvent as pe}from"./send.web-CrSXW2rw.js";import{NATIVE_ADDRESS_FOR_TRADING_API as Ro,getTokenAddressFromChainForTradingApi as Lo,toTradingApiSupportedChainId as Ao}from"./TradingApiClient-Cp_0ez5S.js";import{TokenProtectionWarning as he,getCurrencyFeeOnTransfer as qt,getFeeColor as Xn,getFeeWarning as Gt,getIsFeeRelatedWarning as Jt,getSeverityFromTokenProtectionWarning as $t,getShouldHaveCombinedPluralTreatment as Yt,getTokenProtectionFeeOnTransfer as Do,getTokenProtectionWarning as Zt,getTokenWarningSeverity as de,useModalHeaderText as Xt,useModalSubtitleText as Qt}from"./useUSDCPrice-HO7Wgroz.js";import{parseProtectionInfo as No,parseRestProtocolVersion as er,parseSafetyLevel as Oo,require_isEqual as nr,sortPortfolioBalances as or,usePersistedError as tr,usePortfolioBalances as rr,useTokenBalancesGroupedByVisibility as sr}from"./balances-DV0Wvmri.js";import{CustomRankingType as ir,TokenList as ar,buildCurrency as An,buildCurrencyInfo as Wo,currencyIdToContractInput as cr,getCurrencySafetyInfo as Dn}from"./getCurrencySafetyInfo-BHD1ohD-.js";import{MethodKind as Nn}from"./connect-transport-9OnIgPz5.js";import{Message as J,proto3 as C}from"./proto3-DkSQZto4.js";import{useQuery as Mo}from"./use-query-8AOGtvlP.js";import{UNISWAP_WEB_URL as lr,uniswapUrls as dr}from"./urls-kwiZbYPW.js";import{ALL_NETWORKS_ARG as ur,uniswapGetTransport as pr,uniswapPostTransport as mr}from"./base-DVpWJ4NW.js";import{NumberType as Qn}from"./types-JuyYLR0O.js";import{useLocalizationContext as Ho}from"./LocalizationContext-B31peW1_.js";import{WarningSeverity as U,getAlertColor as hr}from"./getAlertColor-J5DrJWHv.js";import{CurrencyField as oe}from"./currency-xm5i4cH7.js";import{useSupportedChainId as eo}from"./useSupportedChainId-DskHoisQ.js";import{useWallet as fr}from"./useWallet-CL5owP9P.js";import{useTrace as Uo}from"./TraceContext-Ddfk7zjz.js";import{noop as zo}from"./noop-BDbB2pLB.js";import{Flex as O,Loader as no,Text as B,fonts as Vo,iconSizes as me,isWeb as gr,styled as xr,useComposedRefs as vr,useDeviceDimensions as yr,useMedia as kr}from"./Loader-D83W8G1W.js";import{Input as Cr}from"./Input-ClKbNpxm.js";import{AnimateTransition as Ko}from"./AnimatePresencePager-Dk43KD9E.js";import{ElementAfterText as _r}from"./useNewChainIds-CIAogFpa.js";import{BaseCard as qo,LabeledCheckbox as Tr,NetworkFilter as Sr,SHADOW_OFFSET_SMALL as br}from"./NetworkFilter-ZFjNguMa.js";import{CoinConvert as Ir}from"./CoinConvert-D8dLJ8GW.js";import{CopyAlt as oo}from"./CopyAlt-CU_LJNbN.js";import{InfoCircleFilled as Go}from"./InfoCircleFilled-CBAL5Wj0.js";import{VariableSizeList as wr,getWarningIconColors as Jo}from"./index.esm-CLP40SHA.js";import{Person as jr}from"./Person-B27R6hM-.js";import{Pools as Pr}from"./Pools-DKYxZO3F.js";import{ReceiveAlt as Br}from"./ReceiveAlt-nuO9D5GJ.js";import{SendAction as Fr,getClipboard as $o,setClipboard as to}from"./clipboard.web-CNSIHgMi.js";import{Shuffle as Er}from"./SplitLogo-Ct--07LT.js";import{NATIVE_CHAIN_ID as ve}from"./tokens-Dxd89cHj.js";import{useDebounce as ro}from"./timing-DsWr56iv.js";import{useCurrencyInfos as Rr}from"./useCurrencyInfo-Bxa3J04d.js";import{setHasSeenBridgingTooltip as Lr}from"./slice-DoLbOto3.js";import{pushNotification as Ar}from"./slice-Crjw990S.js";import{getParsedChainId as so}from"./chainParams-DIOvplzi.js";import{TokenLogo as On}from"./TokenLogo-JlSSDr3Q.js";import{useCurrency as io}from"./Tokens-HEKZ8edJ.js";import{useMultichainContext as Dr}from"./useMultichainContext-BVmgxqO2.js";import{TestID as Yo}from"./testIDs-CxYpwoP6.js";import{OnchainItemListOptionType as ee,currencyInfosToTokenOptions as Nr,filter as Wn,useCommonTokensOptionsWithFallback as Or,useCurrencyInfosToTokenOptions as tn,usePortfolioBalancesForAddressById as We,useTokenProjects as Wr,useTradingApiSwappableTokensQuery as Zo}from"./useCommonTokensOptionsWithFallback-7qZUIHia.js";import{Trace_default as bn}from"./Trace-DgHN3Ak9.js";import{Modal as Xo}from"./Modal.web-DHbL39pN.js";import{WarningModalContent as Mr}from"./WarningModal-f8Gfhd_G.js";import{LearnMoreLink as Hr}from"./LearnMoreLink-CrJtGK7U.js";import{AutoSizer as Ur,WarningIcon as Mn,useDismissedTokenWarnings as In}from"./react-virtualized-auto-sizer.esm-5JBVmqYi.js";import{AppNotificationType as zr,CopyNotificationType as Vr}from"./types-Ds0gKmju.js";import{dismissNativeKeyboard as Le}from"./dismissNativeKeyboard.web-99F1bxCR.js";import{ContextMenu as Kr,ContextMenuTriggerMode as qr}from"./ContextMenuV2.web-DtsTwCPj.js";import{useBooleanState as Qo}from"./useBooleanState-QNOWYlXb.js";import{tokenRankings as Gr}from"./service-ExploreStatsService_connectquery-YoP81iJ5.js";let Jr=(function(e){return e.AutomatedOnDeviceRecoveryTriggered="Automated On Device Recovery Triggered",e.AutomatedOnDeviceRecoveryMnemonicsFound="Automated On Device Recovery Mnemonics Found",e.AutomatedOnDeviceRecoverySingleMnemonicFetched="Automated On Device Recovery Mnemonic Fetched",e.DeepLinkOpened="Deep Link Opened",e.ExploreFilterSelected="Explore Filter Selected",e.ExploreSearchResultClicked="Explore Search Result Clicked",e.ExploreTokenItemSelected="Explore Token Item Selected",e.ExploreNetworkSelected="Explore Network Selected",e.ExploreSearchNetworkSelected="Explore Search Network Selected",e.FavoriteItem="Favorite Item",e.FiatOnRampQuickActionButtonPressed="Fiat OnRamp QuickAction Button Pressed",e.HomeExploreTokenItemSelected="Home Explore Token Item Selected",e.NotificationsToggled="Notifications Toggled",e.OnboardingCompleted="Onboarding Completed",e.PerformanceReport="Performance Report",e.RestoreSuccess="Restore Success",e.SeedPhraseInputSubmitError="Seed Phrase Input Submit Error",e.ShareLinkOpened="Share Link Opened",e.TokenDetailsOtherChainButtonPressed="Token Details Other Chain Button Pressed",e.TokenDetailsContextMenuAction="Token Details Context Menu Action Selected",e.WalletConnectSheetCompleted="Wallet Connect Sheet Completed",e.WidgetClicked="Widget Clicked",e.WidgetConfigurationUpdated="Widget Configuration Updated",e})({}),$r=(function(e){return e.CurrencyInputPanel="currency-input-panel",e.CurrencyOutputPanel="currency-output-panel",e.ExploreFavoriteTokensSection="explore-favorite-tokens-section",e.ExploreSearch="explore-search",e.ExploreTopTokensSection="explore-top-tokens-section",e.HomeActivityTab="home-activity-tab",e.HomeExploreTab="home-explore-tab",e.HomeNFTsTab="home-nfts-tab",e.HomeTokensTab="home-tokens-tab",e.ImportAccountForm="import-account-form",e.MiniPortfolio="mini-portfolio",e.NavbarSearch="Navbar Search",e.ProfileActivityTab="profile-activity-tab",e.ProfileNftsTab="profile-nfts-tab",e.ProfileTokensTab="profile-tokens-tab",e.SwapCurrencyInput="swap-currency-input",e.SwapCurrencyOutput="swap-currency-output",e.SwapForm="swap-form",e.SwapPending="swap-pending",e.SwapReview="swap-review",e.TokenSelector="token-selector",e.TokenDetails="token-details",e.SendForm="transfer-form",e.SendReview="transfer-review",e.SendRecipientSelectFullScreen="send-recipient-select",e.ChainSelector="chain-selector",e.CreatePositionDepositStep="create-position-deposit-step",e.CreatePositionPriceRangeStep="create-position-price-range-step",e.CreatePositionSelectTokensStep="create-position-select-tokens-step",e})({}),Je=(function(e){return e.BLOCKED="BLOCKED",e.MEDIUM_WARNING="MEDIUM_WARNING",e.STRONG_WARNING="STRONG_WARNING",e.VERIFIED="VERIFIED",e})({});var l=sn(kt(),1);const Yr={height:800,width:600};Tn.addEventListener("change",()=>{wn.forEach(e=>e(window))});const wn=new Set;function Zr(e){return wn.add(e),()=>wn.delete(e)}function Xr({serverValue:e=Yr}={}){return l.useSyncExternalStore(Zr,()=>Tn.get("window"),()=>gr?e:Tn.get("window"))}var t=sn(wt());const[Qr,Jc]=Q({name:"ClipboardPaste",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 16 16",fill:"none",...e,children:(0,t.jsx)(j,{d:"M13.3332 5.33333V12C13.3332 13.3333 12.6665 14 11.3332 14H4.6665C3.33317 14 2.6665 13.3333 2.6665 12V5.33333C2.6665 4.172 3.16777 3.518 4.17643 3.37134C4.2571 3.35934 4.33317 3.42599 4.33317 3.50732V3.66602C4.33317 4.87935 5.11984 5.66602 6.33317 5.66602H9.66651C10.8798 5.66602 11.6665 4.87935 11.6665 3.66602V3.50732C11.6665 3.42599 11.7432 3.35934 11.8232 3.37134C12.8319 3.518 13.3332 4.172 13.3332 5.33333ZM6.33317 4.66667H9.66651C10.3332 4.66667 10.6665 4.33333 10.6665 3.66667V3C10.6665 2.33333 10.3332 2 9.66651 2H6.33317C5.6665 2 5.33317 2.33333 5.33317 3V3.66667C5.33317 4.33333 5.6665 4.66667 6.33317 4.66667Z",fill:"currentColor"})})}),[es,$c]=Q({name:"Clock",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 18 18",fill:"none",...e,children:(0,t.jsx)(j,{d:"M8.99984 0.666748C4.39734 0.666748 0.666504 4.39758 0.666504 9.00008C0.666504 13.6026 4.39734 17.3334 8.99984 17.3334C13.6023 17.3334 17.3332 13.6026 17.3332 9.00008C17.3332 4.39758 13.6023 0.666748 8.99984 0.666748ZM11.9415 11.9418C11.8199 12.0634 11.6598 12.1251 11.4998 12.1251C11.3398 12.1251 11.1798 12.0643 11.0581 11.9418L8.55815 9.44177C8.44065 9.32427 8.37484 9.16508 8.37484 9.00008V4.83341C8.37484 4.48841 8.65484 4.20841 8.99984 4.20841C9.34484 4.20841 9.62484 4.48841 9.62484 4.83341V8.74088L11.9415 11.0576C12.1857 11.3026 12.1857 11.6976 11.9415 11.9418Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),defaultFill:"#7D7D7D"}),[ao,Yc]=Q({name:"Coins",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,t.jsx)(j,{d:"M7.5 18.01C7.5 18.74 7.72001 19.4 8.13 19.97C5.45 19.8 3 18.82 3 17.01V16.13C4.05 16.95 5.6 17.5 7.5 17.68V18.01ZM7.53998 13.94C7.52998 13.95 7.53003 13.96 7.53003 13.97C7.51003 14.07 7.5 14.17 7.5 14.27V16.18C5.08 15.9 3 14.94 3 13.27V12.39C4.05 13.22 5.61003 13.77 7.53003 13.94H7.53998ZM11.44 10.28C9.92 10.75 8.73001 11.52 8.07001 12.48C5.41001 12.31 3 11.33 3 9.53003V8.84998C4.31 9.87998 6.41 10.48 9 10.48C9.87 10.48 10.69 10.41 11.44 10.28ZM15 8.84998V9.53003C15 9.62003 14.99 9.70003 14.98 9.78003C14.19 9.78003 13.44 9.84997 12.74 9.96997C13.64 9.69997 14.4 9.31998 15 8.84998ZM9 3C6 3 3 3.99999 3 5.98999C3 7.99999 6 8.97998 9 8.97998C12 8.97998 15 7.99999 15 5.98999C15 3.99999 12 3 9 3ZM15 18.76C12.49 18.76 10.35 18.1 9 17.03V18.01C9 20 12 21 15 21C18 21 21 20 21 18.01V17.03C19.65 18.1 17.51 18.76 15 18.76ZM15 11.28C11.69 11.28 9 12.62 9 14.27C9 15.92 11.69 17.26 15 17.26C18.31 17.26 21 15.92 21 14.27C21 12.62 18.31 11.28 15 11.28Z",fill:"currentColor"})}),defaultFill:"#7D7D7D"}),[ns,Zc]=Q({name:"Flag",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 16 16",fill:"none",...e,children:(0,t.jsx)(To,{id:"flag",children:(0,t.jsx)(j,{id:"flag_2",d:"M10 5.66667L12.6667 9.33333H3.83337V13.9733C3.83337 14.2466 3.60671 14.4733 3.33337 14.4733C3.06004 14.4733 2.83337 14.2466 2.83337 13.9733V9.33333V4C2.83337 2.66667 3.50004 2 4.83337 2H12.6667L10 5.66667Z",fill:"currentColor"})})}),defaultFill:"#FF5F52"}),[et,Xc]=Q({name:"Heart",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,t.jsx)(j,{d:"M22.7927 11.1242C21.359 18.5187 12.0003 22.7782 12.0003 22.7782C12.0003 22.7782 2.64153 18.5187 1.20661 11.1242C0.326598 6.58719 2.24925 2.02329 7.13701 2.00007C10.7781 1.98296 12.0003 5.65211 12.0003 5.65211C12.0003 5.65211 13.2226 1.98173 16.8624 2.00007C21.7612 2.02329 23.6727 6.58841 22.7927 11.1242Z",fill:"currentColor"})})}),[os,Qc]=Q({name:"PhotoStacked",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 24 25",fill:"none",...e,children:(0,t.jsx)(j,{d:"M22.448 7.89973L21.248 16.4808C21.091 17.5738 20.664 18.3498 19.991 18.7928C19.758 18.9128 19.5031 18.7919 19.5031 18.5489V9.95783C19.5031 7.34883 17.9451 5.79084 15.3361 5.79084C15.3361 5.79084 6.22395 5.79084 5.92395 5.79084C5.62395 5.79084 5.61694 5.5207 5.63794 5.4007C5.79594 4.4547 6.17 3.7547 6.75 3.3177C7.357 2.8607 8.17702 2.7018 9.19202 2.8448L19.7531 4.32478C20.7701 4.46878 21.518 4.84983 21.976 5.45783C22.433 6.06483 22.592 6.88673 22.448 7.89973ZM18.0031 9.95686V18.6248C18.0031 20.4028 17.1141 21.2918 15.3361 21.2918H4.66797C2.88997 21.2918 2.00098 20.4028 2.00098 18.6248V9.95686C2.00098 8.17886 2.88997 7.28987 4.66797 7.28987H15.3361C17.1141 7.28987 18.0031 8.17786 18.0031 9.95686ZM3.5 9.95686V17.1348L4.93298 15.7017C5.27298 15.3517 5.84299 15.3517 6.19299 15.7017L7.02295 16.5318C7.19295 16.7018 7.48295 16.7018 7.65295 16.5318L12.043 12.1419C12.383 11.8019 12.953 11.8019 13.303 12.1419L16.5031 15.3499V9.95686C16.5031 9.00786 16.2851 8.78987 15.3361 8.78987H4.66797C3.71797 8.78987 3.5 9.00786 3.5 9.95686ZM6.50195 12.7918C7.05295 12.7918 7.5 12.3438 7.5 11.7918C7.5 11.2398 7.05295 10.7918 6.50195 10.7918H6.49402C5.94302 10.7918 5.5 11.2398 5.5 11.7918C5.5 12.3438 5.95095 12.7918 6.50195 12.7918Z",fill:"currentColor"})})}),[nt,el]=Q({name:"Search",getIcon:e=>(0,t.jsxs)(X,{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,t.jsx)(j,{d:"M10.5 17.9999C14.6421 17.9999 18 14.642 18 10.4999C18 6.35774 14.6421 2.99988 10.5 2.99988C6.35786 2.99988 3 6.35774 3 10.4999C3 14.642 6.35786 17.9999 10.5 17.9999Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)(j,{d:"M21 20.9999L16 15.9999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),[ts,nl]=Q({name:"ShareArrow",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,t.jsx)(j,{d:"M13 4.99092C13 4.09592 14.094 3.66096 14.709 4.31196L20.637 10.582C21.121 11.094 21.121 11.894 20.637 12.406L14.709 18.676C14.094 19.326 13 18.891 13 17.997V14.4919C5.437 14.4919 4.93602 16.962 4.96802 19.529C4.97402 20.019 4.32501 20.1811 4.08301 19.7561C3.46701 18.6751 3 17.1999 3 15.4909C3 8.99592 10 8.49702 13 8.49702V4.99092Z",fill:"currentColor"})}),defaultFill:"#9B9B9B"}),[rs,ol]=Q({name:"StickyNoteSquare",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,t.jsx)(j,{d:"M14 4.24666V8.56665C14 8.71332 13.9866 8.86 13.9533 9H11.2533C10.0066 9 9 10.0067 9 11.2533V13.9534C8.86 13.9867 8.7134 14 8.56673 14H4.25326C2.74659 14 2 13.2467 2 11.7467V4.24666C2 2.74666 2.74659 2 4.25326 2H11.7467C13.2534 2 14 2.74666 14 4.24666ZM10 11.2533V13.48C10.06 13.44 10.1067 13.3933 10.16 13.34L13.34 10.16C13.3933 10.1067 13.44 10.06 13.48 10H11.2533C10.5599 10 10 10.56 10 11.2533Z",fill:"currentColor"})}),defaultFill:"#FC74FE"}),[ss,tl]=Q({name:"TrendUp",getIcon:e=>(0,t.jsx)(X,{viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,t.jsx)(j,{d:"M14.6667 4.66667V7.43604C14.6667 7.80404 14.368 8.1027 14 8.1027C13.632 8.1027 13.3333 7.80404 13.3333 7.43604V6.27604L9.60933 10C9.09 10.52 8.24333 10.52 7.72399 10L5.99999 8.27604L2.47133 11.8047C2.34133 11.9347 2.17066 12 1.99999 12C1.82933 12 1.65866 11.9347 1.52866 11.8047C1.26799 11.544 1.26799 11.1226 1.52866 10.862L5.05733 7.33333C5.57666 6.81333 6.42333 6.81333 6.94266 7.33333L8.66666 9.05729L12.3907 5.33333H11.2307C10.8627 5.33333 10.564 5.03467 10.564 4.66667C10.564 4.29867 10.8627 4 11.2307 4H14C14.0867 4 14.1733 4.01794 14.2547 4.05127C14.418 4.11927 14.5473 4.24861 14.6153 4.41195C14.6487 4.49328 14.6667 4.58 14.6667 4.66667Z",fill:"currentColor"})}),defaultFill:"#0151FE"});let is=(function(e){return e.Swap="swap",e.Limit="limit",e.Send="send",e.Buy="buy",e.Sell="sell",e})({});Ft();const as=Object.freeze({currencies:{},currencyBalances:{},inputTax:new qe(0),outputTax:new qe(0),autoSlippage:new qe(0),allowedSlippage:new qe(0),trade:{state:Ut.LOADING}}),cs={typedValue:"",independentField:oe.INPUT},ls=(0,l.createContext)({swapState:cs,derivedSwapInfo:as,setSwapState:()=>{}}),ds=(0,l.createContext)({currencyState:{inputCurrency:void 0,outputCurrency:void 0},setCurrencyState:()=>{},currentTab:is.Swap,setCurrentTab:()=>{}});function us(){return(0,l.useContext)(ls)}function ps(){return(0,l.useContext)(ds)}const ms=e=>e.swapSettings.filteredChainIds;function rl(){const{swapState:e,setSwapState:n}=us(),{setCurrencyState:o}=ps();return{onSwitchTokens:(0,l.useCallback)(({newOutputHasTax:r,previouslyEstimatedOutput:c})=>{r&&e.independentField===oe.INPUT?n(a=>({...a,typedValue:c})):n(a=>({...a,independentField:a.independentField===oe.INPUT?oe.OUTPUT:oe.INPUT})),o(a=>({inputCurrency:a.outputCurrency,outputCurrency:a.inputCurrency}))},[o,n,e.independentField])}}function co(e){if(typeof e=="string")return e}function lo(e){if(typeof e=="string"){const n=zt(e);if(n)return n;if(e.toUpperCase()==="ETH")return"ETH";if(e===ve)return ve}}function ot({chainId:e,outputChainId:n,inputCurrency:o,outputCurrency:s,typedValue:r,independentField:c}){const a=new URLSearchParams;return e&&a.set("chain",nn(e).interfaceName),n&&n!==e&&a.set("outputChain",nn(n).interfaceName),o&&a.set("inputCurrency",o),s&&a.set("outputCurrency",s),r&&a.set("value",r),c&&a.set("field",c),a}function sl(e){const{inputCurrency:n,outputCurrency:o,typedValue:s,independentField:r,chainId:c}=e,a=(n||o)&&s;return"?"+ot({chainId:c,outputChainId:(o==null?void 0:o.chainId)!==(n==null?void 0:n.chainId)?o==null?void 0:o.chainId:void 0,inputCurrency:n?n.isNative?ve:n.address:void 0,outputCurrency:o?o.isNative?ve:o.address:void 0,typedValue:a?s:void 0,independentField:a?r:void 0}).toString()}function il({inputTokenAddress:e,outputTokenAddress:n,chainId:o,outputChainId:s}){const r=o??jo.Mainnet;return"?"+ot({chainId:o??void 0,outputChainId:s??void 0,inputCurrency:e?e===te(r)?ve:e:void 0,outputCurrency:n?n===te(s??r)?ve:n:void 0}).toString()}function hs(e){const n=so(e),o=so(e,oe.OUTPUT),s=lo(e.inputCurrency??e.inputcurrency),r=lo(e.outputCurrency??e.outputcurrency),c=r===s&&o===n?void 0:r,i=s||c?co(e.value):void 0,d=i?co(e.field):void 0;return{inputCurrencyAddress:s,outputCurrencyAddress:c,value:i,field:d,chainId:n,outputChainId:o}}function al(){const{setIsUserSelectedToken:e}=Dr(),{defaultChainId:n,isTestnetModeEnabled:o}=re(),s=cn(ms),{useParsedQueryString:r}=It(),c=r(),a=(0,l.useMemo)(()=>hs(c),[c]),i=eo(a.chainId??n)??jo.Mainnet,d=nn(i),m=o===!!d.testnet,p=a.inputCurrencyAddress||a.outputCurrencyAddress||a.chainId;(0,l.useEffect)(()=>{(a.inputCurrencyAddress||a.outputCurrencyAddress)&&e(!0)},[a.inputCurrencyAddress,a.outputCurrencyAddress,e]);const{initialInputCurrencyAddress:u,initialChainId:g}=(0,l.useMemo)(()=>{if(!p||!m){const y=(s==null?void 0:s.input)??n;return{initialInputCurrencyAddress:te(y),initialChainId:y}}return a.inputCurrencyAddress?{initialInputCurrencyAddress:a.inputCurrencyAddress,initialChainId:i}:{initialInputCurrencyAddress:a.outputCurrencyAddress?void 0:"ETH",initialChainId:i}},[p,m,a.inputCurrencyAddress,a.outputCurrencyAddress,i,n]),x=eo(a.outputChainId),h=(0,l.useMemo)(()=>u===a.outputCurrencyAddress&&!x?void 0:a.outputCurrencyAddress,[u,a.outputCurrencyAddress,x]),f=io({address:u,chainId:g}),k=io({address:h,chainId:a.outputChainId??g}),T=f||k?a.value:void 0,S=a.field&&typeof a.field=="string"?a.field.toUpperCase():void 0,I=T&&S&&S in oe?oe[S]:void 0;return{initialInputCurrency:f,initialOutputCurrency:k,initialTypedValue:T,initialField:I,initialChainId:g,triggerConnect:!!c.connect}}const[fs,cl]=Q({name:"BlockaidLogo",getIcon:e=>(0,t.jsx)(X,{fill:"none",viewBox:"0 0 51 10",...e,children:(0,t.jsxs)(To,{fill:"currentColor",children:[(0,t.jsx)(j,{d:"m.319422.828115v.801765h3.480178 3.48898l.21146.22026c.29075.28194.29075.68723 0 .96916l-.21146.22027h-2.7577c-2.48459 0-2.79296.01762-3.11014.1674-.740085.34361-1.12775.93392-1.13656 1.73568 0 .6608.30837 1.24229.84581 1.60353l.36124.23788 2.87224.04405c2.02644.03525 2.92511.0793 3.05727.14978.35243.20265.40529.66961.11454 1.03084l-.17621.22908h-3.52423-3.515418v.80176.79295l3.594718-.02643c3.42731-.02643 3.60352-.03524 3.98237-.21146.56388-.26431.89868-.57268 1.13657-1.04845.2555-.51102.27313-1.32159.05286-1.87666-.18502-.45815-.87225-1.09251-1.34802-1.23348-.22907-.07048-1.19823-.10572-2.96035-.10572-1.63876 0-2.68722-.03525-2.79295-.08811-.22026-.12335-.22026-.49339 0-.61674.10573-.05286 1.163-.0881 2.80176-.0881 1.44494 0 2.76652-.04406 2.93392-.08811.42291-.11454.87225-.45815 1.163-.88987.74009-1.10132.34361-2.599117-.84582-3.207046l-.52863-.264317-3.59471-.026432-3.594718-.0264321z"}),(0,t.jsx)(j,{d:"m10.011 4.93386v4.88987h.881.8811v-4.88987-4.8898661h-.8811-.881z"}),(0,t.jsx)(j,{d:"m27.4561 4.93386v4.88987h.881.8811v-1.17181-1.1718l.4317-.42291.4317-.42291.2996.46696c.1674.26432.6079.97798.9867 1.60353l.6873 1.11894h1.0925 1.0925l-1.4097-2.11454c-.7753-1.16299-1.4097-2.14978-1.4097-2.19383s.5551-.66079 1.2423-1.36564l1.2423-1.28634-1.0837.00881h-1.0925l-1.1806 1.27753c-.652.69604-1.2159 1.26872-1.2599 1.26872-.0353 0-.0705-1.20704-.0705-2.68722v-2.6872261h-.8811-.881z"}),(0,t.jsx)(j,{d:"m41.3767.880769v.837001h.8811.881v-.837001-.8370043h-.881-.8811z"}),(0,t.jsx)(j,{d:"m48.8658 1.91189v1.87666l-.282-.34362c-.837-1.02202-2.6519-1.0044-3.6828.02644-.696.69603-1.0572 1.674-1.0572 2.87224.0088 1.64758.5991 2.84582 1.6916 3.38326.4581.23789.6343.27313 1.207.27313.8106 0 1.2952-.19383 1.8414-.73128l.3701-.36123v.45815.45815h.881.8811v-4.88987-4.8898679h-.9251-.9251zm-.7313 2.45815c.4846.29956.7401.95155.7489 1.86785.0088 1.49779-.5463 2.26431-1.6388 2.26431-.7401 0-1.1806-.3348-1.4273-1.0837-.2026-.60793-.141-1.91189.1146-2.39647.2114-.40529.5022-.69604.8193-.8282.3172-.14097 1.0221-.04405 1.3833.17621z"}),(0,t.jsx)(j,{d:"m15.1213 2.81057c-1.2952.36124-2.1674 1.2511-2.511 2.56388-.3348 1.29515 0 2.61674.9075 3.5859.6696.72247 1.4713 1.03965 2.6255 1.03965.8106 0 1.3656-.15859 2.0264-.57269 2.2555-1.43612 2.0705-5.11894-.3171-6.34361-.7489-.38766-1.9119-.5022-2.7313-.27313zm1.9735 1.52423c.2027.14097.4406.43172.5727.68723.1939.37885.2291.55506.2291 1.27753 0 .88987-.0969 1.24229-.467 1.7533-.5462.74009-1.7621.81939-2.4669.15859-.7842-.73127-.8546-2.73127-.1322-3.59471.5551-.65198 1.5507-.77533 2.2643-.28194z"}),(0,t.jsx)(j,{d:"m22.5574 2.81068c-.6344.21145-1.0485.46696-1.4626.9163-.696.74009-.9691 1.48899-.9603 2.65198.0088 1.56828.6696 2.68723 1.9471 3.30397.5375.2555.6344.27312 1.5859.27312.9075 0 1.0661-.02643 1.5066-.22907.8018-.37885 1.3745-1.0837 1.5683-1.9207l.0793-.36124h-.8546-.8546l-.1939.39648c-.2467.5022-.5374.68722-1.163.73127-.9163.07049-1.4625-.37004-1.7268-1.40088-.326-1.26872.1145-2.57268.9956-2.95154.6696-.29075 1.4977-.00881 1.8149.59912l.1674.3348h.8635.8634l-.0881-.3348c-.2115-.78414-.8811-1.55066-1.6476-1.89427-.511-.22908-1.9031-.29075-2.4405-.11454z"}),(0,t.jsx)(j,{d:"m36.3193 2.81933c-.9428.26432-1.6917.96916-1.7886 1.70044l-.0529.37004h.793.7841l.1146-.30837c.3524-.98678 2.4757-.79295 2.4757.22908 0 .32599-.3259.57268-.9074.68722-.2555.04405-.793.14978-1.2071.22908-.9075.17621-1.4449.40528-1.8414.77533-.3965.37885-.5374.74009-.5374 1.38326 0 1.24229.7665 1.98238 2.1585 2.0881.8547.07049 1.5507-.14097 2-.59031.3701-.37004.3701-.36123.4582.10573l.0617.3348h.8898c.8106 0 .8723-.00881.8106-.15859-.044-.07929-.0969-1.27753-.1233-2.66079l-.0441-2.51101-.2643-.52864c-.3172-.62555-.7313-.95154-1.4978-1.14537-.6256-.15859-1.6916-.15859-2.2819 0zm2.4141 3.98238c0 1.03964-.3877 1.67401-1.1454 1.87665-1.1102.29956-1.9295-.27313-1.6388-1.15419.1234-.38766.4758-.58149 1.5331-.84581.4669-.11454.9074-.25551.9867-.29075.2379-.14097.2644-.09692.2644.4141z"}),(0,t.jsx)(j,{d:"m41.3767 6.34355v3.48018h.8811.881v-3.48018-3.48017h-.881-.8811z"}),(0,t.jsx)(j,{d:"m9.94047 4.95176-.01762 4.96035h.96915.9692l-.0176-4.96035-.0265-4.95154447-.0176 4.90748447-.0264 4.9163h-.8811-.881l-.02647-4.9163-.01763-4.90748447z"}),(0,t.jsx)(j,{d:"m29.2356 2.70529c-.0088 1.4978.0176 2.71366.0529 2.71366.0352 0 .2114-.14978.3788-.33481l.2996-.32599-.326.29956-.3348.30837-.0265-2.68722-.0176-2.67841654z"}),(0,t.jsx)(j,{d:"m41.3237.881212c0 .484578.0088.669608.0265.414098.0176-.25551.0176-.651984 0-.881059-.0177-.229075-.0265-.017621-.0265.466961z"}),(0,t.jsx)(j,{d:"m23.5176 2.6611c.0793.01762.2203.01762.3084 0 .0793-.02643.0088-.04405-.1586-.04405s-.2379.01762-.1498.04405z"}),(0,t.jsx)(j,{d:"m46.7774 2.6611c.0793.01762.2203.01762.3084 0 .0793-.02643.0088-.04405-.1586-.04405s-.2379.01762-.1498.04405z"}),(0,t.jsx)(j,{d:"m32.8215 2.83742 1.1013.03524-.6608.67842-.6519.67841.6872-.66079c.37-.36123.6784-.68723.6784-.72247 0-.04405-.5022-.06167-1.1189-.05286l-1.1278.01762z"}),(0,t.jsx)(j,{d:"m41.3325 2.89017c-.0265.05286-.0353 1.65639-.0265 3.54185l.0265 3.43612.9515.00881h.9427l-.9251-.02643-.9251-.03524v-3.47137-3.47136l.9075-.03524.8987-.02644-.9075-.01762c-.6608-.00881-.9163.00881-.9427.09692z"}),(0,t.jsx)(j,{d:"m3.3765 3.01364c.69604.01762 1.82379.01762 2.51102 0 .69603-.00881.13216-.02643-1.2511-.02643s-1.94714.01762-1.25992.02643z"}),(0,t.jsx)(j,{d:"m30.848 3.76226-.3524.37885.3789-.35242c.2026-.18502.37-.35242.37-.37004 0-.07049-.0793 0-.3965.34361z"}),(0,t.jsx)(j,{d:"m3.38545 5.30417c.74008.01762 1.92951.01762 2.64317 0 .71365-.00881.10572-.02643-1.34802-.02643s-2.03524.01762-1.29515.02643z"}),(0,t.jsx)(j,{d:"m3.24445 6.8901c.72247.01763 1.88546.01763 2.59912 0 .72246-.00881.13216-.02643-1.29516-.02643-1.42731 0-2.01762.01762-1.30396.02643z"}),(0,t.jsx)(j,{d:"m29.4999 7.20735-.2819.29075v1.16299 1.15419l-.9427.03524-.9516.02643h.9692l.9692-.00881.0264-1.18942.0264-1.18943.2731-.28194c.1586-.15859.2644-.29075.2379-.29075-.0264 0-.1674.13216-.326.29075z"}),(0,t.jsx)(j,{d:"m48.9009 9.42761.0088.44053.8634.00881h.8547l-.8282-.02643-.837-.03524-.0353-.4141-.0352-.41409z"}),(0,t.jsx)(j,{d:"m32.0286 9.85067c.0353.03525.5639.05287 1.163.04406l1.0925-.02643-1.163-.04406c-.6431-.02643-1.1365-.00881-1.0925.02643z"}),(0,t.jsx)(j,{d:"m39.2884 9.88571c.2819.01762.7136.01762.9691 0s.0265-.02643-.511-.02643c-.5286 0-.7401.00881-.4581.02643z"})]})}),defaultFill:"#bfbfbf"}),gs=xr(O,{width:"100%",backgroundColor:"$surface2",borderRadius:"$rounded12",borderWidth:1,borderColor:"$surface3",px:"$spacing16",py:an?"$spacing8":"$spacing12",alignItems:"center",flexWrap:"nowrap"}),xs="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _alignItems-center _justifyContent-flex-start _gap-t-space-spa94665593 ";function vs({currencyInfo:e,formatPercent:n,t:o,tokenProtectionWarning:s}){var r;const c=[];if(e.currency.isToken){var i,d;const m=e.currency.buyFeeBps?e.currency.buyFeeBps.toNumber()/100:(i=e.safetyInfo)===null||i===void 0||(i=i.blockaidFees)===null||i===void 0?void 0:i.buyFeePercent,p=e.currency.sellFeeBps?e.currency.sellFeeBps.toNumber()/100:(d=e.safetyInfo)===null||d===void 0||(d=d.blockaidFees)===null||d===void 0?void 0:d.sellFeePercent;if(m){const u=Xn(m);c.push((0,t.jsx)(ce,{children:(0,t.jsx)(en,{i18nKey:"token.safety.warning.feeDescription",components:{fee:(0,t.jsxs)(B,{variant:"body3",color:u,children:[n(m)," ",o("common.fee").toLowerCase()]})},values:{action:o("common.bought").toLowerCase()}})},"buy-fee"))}if(p){const u=Xn(p);c.push((0,t.jsx)(ce,{children:(0,t.jsx)(en,{i18nKey:"token.safety.warning.feeDescription",components:{fee:(0,t.jsxs)(B,{variant:"body3",color:u,children:[n(p)," ",o("common.fee").toLowerCase()]})},values:{action:o("common.sold").toLowerCase()}})},"sell-fee"))}}return s===he.SpamAirdrop&&c.push((0,t.jsx)(ce,{children:o("token.safety.warning.spamsUsers")},"spam-warning")),s===he.MaliciousImpersonator&&c.push((0,t.jsx)(ce,{children:o("token.safety.warning.impersonator")},"impersonator-warning")),s===he.MaliciousGeneral&&c.push((0,t.jsx)(ce,{children:o("token.safety.warning.flaggedAsMalicious")},"malicious-general-warning")),s===he.PotentialHoneypot&&c.push((0,t.jsx)(ce,{children:o("token.safety.warning.flaggedAsSuspicious")},"potential-honeypot-warning")),((r=e.safetyInfo)===null||r===void 0?void 0:r.tokenList)===ar.NonDefault&&c.push((0,t.jsx)(ce,{children:o("token.safety.warning.notListedOnExchanges")},"exchange-warning")),c}function ce({children:e}){return(0,t.jsxs)("div",{className:xs,children:[(0,t.jsx)(ns,{size:"$icon.16",color:"$neutral2"}),(0,t.jsx)(B,{variant:"body3",color:"$neutral2",children:e})]})}function ys({currencyInfo:e,tokenProtectionWarning:n}){const{t:o}=z(),{formatPercent:s}=Ho(),r=(0,l.useMemo)(()=>vs({currencyInfo:e,formatPercent:s,t:o,tokenProtectionWarning:n}),[e,s,o,n]);return r.length===0?null:(0,t.jsx)(gs,{gap:"$spacing8",py:"$spacing12",children:r})}function ks(e){var n,o;const s=Kt(Vt.BlockaidFotLogging),r=(0,l.useRef)(),{buyFeePercent:c,sellFeePercent:a}=Do(e),i=(e==null||(n=e.safetyInfo)===null||n===void 0||(n=n.blockaidFees)===null||n===void 0?void 0:n.buyFeePercent)??0,d=(e==null||(o=e.safetyInfo)===null||o===void 0||(o=o.blockaidFees)===null||o===void 0?void 0:o.sellFeePercent)??0;(0,l.useEffect)(()=>{if(!e||!s)return;const m=c??0,p=a??0;if(r.current!==e.currencyId&&e.currency.symbol&&e.currency.chainId&&(m!==i||p!==d)){var u,g,x,h;const f=e.currency.isToken?e.currency.address:te(e.currency.chainId);pe(Fo.BlockaidFeesMismatch,{symbol:e.currency.symbol,address:f,chainId:e.currency.chainId,buyFeePercent:c,sellFeePercent:a,blockaidBuyFeePercent:(u=e.safetyInfo)===null||u===void 0||(u=u.blockaidFees)===null||u===void 0?void 0:u.buyFeePercent,blockaidSellFeePercent:(g=e.safetyInfo)===null||g===void 0||(g=g.blockaidFees)===null||g===void 0?void 0:g.sellFeePercent,attackType:(x=e.safetyInfo)===null||x===void 0?void 0:x.attackType,protectionResult:(h=e.safetyInfo)===null||h===void 0?void 0:h.protectionResult}),r.current=e.currencyId}},[c,a,i,d,e,s])}const Cs="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row  _position-_sm_absolute _top-_sm_-16px",_s="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center ",Ts="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",kn=50,uo=10;function po({currencyInfo0:e,currencyInfo1:n,isInfoOnlyWarning:o,onRejectButton:s,onAcknowledgeButton:r,shouldBeCombinedPlural:c,hasSecondWarning:a,feeOnTransferOverride:i,onDismissTokenWarning0:d,onDismissTokenWarning1:m}){var p;const{t:u}=z();ks(e);const g=i!=null&&i.buyFeePercent||i!=null&&i.sellFeePercent?Gt(Math.max(i.buyFeePercent??0,i.sellFeePercent??0)):Zt(e),x=$t(g),h=e.currency.symbol,f=Jt(g),{buyFeePercent:k,sellFeePercent:T}=qt(e.currency),{buyFeePercent:S,sellFeePercent:I}=Do(e),y=(p=e.safetyInfo)===null||p===void 0?void 0:p.blockaidFees,v=f&&y&&(y.buyFeePercent&&((i==null?void 0:i.buyFeePercent)??k)===void 0||y.sellFeePercent&&((i==null?void 0:i.sellFeePercent)??T)===void 0),_=(i==null?void 0:i.buyFeePercent)??S,P=(i==null?void 0:i.sellFeePercent)??I,w=!f&&x!==U.Low&&x!==U.Blocked||v,E=Xt({tokenSymbol0:h,tokenSymbol1:n==null?void 0:n.currency.symbol,tokenProtectionWarning:g,shouldHavePluralTreatment:c}),L=Qt({tokenProtectionWarning:g,tokenSymbol:h,buyFeePercent:_,sellFeePercent:P,shouldHavePluralTreatment:c}),{headerText:W}=hr(x),[R,D]=(0,l.useState)(!1),A=!o&&x===U.Low,M=()=>{A&&R&&(d(),m==null||m()),r()};if(x===U.None)return null;const{rejectText:F,acknowledgeText:V}=bs({t:u,isInfoOnlyWarning:!!o,severity:x,hasSecondWarning:!!a}),H={tokenSymbol:h,tokenAddress:ge(e.currencyId),chainId:e.currency.chainId,tokenSymbol1:n==null?void 0:n.currency.symbol,tokenAddress1:n&&ge(n.currencyId),warningSeverity:U[x],tokenProtectionWarning:he[g],buyFeePercent:_,sellFeePercent:P,safetyInfo:e.safetyInfo,...A&&{dismissTokenWarningCheckbox:R}};return(0,t.jsx)(bn,{logImpression:!0,modal:ue.TokenWarningModal,properties:H,children:(0,t.jsx)("div",{className:Ts,children:(0,t.jsxs)(Mr,{modalName:ue.TokenWarningModal,captionComponent:(0,t.jsxs)(B,{color:"$neutral2",textAlign:"center",variant:"body3",children:[`${L} `,(0,t.jsx)(Hr,{display:"inline",textColor:"$neutral1",textVariant:"buttonLabel3",url:dr.helpArticleUrls.tokenWarning})]}),rejectText:F,acknowledgeText:V,icon:(0,t.jsx)(Mn,{heroIcon:!0,inModal:!0,severity:x,size:"$icon.24"}),backgroundIconColor:!1,severity:x,titleComponent:(0,t.jsx)(B,{color:W,variant:"subheading1",children:E}),onReject:s,onClose:s,onAcknowledge:M,children:[g!==he.NonDefault&&(0,t.jsx)(ys,{currencyInfo:e,tokenProtectionWarning:g}),w&&(0,t.jsx)("div",{className:_s,children:(0,t.jsx)(B,{variant:"body3",color:"$neutral3",children:(0,t.jsx)(en,{i18nKey:"common.poweredBy",components:{name:(0,t.jsx)(fs,{minHeight:uo,minWidth:kn,...an?{size:{width:kn}}:{width:kn,height:uo},color:"$neutral3"})}})})}),A&&(0,t.jsx)(Tr,{checked:R,checkedColor:"$neutral1",text:(0,t.jsx)(B,{color:"$neutral2",variant:"buttonLabel3",children:u("token.safety.warning.dontShowWarningAgain")}),size:"$icon.16",gap:"$spacing8",onCheckPressed:()=>D($=>!$)})]})})})}function Ss({t0:e,t1:n,isInfoOnlyWarning:o}){const s=ge(e.currencyId),r=n&&ge(n.currencyId),{tokenWarningDismissed:c,onDismissTokenWarning:a}=In(e.currency.isNative?void 0:{chainId:e.currency.chainId,address:s}),{tokenWarningDismissed:i,onDismissTokenWarning:d}=In(!n||!r||n.currency.isNative?void 0:{chainId:n.currency.chainId,address:r});let m=e,p=n;if(!o){if(c&&i)return null;if(c){if(!n)return null;m=n}else i&&(m=e,p=void 0)}return{currencyInfo0:m,onDismissTokenWarning0:a,currencyInfo1:p,onDismissTokenWarning1:d}}function tt({isVisible:e,currencyInfo0:n,currencyInfo1:o,isInfoOnlyWarning:s,feeOnTransferOverride:r,onReject:c,onToken0BlockAcknowledged:a,onToken1BlockAcknowledged:i,onAcknowledge:d,closeModalOnly:m}){const p=So(),[u,g]=(0,l.useState)(0),x=Ss({t0:n,t1:o,isInfoOnlyWarning:s});if(!x)return null;const{currencyInfo0:h,currencyInfo1:f,onDismissTokenWarning0:k,onDismissTokenWarning1:T}=x,S=Yt(h,f),I=de(h)===U.Blocked,y=de(f)===U.Blocked,v=!S&&de(f)!==U.None;return(0,t.jsxs)(Xo,{backgroundColor:p.surface1.val,isModalOpen:e,name:ue.TokenWarningModal,skipLogImpression:!0,onClose:c??m,children:[v&&(0,t.jsxs)("div",{className:Cs,children:[(0,t.jsx)(B,{variant:"body2",children:u+1}),(0,t.jsx)(B,{color:"$neutral2",variant:"body2",children:" / 2"})]}),(0,t.jsxs)(Ko,{currentIndex:u,animationType:u===0?"forward":"backward",children:[(0,t.jsx)(po,{currencyInfo0:h,currencyInfo1:S?f:void 0,isInfoOnlyWarning:!v&&s,hasSecondWarning:v,shouldBeCombinedPlural:S,feeOnTransferOverride:r,onRejectButton:c??m,onAcknowledgeButton:()=>{v?g(1):I?(S&&y&&(i==null||i()),a==null||a(),m()):s?m():d()},onDismissTokenWarning0:k,onDismissTokenWarning1:T}),v&&f&&(0,t.jsx)(po,{hasSecondWarning:!0,currencyInfo0:f,onDismissTokenWarning0:T,onRejectButton:()=>{g(0)},onAcknowledgeButton:()=>{I||y?(I&&(a==null||a()),y&&(i==null||i()),m()):d()}})]})]})}function bs({t:e,isInfoOnlyWarning:n,severity:o,hasSecondWarning:s}){return n?{rejectText:e("common.button.close"),acknowledgeText:void 0}:o===U.Blocked&&!s?{rejectText:void 0,acknowledgeText:e("common.button.close")}:{rejectText:e("common.button.goBack"),acknowledgeText:e("common.button.continue")}}let jn=(function(e){return e[e.Swap=0]="Swap",e[e.Send=1]="Send",e})({}),b=(function(e){return e.SearchResults="searchResults",e.RecentSearches="recentSearches",e.YourTokens="yourTokens",e.TrendingTokens="trendingTokens",e.FavoriteTokens="favoriteTokens",e.SuggestedTokens="suggestedTokens",e.BridgingTokens="bridgingTokens",e.OtherChainsTokens="otherNetworksTokens",e.Tokens="tokens",e.Pools="pools",e.TrendingPools="trendingPools",e.Wallets="wallets",e.FavoriteWallets="favoriteWallets",e.NFTCollections="nftCollections",e.PopularNFTCollections="popularNFTCollections",e})({});function rt(e){var n;const o=e.address===Ro,s=Qe(e.chainId);if(!s)return;const r=An({chainId:s,address:o?te(s):e.address,decimals:e.decimals,symbol:e.symbol,name:e.name});if(!r)return;const c=ws(e.project.safetyLevel);return{currency:r,currencyId:ln(r),logoUrl:(n=e.project.logo)===null||n===void 0?void 0:n.url,isSpam:e.project.isSpam,safetyInfo:Dn(c??void 0)}}function Is(e){const n=rt(e);if(n)return{type:ee.Token,currencyInfo:n,balanceUSD:null,quantity:null}}function ws(e){switch(e){case Je.BLOCKED:return Ge.Blocked;case Je.MEDIUM_WARNING:return Ge.MediumWarning;case Je.STRONG_WARNING:return Ge.StrongWarning;case Je.VERIFIED:return Ge.Verified;default:return null}}function js({searchResults:e,bridgingTokens:n,sectionHeaderString:o}){if(!e||!n||n.length===0)return e;const s=[],r=e.map(i=>{const d=[];return i.data.forEach(m=>{n.some(u=>At(m.currencyInfo.currencyId,u.currencyInfo.currencyId))?s.push(m):d.push(m)}),{...i,data:d}}),c={sectionKey:b.BridgingTokens,data:s},a=r.find(i=>i.sectionKey===b.SearchResults);return c.data.length>0&&a&&o&&(a.name=o),[c,...r].filter(i=>i.data.length>0)}function Ps(e){return Array.isArray(e)&&e.every(n=>n.type===ee.Token)}function Bs({loading:e,portfolioSection:n,trendingSection:o,isTestnetModeEnabled:s}){return e&&(s?!n:!n||!o)}function mo(e){switch(e){case jn.Swap:return ue.Swap;case jn.Send:return ue.Send;default:return}}function ho({address:e,currencies:n,fetchPolicy:o="cache-and-network"}){const{data:s}=rr({address:e,fetchPolicy:o});return(0,l.useMemo)(()=>!n||!n.length||!s?null:n.map(r=>s[r]??null).filter(r=>!!r),[s,n])}function Fs({address:e,currencyId:n,crossChainTokens:o,fetchPolicy:s="cache-and-network"}){var r;const c=((r=ho({address:e,currencies:[n],fetchPolicy:s}))===null||r===void 0?void 0:r[0])??null,a=Rn(n),i=(0,l.useMemo)(()=>o==null?void 0:o.map(({chain:m,address:p})=>{const u=Po(m);return!u||u===a?null:p?fe(u,p):En(u)}).filter(m=>!!m),[o,a]),d=ho({address:e,currencies:i});return{currentChainBalance:c,otherChainBalances:d}}function ll({address:e,currencyAddress:n,currencyChainId:o}){var s;const r=fe(o,n),c=n?Lo(n,o):void 0,a=Ao(o),{data:i,loading:d}=Lt({variables:{contracts:[cr(r)]}}),m=i==null||(s=i.tokenProjects)===null||s===void 0||(s=s[0])===null||s===void 0?void 0:s.tokens,{otherChainBalances:p}=Fs({address:e,currencyId:r,crossChainTokens:m,fetchPolicy:"cache-first"}),{data:u,isLoading:g}=Zo({params:p&&p.length>0&&c&&a?{tokenIn:c,tokenInChainId:a}:void 0}),x=d||g;return(0,l.useMemo)(()=>!p||!(u!=null&&u.tokens)?{data:void 0,isLoading:x}:{data:u.tokens.reduce((f,k)=>{const T=p.find(S=>S.currencyInfo.currency.chainId===k.chainId);if(!(T!=null&&T.balanceUSD))return f;if(!f||!f.balance.balanceUSD||T.balanceUSD>f.balance.balanceUSD){const S=rt(k);return S?{token:k,balance:T,currencyInfo:S}:(jt.error(new Error("Failed to convert swappable token to currency info"),{tags:{file:"bridging/hooks/tokens.ts",function:"useBridgingTokenWithHighestBalance"},extra:{token:k}}),f)}return f},void 0),isLoading:x},[p,u,x])}function st({oppositeSelectedToken:e,walletAddress:n,chainFilter:o}){const s=e!=null&&e.address?Lo(e.address,e.chainId):void 0,r=Ao(e==null?void 0:e.chainId),{data:c,isLoading:a,error:i,refetch:d}=Zo({params:s&&r?{tokenIn:s,tokenInChainId:r}:void 0}),{data:m,error:p,refetch:u,loading:g}=We(n),x=Es(c==null?void 0:c.tokens,m),h=(e==null?void 0:e.chainId)===o,f=o!==null&&!h,k=(0,l.useMemo)(()=>Wn({tokenOptions:x??null,chainFilter:f?o:null}),[x,f,o]),T=!m&&p||!x&&i,S=(0,l.useCallback)(async()=>{u==null||u(),await d()},[u,d]);return{data:k,loading:a||g,error:T||void 0,refetch:S,shouldNest:!f}}function Es(e,n){const{chains:o}=re();return(0,l.useMemo)(()=>e?[...e].sort((r,c)=>{const a=Qe(r.chainId),i=Qe(c.chainId);return!a||!i?0:o.indexOf(a)-o.indexOf(i)}).map(r=>{const c=Qe(r.chainId),a=r.address&&r.chainId;if(!c||!a)return;const d=r.address===Ro?En(c):fe(c,r.address);return{...(n==null?void 0:n[d.toLowerCase()])??Is(r),type:ee.Token}}).filter(r=>r!==void 0):void 0,[e,n,o])}const Rs=async()=>!1,Ls="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _backgroundColor-surface2 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 _pr-t-space-spa1360334076 _pl-t-space-spa1360334076 _pt-t-space-spa1360334080 _pb-t-space-spa1360334080 _gap-t-space-gap52 _backgroundColor-0hover-surface1Hov3121676 ";function As({onSelectCurrency:e,token:n,index:o,section:s}){const{currency:r,logoUrl:c}=n.currencyInfo,a=()=>{e(n.currencyInfo,s,o)},i=Ln(r.symbol);return(0,t.jsx)(ne,{hoverable:!0,borderRadius:"$roundedFull",testID:`token-option-${r.chainId}-${r.symbol}`,onPress:a,children:(0,t.jsxs)("div",{className:Ls,children:[(0,t.jsx)(On,{chainId:r.chainId,name:r.name,size:me.icon24,symbol:r.symbol,url:c}),(0,t.jsx)(B,{color:"$neutral1",variant:"buttonLabel3",children:i})]})})}const Ds=(0,l.memo)(As),Ns="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _flexGrow-1 _justifyContent-center _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 _backgroundColor-surface2 ",Cn=5,Os=(0,l.memo)(function({tokens:n,onSelectCurrency:o,index:s,section:r,expanded:c,onExpand:a}){const i=(0,l.useRef)(null),[d,m]=(0,l.useState)(void 0),p=n.length>Cn,u=p?c?n:n.slice(0,Cn-1):n,g=p?n.length-Cn+1:0;return(0,l.useEffect)(()=>{i.current&&m(i.current.scrollHeight)},[u]),(0,t.jsxs)(O,{ref:i,row:!0,gap:"$spacing4",flexWrap:"wrap",py:"$spacing8",mx:"$spacing20",animation:c?"300ms":void 0,height:d,children:[u.map(x=>(0,t.jsx)(O,{style:fo.fiveTokenRowCard,children:(0,t.jsx)(Ds,{index:s,section:r,token:x,onSelectCurrency:o},x.currencyInfo.currencyId)},x.currencyInfo.currencyId)),!c&&g>0&&(0,t.jsx)(ne,{style:fo.fiveTokenRowCard,onPress:()=>a==null?void 0:a(n),children:(0,t.jsx)("div",{className:Ns,children:(0,t.jsxs)(B,{variant:"buttonLabel3",color:"$neutral2",children:[g,"+"]})})})]},`horizontal-token-list-${u.length}-${s}-${r}`)}),fo={fiveTokenRowCard:{width:"calc(20% - 4px)"}},it=40,Ws=4,Ms=8;let Hn=(function(e){return e.UP="keyup",e.DOWN="keydown",e})({});const at=({callback:e,keys:n,keyAction:o,disabled:s,preventDefault:r,shouldTriggerInInput:c=!1})=>{(0,l.useEffect)(()=>{if(!n||!n.length||s)return;const a=d=>{const m=n.some(g=>d.key===g),p=d.target instanceof HTMLElement&&!["input","textarea"].includes(d.target.tagName.toLowerCase());m&&(p||c)&&(r&&d.preventDefault(),e(d))},i=o||Hn.DOWN;return document.addEventListener(i,a),()=>{document.removeEventListener(i,a)}},[e,n,o,s,r,c])};var ct=sn(Tt()),Hs=sn(nr());const Us="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _position-relative ",zs="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _maxHeight-100dvh ",Vs=64;function se(e){return!("renderItem"in e)}function Ks(e){return!se(e)&&(0,ct.default)(e.item)}function qs({ListEmptyComponent:e,keyExtractor:n,renderItem:o,renderSectionHeader:s,sections:r,sectionListRef:c,expandedItems:a,focusedRowControl:i}){const d=(0,l.useRef)(null),m=(0,l.useRef)(null),p=(0,l.useRef)({}),[u,g]=(0,l.useState)(-1),{width:x}=Xr();(0,l.useEffect)(()=>{c&&(c.current={scrollToLocation:({itemIndex:y,sectionIndex:v})=>{var _;let P=0;for(let w=0;w<v;w++){const E=r[w];P+=(E==null?void 0:E.data.length)??0}P+=y,(_=d.current)===null||_===void 0||_.scrollToItem(P)}})},[c,r]);const h=(0,l.useMemo)(()=>{let y=0;return r.reduce((v,_)=>{if(_.sectionKey!==b.SuggestedTokens){const w={section:{sectionKey:_.sectionKey,rightElement:_.rightElement,endElement:_.endElement},key:_.sectionKey,renderSectionHeader:s};y+=1,v.push(w)}return v.concat(_.data.map((w,E)=>{const L={item:w,rowIndex:y,section:_,index:E,key:n==null?void 0:n(w,E),renderItem:o,expanded:(a==null?void 0:a.includes((n==null?void 0:n(w,E))??""))??!1};return y+=1,L}))},[])},[r,s,n,o,a]),f=(0,l.useMemo)(()=>h.slice(0,u+1).reduceRight((y,v,_)=>y===-1&&se(v)?_:y,-1),[u,h]),k=(0,l.useCallback)((y,v)=>{if(p.current[y]!==v){var _;p.current[y]=v,(_=d.current)===null||_===void 0||_.resetAfterIndex(y)}},[]),T=(0,l.useCallback)(y=>{const v=h[y];if(!v)return 0;if(Ks(v)){if(!se(v)&&(0,ct.default)(v.item)&&!v.item.length)return 0;const _=p.current[y];if(_)return _}return se(v)?it:Vs},[h]),S=(0,l.useCallback)(({data:y,index:v,style:_})=>f===v?null:(0,t.jsx)(go,{data:y,index:v,style:_,updateRowHeight:k,windowWidth:x}),[k,x,f]),I=(0,l.useCallback)(y=>{if(!i)return;const{focusedRowIndex:v,setFocusedRowIndex:_}=i;m.current&&(m.current.tabIndex=0),y.preventDefault();const P=h.length&&h[0]&&se(h[0])?1:0;if(v===void 0){_(P);return}if(y.key==="ArrowDown"){const w=Math.min(h.length-1,v+1),E=h[w];E&&se(E)?_(Math.min(h.length-1,v+2)):_(w)}if(y.key==="ArrowUp"){const w=Math.max(P,v-1),E=h[w];E&&se(E)?_(Math.max(P,v-2)):_(w)}},[i,h]);return at({callback:I,keys:["ArrowDown","ArrowUp"],disabled:!r.length||!i,keyAction:Hn.UP,preventDefault:!0,shouldTriggerInInput:!0}),(0,l.useEffect)(()=>{const y=d.current,{focusedRowIndex:v}=i??{};!y||v===void 0||y.scrollToItem(v)},[i]),(0,t.jsxs)("div",{className:zs,children:[!r.length&&e,(0,t.jsx)(Ur,{disableWidth:!0,children:({height:y})=>r.length?(0,t.jsxs)("div",{className:Us,children:[(0,t.jsx)(O,{position:"absolute",top:0,width:"100%",zIndex:bo.sticky,children:f>=0&&(0,t.jsx)(go,{data:h,index:f,windowWidth:x})}),(0,t.jsx)(wr,{ref:d,outerRef:m,height:y,itemCount:h.length,itemData:h,itemSize:T,width:"100%",onItemsRendered:({visibleStartIndex:v})=>{g(v)},children:S})]}):(0,t.jsx)(l.Fragment,{})})]})}function go({index:e,data:n,style:o,windowWidth:s,updateRowHeight:r}){const c=n[e];return(0,t.jsx)(t.Fragment,{children:c&&(0,t.jsx)(Js,{index:e,itemData:c,style:o,updateRowHeight:r,windowWidth:s})})}function Gs({index:e,itemData:n,style:o,updateRowHeight:s}){const r=(0,l.useRef)(null),c=(0,l.useCallback)(i=>{const d=i.nativeEvent.layout.height;d&&s&&s(e,d)},[s,e]),a=(0,l.useMemo)(()=>{var i;return se(n)?((i=n.renderSectionHeader)===null||i===void 0?void 0:i.call(n,n))??null:n.renderItem(n)},[n]);return(0,t.jsx)(O,{grow:!0,alignItems:"center",justifyContent:"center",style:o,children:(0,t.jsx)(O,{ref:r,width:"100%",onLayout:c,children:a})},n.key??e)}const Js=l.memo(Gs,Hs.default),$s="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 _flexGrow-1 ",Un=(0,l.memo)(function({sectionKey:n,rightElement:o,endElement:s,name:r}){const c=Ys(n),a=Zs(n);return n===b.SuggestedTokens?null:(0,t.jsxs)(O,{row:!0,backgroundColor:"$surface1",width:"100%",justifyContent:"space-between",pb:"$spacing4",pt:"$spacing12",px:"$spacing20",alignItems:Io?"flex-end":"center",testID:`${Yo.SectionHeaderPrefix}${n}`,children:[(0,t.jsxs)("div",{className:$s,children:[a,(0,t.jsx)(_r,{text:r??c,textProps:{color:"$neutral2",variant:"subheading2"},wrapperProps:{flex:1},element:o})]}),s]})});function Ys(e){const{t:n}=z();switch(e){case b.BridgingTokens:return n("tokens.selector.section.bridging");case b.YourTokens:return n("tokens.selector.section.yours");case b.OtherChainsTokens:return n("tokens.selector.section.otherNetworksSearchResults");case b.TrendingTokens:return n("tokens.selector.section.trending");case b.RecentSearches:return n("tokens.selector.section.recent");case b.FavoriteTokens:return n("tokens.selector.section.favorite");case b.SearchResults:return n("tokens.selector.section.search");case b.Tokens:return n("common.tokens");case b.Pools:return n("common.pools");case b.TrendingPools:return n("pool.top.volume");case b.Wallets:return n("explore.search.section.wallets");case b.NFTCollections:return n("explore.search.section.nft");case b.PopularNFTCollections:return n("explore.search.section.popularNFT");case b.FavoriteWallets:return n("explore.wallets.favorite.title.default");case b.SuggestedTokens:return"";default:return e}}function Zs(e){switch(e){case b.BridgingTokens:return(0,t.jsx)(Er,{color:"$neutral2",size:"$icon.16"});case b.Tokens:case b.YourTokens:case b.OtherChainsTokens:return(0,t.jsx)(ao,{color:"$neutral2",size:"$icon.16"});case b.TrendingPools:case b.TrendingTokens:case b.PopularNFTCollections:return(0,t.jsx)(ss,{color:"$neutral2",size:"$icon.16"});case b.RecentSearches:return(0,t.jsx)(es,{color:"$neutral2",size:"$icon.16"});case b.SearchResults:return(0,t.jsx)(nt,{color:"$neutral2",size:"$icon.16"});case b.FavoriteTokens:return(0,t.jsx)(ao,{color:"$neutral2",size:"$icon.16"});case b.Pools:return(0,t.jsx)(Pr,{color:"$neutral2",size:"$icon.16"});case b.Wallets:return(0,t.jsx)(jr,{color:"$neutral2",size:"$icon.16"});case b.FavoriteWallets:return(0,t.jsx)(et,{color:"$neutral2",size:"$icon.16"});case b.NFTCollections:return(0,t.jsx)(os,{color:"$neutral2",size:"$icon.16"});default:return null}}const Xs="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _pr-t-space-spa1360334051 _pl-t-space-spa1360334051 ",Qs="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",ei="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _justifyContent-center ",ni="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ";function oi(){const{t:e}=z();return(0,t.jsx)("div",{className:ni,children:(0,t.jsx)(B,{color:"$neutral3",mt:"$spacing16",textAlign:"center",variant:"subheading2",children:e("common.noResults")})})}function ti({renderItem:e,sections:n,chainFilter:o,refetch:s,loading:r,hasError:c,emptyElement:a,errorText:i,keyExtractor:d,expandedItems:m,focusedRowControl:p}){const{t:u}=z(),g=(0,l.useRef)();(0,l.useEffect)(()=>{var h;n!=null&&n.length&&((h=g.current)===null||h===void 0||h.scrollToLocation({itemIndex:0,sectionIndex:0,animated:!0}))},[o,n==null?void 0:n.length]);const x=(0,l.useCallback)(({section:h})=>(0,t.jsx)(Un,{rightElement:h.rightElement,endElement:h.endElement,sectionKey:h.sectionKey,name:h.name}),[]);return c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:ei,children:(0,t.jsx)(qo.ErrorState,{retryButtonLabel:u("common.button.retry"),title:i??u("tokens.selector.error.load"),onRetry:s})}),(0,t.jsx)("div",{className:Qs})]}):(0,t.jsxs)(Ko,{animationType:"fade",currentIndex:(!n||!n.length)&&r?0:1,children:[(0,t.jsxs)("div",{className:Xs,children:[(0,t.jsx)(O,{height:it,justifyContent:"center",py:"$spacing12",width:80,children:(0,t.jsx)(no.Box,{height:Vo.subheading2.lineHeight})}),(0,t.jsx)(no.Token,{gap:"$none",repeat:15})]}),(0,t.jsx)(qs,{ListEmptyComponent:a||(0,t.jsx)(oi,{}),keyExtractor:d,renderItem:e,renderSectionHeader:x,sectionListRef:g,sections:n??[],expandedItems:m,focusedRowControl:p})]})}const ri=(0,l.memo)(ti),si=(e=300)=>{const[n,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const s=()=>{if(!window.visualViewport)return;const r=window.screen.height-e>window.visualViewport.height;o(r)};return window.visualViewport&&window.visualViewport.addEventListener("resize",s),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",s)}},[e]),n};var ii=si;const ai="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _alignItems-flex-end _justifyContent-center ",ci="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 ",li="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column ",di="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _alignItems-center _gap-t-space-spa1360334080 ";function ui({image:e,title:n,subtitle:o,rightElement:s,badge:r,titleProps:c,onPress:a,onLongPress:i,disabled:d,testID:m,modalInfo:p,focusedRowControl:u}){const g=ii(),{modal:x,modalShouldShow:h,modalSetIsOpen:f}=p??{},k=(0,l.useCallback)(()=>{const P=()=>{Le(),f==null||f(!0)};if(h&&x){if(g&&le){const w=document.activeElement;w==null||w.blur(),setTimeout(P,700)}else P();return}a()},[h,x,g,f,a]),{focusedRowIndex:T,rowIndex:S,setFocusedRowIndex:I}=u??{},y=q&&u&&I,v=T!==void 0&&T===S;at({keys:["Enter"],keyAction:Hn.UP,disabled:!y,callback:v?k:zo,shouldTriggerInInput:!0});const _=y?{backgroundColor:v?"$surface1Hovered":void 0,onMouseEnter:()=>{I(S)},onMouseLeave:()=>{I(void 0)}}:{hoverStyle:{backgroundColor:"$surface1Hovered"}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ne,{animation:"300ms",opacity:d?.5:1,width:"100%",px:"$spacing12",onPress:k,onLongPress:i,children:(0,t.jsxs)(O,{row:!0,alignItems:"center",gap:"$spacing8",justifyContent:"space-between",p:"$spacing8",style:{pointerEvents:"auto"},borderRadius:"$rounded16",..._,testID:m,children:[(0,t.jsxs)("div",{className:di,children:[e,(0,t.jsxs)("div",{className:li,children:[(0,t.jsxs)("div",{className:ci,children:[typeof n=="string"?(0,t.jsx)(B,{color:"$neutral1",variant:"body1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",numberOfLines:1,...c,children:n}):n,r]}),o]})]}),s&&(0,t.jsx)("div",{className:ai,children:s})]})}),x]})}const pi=(0,l.memo)(ui),mi=e=>e.favorites.tokens,zn=Oe(mi,Rt),dl=Oe(zn,e=>e.length>0),hi=()=>Oe(zn,(e,n)=>n,(e,n)=>e.includes(n.toLowerCase())),lt=e=>e.favorites.watchedAddresses,ul=Oe(lt,e=>new Set(e)),pl=Oe(lt,e=>e.length>0);function fi(e){const n=(0,l.useMemo)(hi,[]);return cn(o=>n(o,e.toLowerCase()))}function gi({id:e,tokenName:n,isFavoriteToken:o}){const s=Ne();return(0,l.useCallback)(()=>{o?s(Ot({currencyId:e.toLowerCase()})):(pe(Jr.FavoriteItem,{address:ge(e.toLowerCase()),chain:Rn(e),type:"token",name:n}),s(Dt({currencyId:e.toLowerCase()})))},[s,e,o,n])}const Ce=400;let N=(function(e){return e.CopyAddress="copyAddress",e.Favorite="favorite",e.Swap="swap",e.Send="send",e.Receive="receive",e.Share="share",e.ViewDetails="viewDetails",e.HideToken="hideToken",e})({});function xi({children:e,currency:n,isOpen:o,openMenu:s,closeMenu:r,triggerMode:c=qr.Secondary,actions:a}){const{t:i}=z(),d=fr().evmAccount,{navigateToTokenDetails:m,navigateToSwapFlow:p,navigateToSendFlow:u,navigateToReceive:g,handleShareToken:x}=wo(),h=Ne(),{isTestnetModeEnabled:f}=re(),[k,T]=(0,l.useState)(!1),[S,I]=(0,l.useState)(!1),y=Uo(),v=ln(n),_=(0,l.useCallback)(()=>{f||(r(),m(v),pe(Yn.ELEMENT_CLICKED,{element:on.TokenItem,...y}))},[f,r,m,v,y]),P=(0,l.useCallback)(async()=>{await to(Sn(n)),q||h(Ar({type:zr.Copied,copyType:Vr.Address})),T(!0),setTimeout(()=>{T(!1),r()},Ce)},[h,n,r]),w=fi(v),E=gi({id:v,tokenName:n.name,isFavoriteToken:w}),L=(0,l.useCallback)(()=>{E(),r()},[r,E]),W=(0,l.useCallback)(()=>{r(),p({outputCurrencyId:v}),pe(Yn.ELEMENT_CLICKED,{element:on.Swap,...y})},[r,p,v,y]),R=(0,l.useCallback)(()=>{r(),u({chainId:n.chainId,currencyAddress:Sn(n)})},[r,n,u]),D=(0,l.useCallback)(()=>{r(),g()},[r,g]),A=(0,l.useCallback)(async()=>{if(q){const F=lr+Mt({address:ge(v),chain:Rn(v)??void 0});await to(F),I(!0),setTimeout(()=>{I(!1),r()},Ce)}else x({currencyId:v}),r()},[r,x,v]),M=(0,l.useMemo)(()=>{const F=[];return a.includes(N.CopyAddress)&&(q?F.push({onPress:P,disabled:n.isNative,label:i(k?"notification.copied.address":"common.copy.address"),Icon:k?Gn:oo,closeDelay:Ce,iconColor:k?"$statusSuccess":"$neutral2"}):F.push({onPress:P,disabled:n.isNative,label:i("common.copy.address"),Icon:oo,iconColor:"$neutral2"})),a.includes(N.Favorite)&&F.push({onPress:L,label:i(w?"explore.wallets.favorite.action.remove.short":"explore.tokens.favorite.action.add"),Icon:et,closeDelay:Ce,iconColor:w?"$accent1":"$neutral2"}),a.includes(N.Swap)&&F.push({onPress:W,label:i("common.button.swap"),Icon:Ir,iconColor:"$neutral2"}),a.includes(N.Send)&&F.push({onPress:R,label:i("common.button.send"),Icon:Fr,iconColor:"$neutral2"}),d&&a.includes(N.Receive)&&F.push({onPress:D,label:i("common.button.receive"),Icon:Br,iconColor:"$neutral2"}),a.includes(N.Share)&&F.push({onPress:A,label:i(S?"notification.copied.linkUrl":"common.button.share"),Icon:S?Gn:ts,closeDelay:Ce,iconColor:S?"$statusSuccess":"$neutral2"}),a.includes(N.ViewDetails)&&F.push({onPress:_,label:i("token.details"),Icon:Go,iconColor:"$neutral2"}),F},[a,d,P,n.isNative,k,i,L,w,W,R,D,A,S,_]);return(0,t.jsx)(Kr,{menuItems:M,triggerMode:c,isOpen:o,closeMenu:r,openMenu:s,offsetY:4,children:e})}const dt=l.memo(xi),vi={impact:async()=>Promise.resolve(),light:async()=>Promise.resolve(),success:async()=>Promise.resolve()};function ut(){return{hapticFeedback:vi,hapticsEnabled:!1,setHapticsEnabled:zo}}const yi="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _alignItems-flex-end ",ki="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _alignItems-flex-end _justifyContent-center ",pt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",Pn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665593 ",Bn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column ",Ci="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _alignItems-center _gap-t-space-spa1360334080 ";let rn=(function(e){return e.Search="search",e.TokenSelector="tokenSelector",e})({});const mt={[rn.Search]:[N.CopyAddress,...q?[]:[N.Favorite],N.Swap,N.Send,N.Receive,N.Share],[rn.TokenSelector]:[N.CopyAddress,...q?[]:[N.Favorite],N.ViewDetails]},xo=(0,l.memo)(function({option:n,showTokenAddress:o,balance:s,quantity:r,quantityFormatted:c,isSelected:a}){const{currencyInfo:i}=n,{currency:d}=i,m=de(i),{colorSecondary:p}=Jo(m);return(0,t.jsxs)(O,{row:!0,alignItems:"center",gap:"$spacing8",justifyContent:"space-between",px:"$spacing16",py:"$spacing12",style:{pointerEvents:"auto"},testID:`token-option-${d.chainId}-${d.symbol}`,children:[(0,t.jsxs)("div",{className:Ci,children:[(0,t.jsx)(On,{chainId:d.chainId,name:d.name,symbol:d.symbol,url:i.logoUrl??void 0}),(0,t.jsxs)("div",{className:Bn,children:[(0,t.jsxs)("div",{className:Pn,children:[(0,t.jsx)(B,{color:"$neutral1",numberOfLines:1,variant:"body1",children:d.name}),p&&(0,t.jsx)("div",{className:pt,children:(0,t.jsx)(Mn,{severity:m,size:"$icon.16",strokeColorOverride:p})})]}),(0,t.jsxs)("div",{className:Pn,children:[(0,t.jsx)(B,{color:"$neutral2",numberOfLines:1,variant:"body3",children:Ln(d.symbol)}),!d.isNative&&o&&(0,t.jsx)("div",{className:Bn,children:(0,t.jsx)(B,{color:"$neutral3",numberOfLines:1,variant:"body3",children:Eo(d.address)})})]})]})]}),a&&(0,t.jsx)("div",{className:ki,children:(0,t.jsx)(Ct,{color:"$accent1",size:"$icon.20"})}),!a&&r&&r!==0?(0,t.jsxs)("div",{className:yi,children:[(0,t.jsx)(B,{variant:"body1",children:s}),c&&(0,t.jsx)(B,{color:"$neutral2",variant:"body3",children:c})]}):null]})});function _i(e){const{option:n,showWarnings:o,onPress:s,tokenWarningDismissed:r,isKeyboardOpen:c}=e,{currencyInfo:a,isUnsupported:i}=n,{currency:d}=a,[m,p]=(0,l.useState)(!1),u=de(a),x=u===U.Blocked||u!==U.None&&!r,h=(0,l.useCallback)(()=>{Le(),p(!0)},[p]),{value:f,setFalse:k,setTrue:T}=Qo(!1),{hapticFeedback:S}=ut(),I=(0,l.useCallback)(()=>{if(o&&x){if(c&&le){const v=document.activeElement;v==null||v.blur(),setTimeout(h,700)}else h();return}s()},[o,x,s,c,h]),y=(0,l.useCallback)(()=>{p(!1),s()},[s]);return(0,t.jsxs)(dt,{actions:mt[rn.TokenSelector],currency:d,isOpen:f,closeMenu:k,children:[(0,t.jsx)(ne,{animation:"300ms",width:"100%",opacity:o&&u===U.Blocked||i?.5:1,hoverStyle:{backgroundColor:"$surface1Hovered"},onPress:I,onLongPress:async()=>{await S.success(),T()},children:q?(0,t.jsx)("div",{onContextMenu:T,children:(0,t.jsx)(xo,{...e})}):(0,t.jsx)(xo,{...e})}),(0,t.jsx)(tt,{currencyInfo0:a,isVisible:m,closeModalOnly:()=>p(!1),onAcknowledge:y})]})}function Ti(e){return"balance"in e}const vo=(0,l.memo)(function(n){const{option:o,onPress:s,showTokenAddress:r,rightElement:c,showDisabled:a,modalInfo:i,focusedRowControl:d,openContextMenu:m}=n,{currencyInfo:p}=o,{currency:u}=p,g=de(p),{colorSecondary:x}=Jo(g);return(0,t.jsx)(pi,{image:(0,t.jsx)(On,{chainId:u.chainId,name:u.name,symbol:u.symbol,url:p.logoUrl??void 0}),title:u.name??u.symbol??"",subtitle:(0,t.jsxs)("div",{className:Pn,children:[(0,t.jsx)(B,{color:"$neutral2",numberOfLines:1,variant:"body3",children:Ln(u.symbol)}),!u.isNative&&r&&(0,t.jsx)("div",{className:Bn,children:(0,t.jsx)(B,{color:"$neutral3",numberOfLines:1,variant:"body3",children:Eo(u.address)})})]}),badge:x?(0,t.jsx)("div",{className:pt,children:(0,t.jsx)(Mn,{severity:g,size:"$icon.16",strokeColorOverride:x})}):void 0,rightElement:c,disabled:a,testID:`token-option-${u.chainId}-${u.symbol}`,modalInfo:i,focusedRowControl:d,onPress:s,onLongPress:m})}),Si=(0,l.memo)(function(n){const{value:o,setFalse:s,setTrue:r}=Qo(!1),{hapticFeedback:c}=ut();return Ti(n)?(0,t.jsx)(_i,{...n}):(0,t.jsx)(dt,{actions:mt[n.contextMenuVariant],currency:n.option.currencyInfo.currency,isOpen:o,closeMenu:s,children:q?(0,t.jsx)("div",{onContextMenu:r,children:(0,t.jsx)(vo,{...n})}):(0,t.jsx)(vo,{...n,openContextMenu:async()=>{await c.success(),r()}})})}),bi={TokenSelectorListRender:"token_selector_list_render",RenderExploreSections:"render_explore_sections",RenderActivityTabList:"render_activity_tab_list",RenderTokenBalanceList:"render_token_balance_list"};function ht(e){return Array.isArray(e)}const Ii=(0,l.memo)(function({tokenOption:n,onSelectCurrency:o,section:s,index:r,showWarnings:c,showTokenAddress:a}){const{currencyInfo:i}=n,d=(0,l.useCallback)(()=>o(i,s,r),[r,o,s,i]),m=Ne(),p=(0,l.useCallback)(()=>{m(Lr(!0)),d()},[m,d]),{convertFiatAmountFormatted:u,formatNumberOrString:g}=Ho(),x=g({value:n.quantity,type:Qn.TokenTx}),h=u(n.balanceUSD,Qn.FiatTokenPrice),{isTestnetModeEnabled:f}=re(),k=f?x:h,T=f?void 0:x,S=de(i),[I,y]=(0,l.useState)(!1),{tokenWarningDismissed:v}=In(i.currency),_=S===U.Blocked,P=_||S!==U.None&&!v,w=(0,l.useCallback)(()=>{y(!1),d()},[d]);return(0,t.jsx)(Si,{option:n,showTokenAddress:a,contextMenuVariant:rn.TokenSelector,rightElement:n.quantity&&n.quantity!==0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B,{variant:"body1",children:k}),T&&(0,t.jsx)(B,{color:"$neutral2",variant:"body3",children:T})]}):void 0,showDisabled:!!(c&&_||n.isUnsupported),modalInfo:{modal:(0,t.jsx)(tt,{currencyInfo0:i,isVisible:I,closeModalOnly:()=>y(!1),onAcknowledge:w}),modalShouldShow:c&&P,modalSetIsOpen:y},onPress:p})});function wi({onSelectCurrency:e,sections:n,chainFilter:o,showTokenWarnings:s,refetch:r,loading:c,hasError:a,emptyElement:i,errorText:d,showTokenAddress:m}){const[p,u]=(0,l.useState)([]);bi.TokenSelectorListRender;const g=Xe(f=>{u(k=>[...k,_n(f)])}),x=Xe(f=>p.includes(_n(f))),h=Xe(({item:f,section:k,index:T})=>ht(f)?(0,t.jsx)(Os,{tokens:f,section:k,index:T,expanded:x(f),onSelectCurrency:e,onExpand:g}):(0,t.jsx)(Ii,{index:T,section:k,showTokenAddress:m,showWarnings:s,tokenOption:f,onSelectCurrency:e}));return(0,t.jsx)(ri,{renderItem:h,sections:n,chainFilter:o,refetch:r,loading:c,hasError:a,emptyElement:i,errorText:d,keyExtractor:_n,expandedItems:p})}function _n(e){return ht(e)?e.map(n=>n.currencyInfo.currencyId).join("-"):e.currencyInfo.currencyId}const dn=(0,l.memo)(wi),ji=e=>e.searchHistory.results;function ft(e,n=Ws){const o=cn(ji),s=Pi(o.filter(r=>r.type===xe.Token).filter(r=>e?r.chainId===e:!0).slice(0,n));return(0,l.useMemo)(()=>Nr(s)??[],[s])}function Pi(e){const n=e.map(o=>o.address?fe(o.chainId,o.address):En(o.chainId));return Rr(n)}function Bi(e,n=!0){return Mo(Gr,e,{transport:pr,enabled:n})}function Fi(e){const{chain:n,address:o,symbol:s,name:r,logo:c,decimals:a,feeData:i}=e,d=Po(n),m=No(e.protectionInfo),p=Oo(e.safetyLevel);if(!d||!s||!r)return null;const u=An({chainId:d,address:o,decimals:a,symbol:s,name:r,buyFeeBps:i==null?void 0:i.buyFeeBps,sellFeeBps:i==null?void 0:i.sellFeeBps});return u?Wo({currency:u,currencyId:ln(u),logoUrl:c,safetyInfo:Dn(p,m)}):null}function Ei(e,n){var o;const{data:s,isLoading:r,error:c,refetch:a,isFetching:i}=Bi({chainId:(e==null?void 0:e.toString())??ur},!n),d=s==null||(o=s.tokenRankings[ir.Trending])===null||o===void 0?void 0:o.tokens;return{data:(0,l.useMemo)(()=>d==null?void 0:d.map(Fi).filter(p=>!!p),[d]),loading:r||i,error:c??void 0,refetch:a}}function gt(e,n){const{data:o,error:s,refetch:r,loading:c}=We(e),{data:a,error:i,refetch:d,loading:m}=Ei(n),p=tn({currencyInfos:a,portfolioBalancesById:o}),u=(0,l.useCallback)(()=>{r==null||r(),d()},[r,d]);return{data:p,refetch:u,error:(o?void 0:s)||(p?void 0:i),loading:c||m}}function Z({sectionKey:e,options:n,rightElement:o,endElement:s,name:r}){return(0,l.useMemo)(()=>n&&(n.length>0&&Array.isArray(n[0])?n.some(i=>Ps(i)&&i.length>0):n.length>0)?[{sectionKey:e,data:n,name:r,rightElement:o,endElement:s}]:void 0,[r,o,s,e,n])}const Ri="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _height-10037 _justifyContent-center _alignItems-center ";function xt(){const{t:e}=z(),n=Ne(),o=(0,l.useCallback)(()=>{n(Nt())},[n]);return(0,t.jsx)("div",{className:Ri,children:(0,t.jsx)(ne,{onPress:o,children:(0,t.jsx)(B,{color:"$neutral2",variant:"buttonLabel3",children:e("common.clear")})})})}function Li({activeAccountAddress:e,chainFilter:n}){const{data:o,loading:s}=gt(e,n),r=ft(n),c=Z({sectionKey:b.RecentSearches,options:r,endElement:(0,t.jsx)(xt,{})}),a=Z({sectionKey:b.TrendingTokens,options:o==null?void 0:o.slice(0,Ms)}),i=(0,l.useMemo)(()=>[...c??[],...a??[]],[a,c]);return(0,l.useMemo)(()=>({data:i,loading:s}),[s,i])}function Ai({activeAccountAddress:e,chainFilter:n,onSelectCurrency:o}){const{t:s}=z(),{data:r,loading:c,error:a,refetch:i}=Li({activeAccountAddress:e,chainFilter:n});return(0,t.jsx)(dn,{showTokenAddress:!0,errorText:s("token.selector.search.error"),hasError:!!a,loading:c,refetch:i,sections:r,showTokenWarnings:!0,onSelectCurrency:o})}const Di=(0,l.memo)(Ai);function Ni(){const e=Ne();return{registerSearchItem:s=>{switch(s.type){case ee.Pool:e(ke({searchResult:Oi(s)}));break;case ee.Token:e(ke({searchResult:yo(s.currencyInfo)}));break;case ee.WalletByAddress:case ee.Unitag:case ee.ENSAddress:e(ke({searchResult:{...s,type:xe.WalletByAddress}}));break;case ee.NFTCollection:e(ke({searchResult:{...s,type:xe.NFTCollection}}));break}},registerSearchTokenCurrencyInfo:s=>{e(ke({searchResult:yo(s)}))}}}function Oi(e){const{chainId:n,poolId:o,token0CurrencyInfo:s,token1CurrencyInfo:r,protocolVersion:c,feeTier:a}=e;return{type:xe.Pool,chainId:n,poolId:o,token0CurrencyId:s.currencyId,token1CurrencyId:r.currencyId,protocolVersion:c,feeTier:a}}function yo(e){var n,o;const s=e.currency.isToken?e.currency.address:te(e.currency.chainId);return{type:xe.Token,chainId:e.currency.chainId,address:Ht(s,e.currency.chainId),name:e.currency.name??null,symbol:e.currency.symbol??"",logoUrl:e.logoUrl??null,safetyInfo:e.safetyInfo,feeData:e.currency.isToken?{buyFeeBps:!((n=e.currency.buyFeeBps)===null||n===void 0)&&n.gt(0)?e.currency.buyFeeBps.toString():void 0,sellFeeBps:!((o=e.currency.sellFeeBps)===null||o===void 0)&&o.gt(0)?e.currency.sellFeeBps.toString():void 0}:null}}function Vn({address:e,chainFilter:n,searchFilter:o}){const{data:s,error:r,refetch:c,loading:a}=We(e),{isTestnetModeEnabled:i}=re(),{shownTokens:d}=sr({balancesById:s}),m=(0,l.useMemo)(()=>d?or({balances:d,isTestnetModeEnabled:i}).map(u=>({...u,type:ee.Token})):void 0,[d,i]);return{data:(0,l.useMemo)(()=>m&&Wn({tokenOptions:m,chainFilter:n,searchFilter:o}),[n,m,o]),error:r,refetch:c,loading:a}}var ye;(function(e){e[e.SEARCH_TYPE_UNSPECIFIED=0]="SEARCH_TYPE_UNSPECIFIED",e[e.TOKEN=1]="TOKEN",e[e.POOL=2]="POOL"})(ye||(ye={}));C.util.setEnumType(ye,"Search.v1.SearchType",[{no:0,name:"SEARCH_TYPE_UNSPECIFIED"},{no:1,name:"TOKEN"},{no:2,name:"POOL"}]);var Ae;(function(e){e[e.NOT_SPAM=0]="NOT_SPAM",e[e.SPAM=1]="SPAM",e[e.SPAM_URL=2]="SPAM_URL"})(Ae||(Ae={}));C.util.setEnumType(Ae,"Search.v1.SpamCode",[{no:0,name:"NOT_SPAM"},{no:1,name:"SPAM"},{no:2,name:"SPAM_URL"}]);var Fn;(function(e){e[e.ATTACK_TYPE_UNSPECIFIED=0]="ATTACK_TYPE_UNSPECIFIED",e[e.METADATA=1]="METADATA",e[e.INORGANIC_VOLUME=2]="INORGANIC_VOLUME",e[e.AIRDROP_PATTERN=3]="AIRDROP_PATTERN",e[e.DYNAMIC_ANALYSIS=4]="DYNAMIC_ANALYSIS",e[e.STATIC_CODE_SIGNATURE=5]="STATIC_CODE_SIGNATURE",e[e.KNOWN_MALICIOUS=6]="KNOWN_MALICIOUS",e[e.IMPERSONATOR=7]="IMPERSONATOR",e[e.UNSTABLE_TOKEN_PRICE=8]="UNSTABLE_TOKEN_PRICE",e[e.RUGPULL=9]="RUGPULL",e[e.HIGH_FEES=10]="HIGH_FEES"})(Fn||(Fn={}));C.util.setEnumType(Fn,"Search.v1.AttackType",[{no:0,name:"ATTACK_TYPE_UNSPECIFIED"},{no:1,name:"METADATA"},{no:2,name:"INORGANIC_VOLUME"},{no:3,name:"AIRDROP_PATTERN"},{no:4,name:"DYNAMIC_ANALYSIS"},{no:5,name:"STATIC_CODE_SIGNATURE"},{no:6,name:"KNOWN_MALICIOUS"},{no:7,name:"IMPERSONATOR"},{no:8,name:"UNSTABLE_TOKEN_PRICE"},{no:9,name:"RUGPULL"},{no:10,name:"HIGH_FEES"}]);var un=class _e extends J{constructor(n){super(),this.searchQuery="",this.chainIds=[],this.searchType=ye.SEARCH_TYPE_UNSPECIFIED,this.page=0,this.size=0,C.util.initPartial(n,this)}static fromBinary(n,o){return new _e().fromBinary(n,o)}static fromJson(n,o){return new _e().fromJson(n,o)}static fromJsonString(n,o){return new _e().fromJsonString(n,o)}static equals(n,o){return C.util.equals(_e,n,o)}};un.runtime=C;un.typeName="Search.v1.SearchTokensRequest";un.fields=C.util.newFieldList(()=>[{no:1,name:"search_query",kind:"scalar",T:9},{no:2,name:"chain_ids",kind:"scalar",T:13,repeated:!0},{no:3,name:"search_type",kind:"enum",T:C.getEnumType(ye)},{no:4,name:"page",kind:"scalar",T:13},{no:5,name:"size",kind:"scalar",T:13}]);var pn=class Te extends J{constructor(n){super(),this.tokens=[],this.pools=[],C.util.initPartial(n,this)}static fromBinary(n,o){return new Te().fromBinary(n,o)}static fromJson(n,o){return new Te().fromJson(n,o)}static fromJsonString(n,o){return new Te().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Te,n,o)}};pn.runtime=C;pn.typeName="Search.v1.SearchTokensResponse";pn.fields=C.util.newFieldList(()=>[{no:1,name:"tokens",kind:"message",T:mn,repeated:!0},{no:2,name:"pools",kind:"message",T:He,repeated:!0}]);var mn=class Se extends J{constructor(n){super(),this.tokenId="",this.chainId=0,this.address="",this.decimals=0,this.symbol="",this.name="",this.standard="",this.projectName="",this.logoUrl="",this.isSpam="",this.safetyLevel="",this.spamCode=Ae.NOT_SPAM,C.util.initPartial(n,this)}static fromBinary(n,o){return new Se().fromBinary(n,o)}static fromJson(n,o){return new Se().fromJson(n,o)}static fromJsonString(n,o){return new Se().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Se,n,o)}};mn.runtime=C;mn.typeName="Search.v1.Token";mn.fields=C.util.newFieldList(()=>[{no:1,name:"token_id",kind:"scalar",T:9},{no:2,name:"chain_id",kind:"scalar",T:13},{no:3,name:"address",kind:"scalar",T:9},{no:4,name:"decimals",kind:"scalar",T:13},{no:5,name:"symbol",kind:"scalar",T:9},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"standard",kind:"scalar",T:9},{no:8,name:"project_name",kind:"scalar",T:9},{no:9,name:"logo_url",kind:"scalar",T:9},{no:10,name:"is_spam",kind:"scalar",T:9},{no:11,name:"safety_level",kind:"scalar",T:9},{no:12,name:"spam_code",kind:"enum",T:C.getEnumType(Ae)},{no:13,name:"fee_data",kind:"message",T:Me},{no:14,name:"protection_info",kind:"message",T:fn}]);var Me=class be extends J{constructor(n){super(),this.sellFeeBps="",this.buyFeeBps="",this.feeTakenOnTransfer=!1,this.externalTransferFailed=!1,this.sellReverted=!1,C.util.initPartial(n,this)}static fromBinary(n,o){return new be().fromBinary(n,o)}static fromJson(n,o){return new be().fromJson(n,o)}static fromJsonString(n,o){return new be().fromJsonString(n,o)}static equals(n,o){return C.util.equals(be,n,o)}};Me.runtime=C;Me.typeName="Search.v1.FeeData";Me.fields=C.util.newFieldList(()=>[{no:1,name:"sell_fee_bps",kind:"scalar",T:9},{no:2,name:"buy_fee_bps",kind:"scalar",T:9},{no:3,name:"fee_taken_on_transfer",kind:"scalar",T:8},{no:4,name:"external_transfer_failed",kind:"scalar",T:8},{no:5,name:"sell_reverted",kind:"scalar",T:8}]);var hn=class Ie extends J{constructor(n){super(),this.transfer=0,this.buy=0,this.sell=0,C.util.initPartial(n,this)}static fromBinary(n,o){return new Ie().fromBinary(n,o)}static fromJson(n,o){return new Ie().fromJson(n,o)}static fromJsonString(n,o){return new Ie().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Ie,n,o)}};hn.runtime=C;hn.typeName="Search.v1.BlockaidFees";hn.fields=C.util.newFieldList(()=>[{no:1,name:"transfer",kind:"scalar",T:1},{no:2,name:"buy",kind:"scalar",T:1},{no:3,name:"sell",kind:"scalar",T:1}]);var fn=class we extends J{constructor(n){super(),this.result="",this.tokenId="",this.chainId=0,this.attackTypes=[],this.address="",this.updatedAt=0,C.util.initPartial(n,this)}static fromBinary(n,o){return new we().fromBinary(n,o)}static fromJson(n,o){return new we().fromJson(n,o)}static fromJsonString(n,o){return new we().fromJsonString(n,o)}static equals(n,o){return C.util.equals(we,n,o)}};fn.runtime=C;fn.typeName="Search.v1.TokenProtectionInfo";fn.fields=C.util.newFieldList(()=>[{no:1,name:"result",kind:"scalar",T:9},{no:2,name:"token_id",kind:"scalar",T:9},{no:3,name:"chain_id",kind:"scalar",T:13},{no:4,name:"attack_types",kind:"scalar",T:9,repeated:!0},{no:5,name:"address",kind:"scalar",T:9},{no:6,name:"blockaid_fees",kind:"message",T:hn},{no:7,name:"updated_at",kind:"scalar",T:13},{no:8,name:"fee_data",kind:"message",T:Me}]);var De=class je extends J{constructor(n){super(),this.chainId=0,this.address="",this.symbol="",this.name="",this.decimals=0,this.logoUrl="",C.util.initPartial(n,this)}static fromBinary(n,o){return new je().fromBinary(n,o)}static fromJson(n,o){return new je().fromJson(n,o)}static fromJsonString(n,o){return new je().fromJsonString(n,o)}static equals(n,o){return C.util.equals(je,n,o)}};De.runtime=C;De.typeName="Search.v1.PoolTokenData";De.fields=C.util.newFieldList(()=>[{no:1,name:"chain_id",kind:"scalar",T:13},{no:2,name:"address",kind:"scalar",T:9},{no:3,name:"symbol",kind:"scalar",T:9},{no:4,name:"name",kind:"scalar",T:9},{no:5,name:"decimals",kind:"scalar",T:13},{no:6,name:"logo_url",kind:"scalar",T:9}]);var He=class Pe extends J{constructor(n){super(),this.volumeUsd24hr=0,this.volumeUsd12hr=0,this.volumeUsd6hr=0,this.id="",this.chainId=0,this.protocolVersion="",this.feeTier=0,C.util.initPartial(n,this)}static fromBinary(n,o){return new Pe().fromBinary(n,o)}static fromJson(n,o){return new Pe().fromJson(n,o)}static fromJsonString(n,o){return new Pe().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Pe,n,o)}};He.runtime=C;He.typeName="Search.v1.Pool";He.fields=C.util.newFieldList(()=>[{no:1,name:"volume_usd_24hr",kind:"scalar",T:1},{no:2,name:"volume_usd_12hr",kind:"scalar",T:1},{no:3,name:"volume_usd_6hr",kind:"scalar",T:1},{no:4,name:"token0",kind:"message",T:De},{no:5,name:"token1",kind:"message",T:De},{no:6,name:"id",kind:"scalar",T:9},{no:7,name:"chain_id",kind:"scalar",T:13},{no:8,name:"hook_address",kind:"scalar",T:9,opt:!0},{no:9,name:"protocol_version",kind:"scalar",T:9},{no:10,name:"fee_tier",kind:"scalar",T:13}]);var gn=class Be extends J{constructor(n){super(),this.pools=[],C.util.initPartial(n,this)}static fromBinary(n,o){return new Be().fromBinary(n,o)}static fromJson(n,o){return new Be().fromJson(n,o)}static fromJsonString(n,o){return new Be().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Be,n,o)}};gn.runtime=C;gn.typeName="Search.v1.IndexPoolsRequest";gn.fields=C.util.newFieldList(()=>[{no:1,name:"pools",kind:"message",T:He,repeated:!0}]);var xn=class Fe extends J{constructor(n){super(),C.util.initPartial(n,this)}static fromBinary(n,o){return new Fe().fromBinary(n,o)}static fromJson(n,o){return new Fe().fromJson(n,o)}static fromJsonString(n,o){return new Fe().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Fe,n,o)}};xn.runtime=C;xn.typeName="Search.v1.IndexPoolsResponse";xn.fields=C.util.newFieldList(()=>[]);var vn=class Ee extends J{constructor(n){super(),this.poolIds=[],C.util.initPartial(n,this)}static fromBinary(n,o){return new Ee().fromBinary(n,o)}static fromJson(n,o){return new Ee().fromJson(n,o)}static fromJsonString(n,o){return new Ee().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Ee,n,o)}};vn.runtime=C;vn.typeName="Search.v1.DeletePoolsRequest";vn.fields=C.util.newFieldList(()=>[{no:1,name:"pool_ids",kind:"scalar",T:9,repeated:!0}]);var yn=class Re extends J{constructor(n){super(),C.util.initPartial(n,this)}static fromBinary(n,o){return new Re().fromBinary(n,o)}static fromJson(n,o){return new Re().fromJson(n,o)}static fromJsonString(n,o){return new Re().fromJsonString(n,o)}static equals(n,o){return C.util.equals(Re,n,o)}};yn.runtime=C;yn.typeName="Search.v1.DeletePoolsResponse";yn.fields=C.util.newFieldList(()=>[]);const Wi={localName:"searchTokens",name:"SearchTokens",kind:Nn.Unary,I:un,O:pn,service:{typeName:"Search.v1.SearchService"}},ml={localName:"indexPools",name:"IndexPools",kind:Nn.Unary,I:gn,O:xn,service:{typeName:"Search.v1.SearchService"}},hl={localName:"deletePools",name:"DeletePools",kind:Nn.Unary,I:vn,O:yn,service:{typeName:"Search.v1.SearchService"}};function Mi({input:e,enabled:n=!0,select:o}){return Mo(Wi,e,{transport:mr,enabled:!!e&&n,select:o})}function Hi(e){const{chainId:n,address:o,symbol:s,name:r,decimals:c,logoUrl:a,feeData:i}=e,d=Oo(e.safetyLevel),m=No(e.protectionInfo),p=An({chainId:n,address:o==="ETH"?te(n):o,decimals:c,symbol:s,name:r,buyFeeBps:i==null?void 0:i.buyFeeBps,sellFeeBps:i==null?void 0:i.sellFeeBps}),u=Dn(d,m);return p?Wo({currency:p,currencyId:ln(p),logoUrl:a,safetyInfo:u}):null}function fl(e){const n=er(e.protocolVersion);if(!e.token0||!e.token1||!n)return;const o=Zn(e.chainId,e.token0.address)?te(e.chainId):e.token0.address,s=Zn(e.chainId,e.token1.address)?te(e.chainId):e.token1.address;return{type:xe.Pool,chainId:e.chainId,poolId:e.id,protocolVersion:n,hookAddress:e.hookAddress,feeTier:e.feeTier,token0CurrencyId:fe(e.chainId,o),token1CurrencyId:fe(e.chainId,s)}}const gl=3,xl=8,Ui=15;function zi({searchQuery:e,chainFilter:n,skip:o,size:s=Ui}){const{chains:r}=re(),c=(0,l.useMemo)(()=>({searchQuery:e??void 0,chainIds:n?[n]:r,searchType:ye.TOKEN,page:1,size:s}),[e,n,s,r]),a=Xe(u=>u.tokens.map(g=>Hi(g)).filter(g=>!!g)),{data:i,error:d,isPending:m,refetch:p}=Mi({input:c,enabled:!o,select:a});return(0,l.useMemo)(()=>({data:i,loading:m,error:d??void 0,refetch:p}),[i,m,d,p])}function Vi({address:e,chainFilter:n,searchFilter:o,isBalancesOnlySearch:s,input:r}){const{t:c}=z(),{data:a,error:i,refetch:d,loading:m}=We(e),{data:p,error:u,refetch:g,loading:x}=Vn({address:e,chainFilter:n,searchFilter:o??void 0}),{data:h,error:f,refetch:k,loading:T}=st({oppositeSelectedToken:r,walletAddress:e,chainFilter:n}),{data:S,error:I,refetch:y,loading:v}=zi({searchQuery:o,chainFilter:n,skip:s}),[_,P]=(0,l.useMemo)(()=>{if(!S)return[[],[]];const H=S.filter(Y=>!Y.isFromOtherNetwork),$=S.filter(Y=>Y.isFromOtherNetwork);return[H,$]},[S]),w=tn({currencyInfos:_,portfolioBalancesById:a}),E=tn({currencyInfos:P,portfolioBalancesById:a}),L=x||m||!s&&v||T,W=Z({sectionKey:b.SearchResults,options:s?p:w}),R=Z({sectionKey:b.OtherChainsTokens,options:E}),D=n?Bt(n):void 0,A=D?c("tokens.selector.section.otherSearchResults",{network:D}):void 0,M=(0,l.useMemo)(()=>{const H=js({searchResults:W,bridgingTokens:h,sectionHeaderString:A})??[];return R!=null&&R.length&&H.push(...R),H},[W,h,A,R]),F=!h&&f||!a&&i||!p&&u||!s&&!w&&I,V=(0,l.useCallback)(()=>{d==null||d(),y==null||y(),g==null||g(),k==null||k()},[k,d,g,y]);return(0,l.useMemo)(()=>({data:M,loading:L,error:F||void 0,refetch:V}),[F,L,V,M])}const Ki="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ";function qi({searchFilter:e}){return(0,t.jsxs)("div",{className:Ki,children:[(0,t.jsx)(Un,{sectionKey:b.SearchResults}),(0,t.jsx)(B,{color:"$neutral3",mt:"$spacing16",mx:"$spacing20",textAlign:"center",variant:"subheading2",children:(0,t.jsx)(en,{components:{highlight:(0,t.jsx)(B,{color:"$neutral1",variant:"subheading2"})},i18nKey:"tokens.selector.search.empty",values:{searchText:e}})})]})}function Gi({onSelectCurrency:e,activeAccountAddress:n,chainFilter:o,parsedChainFilter:s,searchFilter:r,debouncedSearchFilter:c,debouncedParsedSearchFilter:a,isBalancesOnlySearch:i,input:d}){const{t:m}=z(),{registerSearchTokenCurrencyInfo:p}=Ni(),{data:u,loading:g,error:x,refetch:h}=Vi({address:n,chainFilter:o??s,searchFilter:a??c,isBalancesOnlySearch:i,input:d}),f=(S,I,y)=>{e(S,I,y),p(S)},k=!!(r&&c!==r),T=(0,l.useMemo)(()=>c?(0,t.jsx)(qi,{searchFilter:c}):void 0,[c]);return(0,t.jsx)(dn,{showTokenAddress:!0,chainFilter:o,emptyElement:T,errorText:m("token.selector.search.error"),hasError:!!x,loading:k||g,refetch:h,sections:u,showTokenWarnings:!0,onSelectCurrency:f})}const Ji=(0,l.memo)(Gi),$i="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-spa1360334076 _pr-t-space-spa1360334076 _pl-t-space-spa1360334076 ",Yi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ";function Zi({activeAccountAddress:e,chainFilter:n}){const{data:o,error:s,refetch:r,loading:c}=Vn({address:e,chainFilter:n}),a=c,i=!o&&s,d=Z({sectionKey:b.YourTokens,options:o});return(0,l.useMemo)(()=>({data:d,loading:a,error:i||void 0,refetch:r}),[i,a,r,d])}function Xi({onEmptyActionPress:e}){const{t:n}=z();return(0,t.jsxs)("div",{className:Yi,children:[(0,t.jsx)(Un,{sectionKey:b.YourTokens}),(0,t.jsx)("div",{className:$i,children:(0,t.jsx)(qo.EmptyState,{buttonLabel:n(e?"tokens.selector.empty.buy.title":"tokens.selector.empty.receive.title"),description:n("tokens.selector.empty.buy.message"),title:n("tokens.selector.empty.title"),onPress:e})})]})}function Qi({activeAccountAddress:e,chainFilter:n,onSelectCurrency:o,onEmptyActionPress:s}){const{data:r,loading:c,error:a,refetch:i}=Zi({activeAccountAddress:e,chainFilter:n}),d=(0,l.useMemo)(()=>(0,t.jsx)(Xi,{onEmptyActionPress:s}),[s]);return(0,t.jsx)(dn,{showTokenAddress:!0,chainFilter:n,emptyElement:d,hasError:!!a,loading:c,refetch:i,sections:r,showTokenWarnings:!1,onSelectCurrency:o})}const ea=(0,l.memo)(Qi);function na(){const e=cn(zn),{data:n,loading:o,error:s,refetch:r}=Wr(e),c=tr(o,s instanceof Pt?s:void 0);return{data:(0,l.useMemo)(()=>n&&e.map(i=>n.find(d=>d.currencyId===i)).filter(i=>!!i),[e,n]),loading:o,error:c,refetch:r}}function oa(e,n){const{data:o,error:s,refetch:r,loading:c}=We(e),{data:a,error:i,refetch:d,loading:m}=na(),p=tn({currencyInfos:a,portfolioBalancesById:o,sortAlphabetically:!0}),u=(0,l.useCallback)(()=>{r==null||r(),d==null||d()},[r,d]),g=!o&&s||!a&&i;return{data:(0,l.useMemo)(()=>p&&Wn({tokenOptions:p,chainFilter:n}),[n,p]),refetch:u,error:g||void 0,loading:c||m}}function ta({activeAccountAddress:e,chainFilter:n,oppositeSelectedToken:o}){const{defaultChainId:s,isTestnetModeEnabled:r}=re(),{data:c,error:a,refetch:i,loading:d}=Vn({address:e,chainFilter:n}),{data:m,error:p,refetch:u,loading:g}=gt(e,n),{data:x,error:h,refetch:f,loading:k}=oa(e,n),{data:T,error:S,refetch:I,loading:y}=Or(e,n??(o==null?void 0:o.chainId)??s),{data:v,error:_,refetch:P,loading:w,shouldNest:E}=st({oppositeSelectedToken:o,walletAddress:e,chainFilter:n}),L=ft(n),W=!c&&a||!m&&p||!x&&h||!T&&S||!v&&_,R=!c&&d||!m&&g||!x&&k||!T&&y||!v&&w,D=(0,l.useRef)(()=>{});D.current=()=>{i==null||i(),u==null||u(),f==null||f(),I==null||I(),P==null||P()};const A=(0,l.useCallback)(()=>{D.current()},[]),M=(0,l.useMemo)(()=>[T??[]],[T]),F=Z({sectionKey:b.SuggestedTokens,options:M}),V=Z({sectionKey:b.YourTokens,options:c}),H=(0,l.useMemo)(()=>(0,t.jsx)(xt,{}),[]),$=Z({sectionKey:b.RecentSearches,options:L,endElement:H}),Y=Z({sectionKey:b.FavoriteTokens,options:x}),ie=Z({sectionKey:b.TrendingTokens,options:m}),K=(0,l.useMemo)(()=>E?[v??[]]:v??[],[v,E]),Ue=Z({sectionKey:b.BridgingTokens,options:K}),ze=(0,l.useMemo)(()=>{if(!Bs({loading:R,portfolioSection:V,trendingSection:ie,isTestnetModeEnabled:r}))return r?[...F??[],...V??[]]:[...F??[],...Ue??[],...V??[],...$??[],...an?Y??[]:[],...ie??[]]},[R,V,ie,F,Ue,$,Y,r]);return(0,l.useMemo)(()=>({data:ze,loading:R,error:W||void 0,refetch:A}),[W,R,A,ze])}function ra({onSelectCurrency:e,activeAccountAddress:n,chainFilter:o,oppositeSelectedToken:s}){const{data:r,loading:c,error:a,refetch:i}=ta({activeAccountAddress:n,chainFilter:o,oppositeSelectedToken:s});return(0,t.jsx)(dn,{showTokenAddress:!0,chainFilter:o,hasError:!!a,loading:c,refetch:i,sections:r,showTokenWarnings:!0,onSelectCurrency:e})}const ko=(0,l.memo)(ra),Co="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center _gap-t-space-spa94665589 ";function sa({inline:e,onPress:n,beforePress:o,afterClipboardReceived:s,textVariant:r="buttonLabel2"}){const{t:c}=z(),a=c("common.button.paste"),i=async()=>{const d=await $o();s==null||s(),d&&n(d)};return e?(0,t.jsx)(ne,{p:"$spacing8",onPress:i,onPressIn:o,children:(0,t.jsxs)("div",{className:Co,children:[(0,t.jsx)(Qr,{color:"$neutral2",size:"$icon.16"}),(0,t.jsx)(B,{color:"$neutral2",variant:r,children:a})]})}):(0,t.jsx)(ne,{backgroundColor:"$accent2",borderRadius:"$rounded12",p:"$spacing8",onPress:i,onPressIn:o,children:(0,t.jsxs)("div",{className:Co,children:[(0,t.jsx)(B,{color:"$accent1",variant:"buttonLabel3",children:a}),(0,t.jsx)(rs,{color:"$accent1",size:"$icon.16"})]})})}const ia=(0,l.createContext)(void 0),aa=()=>{const e=(0,l.useContext)(ia);if(q)return{isSheetReady:!0};if(e===void 0)throw new Error("`useBottomSheetContext` must be used inside of `BottomSheetContextProvider`");return e};function ca(e,n){const[o,s]=(0,l.useState)(e),[r,c]=(0,l.useState)(null),[a,i]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),{chains:p}=re();(0,l.useEffect)(()=>{var h;const f=a==null?void 0:a.split(" "),k=f==null||(h=f[0])===null||h===void 0?void 0:h.toLowerCase(),T=la(p).find(I=>I.name.startsWith(k??"")),S=f==null?void 0:f.slice(1).join(" ");!o&&T&&S?(c(T.chainId),m(S)):(c(null),m(null))},[a,o,p]),(0,l.useEffect)(()=>{s(e)},[e]);const u=(0,l.useCallback)(h=>{s(h),pe(Bo.NetworkFilterSelected,{chain:h??"All",modal:n})},[n]),g=(0,l.useCallback)(()=>{i(null)},[]),x=(0,l.useCallback)(h=>i(h),[i]);return{chainFilter:o,parsedChainFilter:r,searchFilter:a,parsedSearchFilter:d,onChangeChainFilter:u,onClearSearchFilter:g,onChangeText:x}}const la=e=>e.map(n=>Et(n)?!1:{chainId:n,name:nn(n).nativeCurrency.name.toLowerCase()}).filter(Boolean);function da({children:e}){return(0,t.jsx)(t.Fragment,{children:e})}const ua="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 _alignSelf-stretch _mr-t-space-spa94665593 _overflowX-hidden _overflowY-hidden ",pa="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-spa94665589 _pb-t-space-spa94665589 ",ma=48,_o=-6;let $e=(function(e){return e.CancelButton="CancelButton",e.BackChevron="BackChevron",e})({});const ha=(0,l.forwardRef)(function(n,o){const s=yr(),{t:r}=z(),{autoFocus:c,backgroundColor:a="$surface2",endAdornment:i,onCancel:d,onClose:m,onChangeText:p,onFocus:u,onKeyPress:g,placeholder:x,py:h="$spacing12",px:f="$spacing16",mx:k,my:T,showShadow:S,value:I,hideIcon:y,minHeight:v=ma,cancelBehaviorType:_=$e.CancelButton}=n,P=(0,l.useRef)(null),w=vr(P,o),E=!!m,[L,W]=(0,l.useState)(!1),R=!!d&&_===$e.CancelButton,[D,A]=(0,l.useState)(R?40:0),M=!!d&&_===$e.BackChevron,F=M?me.icon20+_o:0,V=(0,l.useCallback)(K=>{A(K.nativeEvent.layout.width)},[]),H=()=>{var K;(K=P.current)===null||K===void 0||K.clear(),W(!1),Le(),pe(Bo.ExploreSearchCancel,{query:I||""}),p==null||p(""),d==null||d()},$=K=>{u==null||u(K),W(!0)},Y=(0,l.useCallback)(K=>{p==null||p(K)},[p]),ie=_===$e.BackChevron?"marginLeft":"marginRight";return(0,t.jsxs)(O,{row:!0,shrink:!0,alignItems:"center",mx:k,children:[M&&(0,t.jsx)(O,{animation:"200ms",left:0,opacity:L?1:0,pointerEvents:L?"auto":"none",position:"absolute",scale:L?1:0,x:_o,children:(0,t.jsx)(ne,{hitSlop:16,onPress:H,children:(0,t.jsx)(Jn,{color:"$neutral1",direction:"left",height:me.icon20,width:me.icon20})})}),(0,t.jsxs)(O,{fill:!0,grow:!0,row:!0,alignItems:"center",animateOnly:[ie],animation:"quick",backgroundColor:a,borderRadius:"$roundedFull",gap:"$spacing8",minHeight:v,ml:M&&L?F+Ze.spacing8+Ze.spacing2:0,mr:R&&L?D+Ze.spacing12:0,my:T,px:f,py:h,...S&&{shadowColor:"$shadowColor",shadowOffset:br,shadowOpacity:.25,shadowRadius:6,elevation:6,"$theme-dark":{shadowColor:"$black"}},children:[!y&&(0,t.jsx)("div",{className:pa,children:(0,t.jsx)(nt,{color:"$neutral2",size:"$icon.20"})}),(0,t.jsx)("div",{className:ua,children:(0,t.jsx)(da,{children:(0,t.jsx)(Cr,{ref:w,autoCapitalize:"none",autoCorrect:!1,autoFocus:c,backgroundColor:"$transparent",borderWidth:"$none",fontFamily:"$body",fontWeight:"$book",height:"100%",maxFontSizeMultiplier:Vo.body1.maxFontSizeMultiplier,outlineColor:"transparent",outlineWidth:0,p:"$none",placeholder:x,placeholderTextColor:"$neutral2",position:"absolute",returnKeyType:"done",testID:Yo.ExploreSearchInput,textContentType:"none",top:0,...typeof I<"u"&&{value:I},width:"100%",...Io&&{width:I?void 0:9999},onChangeText:Y,onFocus:$,onSubmitEditing:Le,onKeyPress:g})})}),(0,t.jsx)(qn,{children:i?(0,t.jsx)(O,{animation:"quick",children:i}):null}),(0,t.jsx)(qn,{children:E&&(0,t.jsx)(ne,{animation:"quick",backgroundColor:a,enterStyle:{opacity:0,scale:0},exitStyle:{opacity:0,scale:0},onPress:m,children:(0,t.jsx)(Jn,{color:"$neutral3",direction:"up",height:me.icon20,width:me.icon20})})})]}),R&&(0,t.jsx)(O,{animation:"200ms",opacity:L?1:0,pointerEvents:L?"auto":"none",position:"absolute",right:0,scale:L?1:0,x:L?0:s.fullWidth,onLayout:V,children:(0,t.jsx)(ne,{hitSlop:16,onPress:H,children:(0,t.jsx)(B,{variant:"buttonLabel2",children:r("common.button.cancel")})})})]})}),fa="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",ga="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _backgroundColor-surface2 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 _gap-t-space-spa1360334080 _mr-t-space-spa94665593 _ml-t-space-spa94665593 _pt-t-space-spa1360334080 _pr-t-space-spa1360334080 _pb-t-space-spa1360334080 _pl-t-space-spa1360334080 ",xa="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ",va="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _pt-t-space-spa1360334076 _pr-t-space-spa1360334076 _pl-t-space-spa1360334076 ",ya=400,ka=700;let Ye=(function(e){return e.BalancesOnly="balances-only",e.SwapInput="swap-input",e.SwapOutput="swap-output",e})({});function Ca({currencyField:e,flow:n,variation:o,input:s,output:r,activeAccountAddress:c,chainId:a,chainIds:i,isSurfaceReady:d=!0,isLimits:m,onClose:p,onSelectChain:u,onSelectCurrency:g}){const{onChangeChainFilter:x,onChangeText:h,searchFilter:f,chainFilter:k,parsedChainFilter:T,parsedSearchFilter:S}=ca(a??null,mo(n)),I=ro(f),y=ro(S),v=St(),{navigateToBuyOrReceiveWithEmptyWallet:_}=wo(),P=kr(),w=P.sm&&le||an||$n,[E,L]=(0,l.useState)(!1),{chains:W,isTestnetModeEnabled:R}=re();(0,l.useEffect)(()=>{async function G(){const ae=await Rs();L(ae)}le||G().catch(()=>{})},[]);const{t:D}=z(),{page:A}=Uo(),M=n===jn.Swap?e===oe.INPUT?on.TokenInputSelector:on.TokenOutputSelector:void 0,F=(0,l.useCallback)((G,ae,Kn)=>{const Ve={category:ae.sectionKey,query:I??void 0,position:Kn+1,suggestionCount:ae.data.length,searchChainFilter:k},Ke=ae.data[Kn],vt=Array.isArray(Ke)?void 0:(Ke==null?void 0:Ke.balanceUSD)??void 0;pe(Fo.TokenSelected,{name:G.currency.name,address:Sn(G.currency),chain:G.currency.chainId,modal:mo(n),page:A,field:e,token_balance_usd:vt,category:Ve.category,position:Ve.position,suggestion_count:Ve.suggestionCount,query:Ve.query,tokenSection:ae.sectionKey,preselect_asset:!1});const yt=ae.sectionKey===b.BridgingTokens;g({currency:G.currency,field:e,forceIsBridgePair:yt,isPreselectedAsset:!1})},[I,k,n,A,e,g]),V=async()=>{const G=await $o();G&&h(G)},[H,$]=(0,l.useState)(!1),Y=(0,l.useCallback)(()=>{p(),_==null||_()},[_,p]);function ie(){$(!1)}function K(){q||$(!0)}const Ue=q&&!P.sm,ze=(0,l.useMemo)(()=>{if(H&&!f&&!R)return(0,t.jsx)(Di,{activeAccountAddress:c,chainFilter:k,onSelectCurrency:F});if(f)return(0,t.jsx)(Ji,{activeAccountAddress:c,chainFilter:k,debouncedParsedSearchFilter:y,debouncedSearchFilter:I,isBalancesOnlySearch:o===Ye.BalancesOnly,parsedChainFilter:T,searchFilter:f,input:s,onSelectCurrency:F});switch(o){case Ye.BalancesOnly:return(0,t.jsx)(ea,{activeAccountAddress:c,chainFilter:k,onEmptyActionPress:Y,onSelectCurrency:F});case Ye.SwapInput:return(0,t.jsx)(ko,{oppositeSelectedToken:r,activeAccountAddress:c,chainFilter:k,onSelectCurrency:F});case Ye.SwapOutput:return(0,t.jsx)(ko,{oppositeSelectedToken:s,activeAccountAddress:c,chainFilter:k,onSelectCurrency:F});default:return}},[H,f,R,o,c,k,F,y,I,T,s,Y,r]);return(0,t.jsx)(bn,{logImpression:le,eventOnTrigger:Wt.TokenSelectorOpened,modal:ue.TokenSelectorWeb,children:(0,t.jsx)(bn,{logImpression:!0,element:M,section:$r.TokenSelector,children:(0,t.jsxs)(O,{grow:!0,gap:"$spacing8",style:v,children:[!w&&(0,t.jsxs)("div",{className:va,children:[(0,t.jsx)(B,{variant:"subheading1",children:D("common.selectToken.label")}),(0,t.jsx)(_t,{onClose:p})]}),(0,t.jsx)(ha,{autoFocus:Ue,backgroundColor:"$surface2",endAdornment:(0,t.jsxs)("div",{className:xa,children:[E&&(0,t.jsx)(sa,{inline:!0,textVariant:"buttonLabel3",onPress:V}),(0,t.jsx)(Sr,{includeAllNetworks:!R,chainIds:i||W,selectedChain:k,styles:bt||$n?{dropdownZIndex:bo.overlay}:void 0,onPressChain:G=>{x(G),u==null||u(G)}})]}),placeholder:D("tokens.selector.search.placeholder"),px:"$spacing16",py:"$none",mx:Ze.spacing16,my:"$spacing4",value:f??"",onCancel:q?void 0:ie,onChangeText:h,onFocus:K}),m&&(0,t.jsxs)("div",{className:ga,children:[(0,t.jsx)(Go,{color:"$neutral2",size:"$icon.20"}),(0,t.jsx)(B,{variant:"body3",children:D("limits.form.disclaimer.mainnet.short")})]}),d&&(0,t.jsx)("div",{className:fa,children:ze})]})})})}function _a(e){const{isModalOpen:n}=e,{isSheetReady:o}=aa();return(0,l.useEffect)(()=>{n&&Le()},[n]),(0,t.jsx)(Ca,{...e,isSurfaceReady:o})}function Ta(e){const n=So(),{isModalOpen:o,onClose:s,focusHook:r}=e;return(0,t.jsx)(Xo,{extendOnKeyboardVisible:!0,fullScreen:!0,hideKeyboardOnDismiss:!0,hideKeyboardOnSwipeDown:!0,renderBehindBottomInset:!0,backgroundColor:n.surface1.val,isModalOpen:o,maxWidth:q?ya:void 0,maxHeight:le?ka:void 0,name:ue.TokenSelector,padding:"$none",snapPoints:["65%","100%"],height:le?"100vh":void 0,focusHook:r,onClose:s,children:(0,t.jsx)(_a,{...e})})}const vl=(0,l.memo)(Ta);export{xt as ClearRecentSearchesButton,ns as Flag,et as Heart,Hn as KeyAction,Ws as MAX_RECENT_SEARCH_RESULTS,Jr as MobileEventName,Ui as NUMBER_OF_RESULTS_LONG,xl as NUMBER_OF_RESULTS_MEDIUM,gl as NUMBER_OF_RESULTS_SHORT,qi as NoResultsFound,b as OnchainItemSectionName,pi as OptionItem,nt as Search,ha as SearchTextInput,ye as SearchType,$r as SectionName,ri as SelectorBaseList,ts as ShareArrow,ds as SwapAndLimitContext,is as SwapTab,ya as TOKEN_SELECTOR_WEB_MAX_WIDTH,N as TokenContextMenuAction,rn as TokenContextMenuVariant,Si as TokenOptionItem,dt as TokenOptionItemContextMenu,Ca as TokenSelectorContent,jn as TokenSelectorFlow,vl as TokenSelectorModal,Ye as TokenSelectorVariation,tt as TokenWarningModal,gs as WarningModalInfoContainer,lo as parseCurrencyFromURLParameter,fl as searchPoolToPoolSearchResult,ms as selectFilteredChainIds,ji as selectSearchHistory,ul as selectWatchedAddressSet,il as serializeSwapAddressesToURLParameters,sl as serializeSwapStateToURLParameters,Ni as useAddToSearchHistory,ks as useBlockaidFeeComparisonAnalytics,ll as useBridgingTokenWithHighestBalance,ca as useFilterCallbacks,al as useInitialCurrencyState,at as useKeyDown,Z as useOnchainItemListSection,zi as useSearchTokens,Mi as useSearchTokensAndPoolsQuery,rl as useSwapActionHandlers,ps as useSwapAndLimitContext,Ei as useTrendingTokensCurrencyInfos};
