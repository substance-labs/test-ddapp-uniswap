import{__commonJS as g,__toESM as $}from"./chunk-DgAfPHQg.js";import{require_react as C}from"./react-CNoFhWkx.js";import{require_react_dom as I}from"./react-dom-xovCOntK.js";import{require_hoist_non_react_statics_cjs as P,require_react_is as W}from"./react-is-BJXMVkew.js";var H=g({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js"(e){var t=C();function r(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var n=typeof Object.is=="function"?Object.is:r,u=t.useState,o=t.useEffect,d=t.useLayoutEffect,i=t.useDebugValue;function p(s,c){var f=c(),v=u({inst:{value:f,getSnapshot:c}}),a=v[0].inst,h=v[1];return d(function(){a.value=f,a.getSnapshot=c,y(a)&&h({inst:a})},[s,f,c]),o(function(){return y(a)&&h({inst:a}),s(function(){y(a)&&h({inst:a})})},[s]),i(f),f}function y(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!n(s,f)}catch{return!0}}function l(s,c){return c()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:p;e.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:S}}),z=g({"../../node_modules/use-sync-external-store/shim/index.js"(e,t){t.exports=H()}}),G=g({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js"(e){var t=C(),r=z();function n(l,S){return l===S&&(l!==0||1/l===1/S)||l!==l&&S!==S}var u=typeof Object.is=="function"?Object.is:n,o=r.useSyncExternalStore,d=t.useRef,i=t.useEffect,p=t.useMemo,y=t.useDebugValue;e.useSyncExternalStoreWithSelector=function(l,S,s,c,f){var v=d(null);if(v.current===null){var a={hasValue:!1,value:null};v.current=a}else a=v.current;v=p(function(){function V(_){if(!j){if(j=!0,E=_,_=c(_),f!==void 0&&a.hasValue){var x=a.value;if(f(x,_))return w=x}return w=_}if(x=w,u(E,_))return x;var k=c(_);return f!==void 0&&f(x,k)?(E=_,x):(E=_,w=k)}var j=!1,E,w,R=s===void 0?null:s;return[function(){return V(S())},R===null?void 0:function(){return V(R())}]},[S,s,c,f]);var h=o(l,v[0],v[1]);return i(function(){a.hasValue=!0,a.value=h},[h]),y(h),h}}}),J=g({"../../node_modules/use-sync-external-store/shim/with-selector.js"(e,t){t.exports=G()}}),B=$(I());function F(e){e()}let L=F;const K=e=>L=e,Q=()=>L;var m=$(C());const b=(0,m.createContext)(null);function M(){return(0,m.useContext)(b)}const N=()=>{throw new Error("uSES not initialized!")};let q=N;const T=e=>{q=e},X=(e,t)=>e===t;function Y(e=b){const t=e===b?M:()=>(0,m.useContext)(e);return function(n,u=X){const{store:o,subscription:d,getServerState:i}=t(),p=q(d.addNestedSub,o.getState,i||o.getState,n,u);return(0,m.useDebugValue)(p),p}}const Se=Y();function Z(){const e=Q();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],u=t;for(;u;)n.push(u),u=u.next;return n},subscribe(n){let u=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!u||t===null||(u=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const D={notify(){},get:()=>[]};function A(e,t){let r,n=D;function u(S){return p(),n.subscribe(S)}function o(){n.notify()}function d(){l.onStateChange&&l.onStateChange()}function i(){return!!r}function p(){r||(r=t?t.addNestedSub(d):e.subscribe(d),n=Z())}function y(){r&&(r(),r=void 0,n.clear(),n=D)}const l={addNestedSub:u,notifyNestedSubs:o,handleChangeWrapper:d,isSubscribed:i,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>n};return l}const ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",te=ee?m.useLayoutEffect:m.useEffect;function O(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ve(e,t){if(O(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let u=0;u<r.length;u++)if(!Object.prototype.hasOwnProperty.call(t,r[u])||!O(e[r[u]],t[r[u]]))return!1;return!0}var me=$(P()),pe=$(W());let ne=N;const re=e=>{ne=e};function ue({store:e,context:t,children:r,serverState:n}){const u=(0,m.useMemo)(()=>{const i=A(e);return{store:e,subscription:i,getServerState:n?()=>n:void 0}},[e,n]),o=(0,m.useMemo)(()=>e.getState(),[e]);te(()=>{const{subscription:i}=u;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),o!==e.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[u,o]);const d=t||b;return m.createElement(d.Provider,{value:u},r)}var _e=ue;function U(e=b){const t=e===b?M:()=>(0,m.useContext)(e);return function(){const{store:n}=t();return n}}const oe=U();function se(e=b){const t=e===b?oe:U(e);return function(){return t().dispatch}}const he=se();var ce=$(z()),ie=$(J());T(ie.useSyncExternalStoreWithSelector);re(ce.useSyncExternalStore);K(B.unstable_batchedUpdates);export{_e as Provider_default,B as import_react_dom,ve as shallowEqual,he as useDispatch,Se as useSelector,oe as useStore};
