import{isUniverseChainId as m}from"./utils-BX1Fu73x.js";import{BigNumber as u,init_lib$5 as A}from"./lib-DPFIyRke.js";import{getWrappedNativeAddress as L}from"./currencyId-Ci6selsx.js";import{Routing as v}from"./selectors-BwkayGDl.js";import{TransactionType as R}from"./transactionDetails-BsNW_jus.js";import{CHAIN_TO_UNIVERSAL_ROUTER_ADDRESS as f,ERC20_TRANSFER_SIGNATURE as E,FLASHBLOCKS_UI_SKIP_ROUTES as l,NATIVE_WITHDRAWAL_SIGNATURE as I}from"./useIsUnichainFlashblocksEnabled-BbPYkimv.js";A();function $({outputCurrencyInfo:r,receipt:s,accountAddress:i}){const n=r.currency.chainId,d=r.currency.isToken?r.currency.address.toLowerCase():L(n).toLowerCase();let a=u.from(0);const p=o=>{var t,e;return!!(((t=o.topics[0])===null||t===void 0?void 0:t.toLowerCase())===E&&o.address.toLowerCase()===d&&(!((e=o.topics[2])===null||e===void 0)&&e.toLowerCase().endsWith(i.toLowerCase().slice(2))))},_=o=>{var t,e;return!!(((t=o.topics[0])===null||t===void 0?void 0:t.toLowerCase())===I&&o.address.toLowerCase()===d&&m(n)&&(!((e=f[n])===null||e===void 0)&&e.some(T=>{var c;return(c=o.topics[1])===null||c===void 0?void 0:c.toLowerCase().endsWith(T.slice(2))})))};return s.logs.forEach(o=>{if(r.currency.isToken?p(o):_(o))try{a=a.add(u.from(o.data))}catch{}}),a}function O(r){return r?!l.includes(r):!1}function W({typeInfo:r,routing:s}){const i=r.type===R.Wrap?v.WRAP:s;return l.includes(i)}export{$ as getOutputAmountUsingOutputTransferLog,W as isNonInstantFlashblockTransactionType,O as shouldShowFlashblocksUI};
