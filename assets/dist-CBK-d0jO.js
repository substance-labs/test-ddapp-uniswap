import{__commonJS as q,__esm as D,__export as I,__toCommonJS as J}from"./chunk-DgAfPHQg.js";import{dist_exports as P,init_dist as F}from"./dist-ceZDlR1V.js";var ze=q({"../../node_modules/safe-buffer/index.js"(e,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=(F(),J(P)),r=n.Buffer;function i(c,s){for(var f in c)s[f]=c[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(c,s,f){return r(c,s,f)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(c,s,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,s,f)},o.alloc=function(c,s,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var u=r(c);return s!==void 0?typeof f=="string"?u.fill(s,f):u.fill(s):u.fill(0),u},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}}}),R={};I(R,{Struct:()=>a,StructError:()=>S,any:()=>ee,array:()=>te,assert:()=>A,assign:()=>L,bigint:()=>ne,boolean:()=>re,coerce:()=>x,create:()=>O,date:()=>ie,defaulted:()=>we,define:()=>p,deprecated:()=>Q,dynamic:()=>W,empty:()=>je,enums:()=>oe,func:()=>ce,instance:()=>se,integer:()=>fe,intersection:()=>ue,is:()=>k,lazy:()=>X,literal:()=>ae,map:()=>de,mask:()=>z,max:()=>ke,min:()=>Ee,never:()=>E,nonempty:()=>xe,nullable:()=>pe,number:()=>ye,object:()=>h,omit:()=>Y,optional:()=>N,partial:()=>Z,pattern:()=>Se,pick:()=>K,record:()=>le,refine:()=>m,regexp:()=>me,set:()=>be,size:()=>_e,string:()=>M,struct:()=>V,trimmed:()=>$e,tuple:()=>he,type:()=>g,union:()=>ge,unknown:()=>T,validate:()=>b});function C(e){return y(e)&&typeof e[Symbol.iterator]=="function"}function y(e){return typeof e=="object"&&e!=null}function _(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function d(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function G(e){const{done:t,value:n}=e.next();return t?void 0:n}function H(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:c}=n,{refinement:s,message:f=`Expected a value of type \`${c}\`${s?` with refinement \`${s}\``:""}, but received: \`${d(r)}\``}=e;return{value:r,type:c,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:f}}function*$(e,t,n,r){C(e)||(e=[e]);for(const i of e){const o=H(i,t,n,r);o&&(yield o)}}function*j(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:c=!1}=n,s={path:r,branch:i};if(o&&(e=t.coercer(e,s),c&&t.type!=="type"&&y(t.schema)&&y(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let f="valid";for(const u of t.validator(e,s))u.explanation=n.message,f="not_valid",yield[u,void 0];for(let[u,l,B]of t.entries(e,s)){const U=j(l,B,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:o,mask:c,message:n.message});for(const w of U)w[0]?(f=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):o&&(l=w[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):y(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(f!=="not_valid")for(const u of t.refiner(e,s))u.explanation=n.message,f="not_refined",yield[u,void 0];f==="valid"&&(yield[void 0,e])}function A(e,t,n){const r=b(e,t,{message:n});if(r[0])throw r[0]}function O(e,t,n){const r=b(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function z(e,t,n){const r=b(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function k(e,t){return!b(e,t)[0]}function b(e,t,n={}){const r=j(e,t,n),i=G(r);return i[0]?[new S(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function L(...e){const t=e[0].type==="type",n=e.map(i=>i.schema),r=Object.assign({},...n);return t?g(r):h(r)}function p(e,t){return new a({type:e,schema:null,validator:t})}function Q(e,t){return new a({...e,refiner:(n,r)=>n===void 0||e.refiner(n,r),validator(n,r){return n===void 0?!0:(t(n,r),e.validator(n,r))}})}function W(e){return new a({type:"dynamic",schema:null,*entries(t,n){yield*e(t,n).entries(t,n)},validator(t,n){return e(t,n).validator(t,n)},coercer(t,n){return e(t,n).coercer(t,n)},refiner(t,n){return e(t,n).refiner(t,n)}})}function X(e){let t;return new a({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator(n,r){return t??(t=e()),t.validator(n,r)},coercer(n,r){return t??(t=e()),t.coercer(n,r)},refiner(n,r){return t??(t=e()),t.refiner(n,r)}})}function Y(e,t){const{schema:n}=e,r={...n};for(const i of t)delete r[i];switch(e.type){case"type":return g(r);default:return h(r)}}function Z(e){const t=e instanceof a,n=t?{...e.schema}:{...e};for(const r in n)n[r]=N(n[r]);return t&&e.type==="type"?g(n):h(n)}function K(e,t){const{schema:n}=e,r={};for(const i of t)r[i]=n[i];switch(e.type){case"type":return g(r);default:return h(r)}}function V(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),p(e,t)}function ee(){return p("any",()=>!0)}function te(e){return new a({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${d(t)}`}})}function ne(){return p("bigint",e=>typeof e=="bigint")}function re(){return p("boolean",e=>typeof e=="boolean")}function ie(){return p("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${d(e)}`)}function oe(e){const t={},n=e.map(r=>d(r)).join();for(const r of e)t[r]=r;return new a({type:"enums",schema:t,validator(r){return e.includes(r)||`Expected one of \`${n}\`, but received: ${d(r)}`}})}function ce(){return p("func",e=>typeof e=="function"||`Expected a function, but received: ${d(e)}`)}function se(e){return p("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${d(t)}`)}function fe(){return p("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${d(e)}`)}function ue(e){return new a({type:"intersection",schema:null,*entries(t,n){for(const r of e)yield*r.entries(t,n)},*validator(t,n){for(const r of e)yield*r.validator(t,n)},*refiner(t,n){for(const r of e)yield*r.refiner(t,n)}})}function ae(e){const t=d(e),n=typeof e;return new a({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${d(r)}`}})}function de(e,t){return new a({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,e],yield[r,i,t]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${d(n)}`}})}function E(){return p("never",()=>!1)}function pe(e){return new a({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function ye(){return p("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${d(e)}`)}function h(e){const t=e?Object.keys(e):[],n=E();return new a({type:"object",schema:e||null,*entries(r){if(e&&y(r)){const i=new Set(Object.keys(r));for(const o of t)i.delete(o),yield[o,r[o],e[o]];for(const o of i)yield[o,r[o],n]}},validator(r){return y(r)||`Expected an object, but received: ${d(r)}`},coercer(r){return y(r)?{...r}:r}})}function N(e){return new a({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function le(e,t){return new a({type:"record",schema:null,*entries(n){if(y(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return y(n)||`Expected an object, but received: ${d(n)}`}})}function me(){return p("regexp",e=>e instanceof RegExp)}function be(e){return new a({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${d(t)}`}})}function M(){return p("string",e=>typeof e=="string"||`Expected a string, but received: ${d(e)}`)}function he(e){const t=E();return new a({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${d(n)}`}})}function g(e){const t=Object.keys(e);return new a({type:"type",schema:e,*entries(n){if(y(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return y(n)||`Expected an object, but received: ${d(n)}`},coercer(n){return y(n)?{...n}:n}})}function ge(e){const t=e.map(n=>n.type).join(" | ");return new a({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...c]=j(n,o,r),[s]=c;if(s[0])for(const[f]of c)f&&i.push(f);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${d(n)}`,...i]}})}function T(){return p("unknown",()=>!0)}function x(e,t,n){return new a({...e,coercer:(r,i)=>k(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function we(e,t,n={}){return x(e,T(),r=>{const i=typeof t=="function"?t():t;if(r===void 0)return i;if(!n.strict&&_(r)&&_(i)){const o={...r};let c=!1;for(const s in i)o[s]===void 0&&(o[s]=i[s],c=!0);if(c)return o}return r})}function $e(e){return x(e,M(),t=>t.trim())}function je(e){return m(e,"empty",t=>{const n=v(t);return n===0||`Expected an empty ${e.type} but received one with a size of \`${n}\``})}function v(e){return e instanceof Map||e instanceof Set?e.size:e.length}function ke(e,t,n={}){const{exclusive:r}=n;return m(e,"max",i=>r?i<t:i<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${i}\``)}function Ee(e,t,n={}){const{exclusive:r}=n;return m(e,"min",i=>r?i>t:i>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${i}\``)}function xe(e){return m(e,"nonempty",t=>v(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Se(e,t){return m(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)}function _e(e,t,n=t){const r=`Expected a ${e.type}`,i=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return m(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=n||`${r} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:c}=o;return t<=c&&c<=n||`${r} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=o;return t<=c&&c<=n||`${r} with a length ${i} but received one with a length of \`${c}\``}})}function m(e,t,n){return new a({...e,*refiner(r,i){yield*e.refiner(r,i);const o=n(r,i),c=$(o,i,e,r);for(const s of c)yield{...s,refinement:t}}})}var S,a,Ne=D({"../../node_modules/superstruct/dist/index.mjs"(){S=class extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:c}=e,s=c.length===0?r:`At path: ${c.join(".")} -- ${r}`;super(i??s),i!=null&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}},a=class{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=s=>s,entries:c=function*(){}}=e;this.type=t,this.schema=n,this.entries=c,this.coercer=o,r?this.validator=(s,f)=>{const u=r(s,f);return $(u,f,this,s)}:this.validator=()=>[],i?this.refiner=(s,f)=>{const u=i(s,f);return $(u,f,this,s)}:this.refiner=()=>[]}assert(e,t){return A(e,this,t)}create(e,t){return O(e,this,t)}is(e){return k(e,this)}mask(e,t){return z(e,this,t)}validate(e,t={}){return b(e,this,t)}}}});export{ee as any,te as array,A as assert,re as boolean,x as coerce,O as create,R as dist_exports,Ne as init_dist,se as instance,ae as literal,pe as nullable,ye as number,N as optional,le as record,ze as require_safe_buffer,M as string,he as tuple,g as type,ge as union,T as unknown};
