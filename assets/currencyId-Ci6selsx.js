import{global as Kr,init_dist as Qr}from"./dist-Q7olfaoJ.js";import{__assign as y,__extends as pe,__rest as P,__spreadArray as $,init_tslib_es6 as V}from"./tslib.es6-Dbpxy1u8.js";import{isTestEnv as Gr,logger as Jr,tryCatch as Yr}from"./hooks-BXO4d1DJ.js";import{AutoCleanedStrongCache as Hr,AutoCleanedWeakCache as Xr,Kind as R,Platform as x,QueryDocumentKeys as Zr,StrongCache as en,UniverseChainId as er,WeakCache as tr,cacheSizes as q,canUseWeakMap as de,canUseWeakSet as rr,compact as nr,devAssert as tn,equal as ke,getApolloCacheMemoryInternals as rn,getChainInfo as Ce,getInMemoryCacheMemoryInternals as nn,inspect as an,invariant$1 as k,is32ByteBase58String as on,isArray as A,isNode as St,isNonEmptyArray as Xe,isNonNullObject as M,lib_default as ir,maybeDeepFreeze as Le,newInvariantError as B,printBlockString as sn,registerGlobalCache as ar,stringifyForDisplay as un,toSupportedChainId as fn}from"./utils-BX1Fu73x.js";import{getAddress as cn,init_lib$2 as ln}from"./lib-DPFIyRke.js";import{ONE_MINUTE_MS as hn}from"./time-D_OqcZ4M.js";function pn(t){return`"${t.replace(dn,vn)}"`}const dn=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function vn(t){return yn[t.charCodeAt(0)]}const yn=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],or=Object.freeze({});function H(t,e,r=Zr){const n=new Map;for(const d of Object.values(R))n.set(d,mn(e,d));let i,a=Array.isArray(t),o=[t],s=-1,u=[],f=t,c,h;const l=[],p=[];do{s++;const d=s===o.length,E=d&&u.length!==0;if(d){if(c=p.length===0?void 0:l[l.length-1],f=h,h=p.pop(),E)if(a){f=f.slice();let S=0;for(const[D,w]of u){const C=D-S;w===null?(f.splice(C,1),S++):f[C]=w}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(const[S,D]of u)f[S]=D}s=i.index,o=i.keys,u=i.edits,a=i.inArray,i=i.prev}else if(h){if(c=a?s:o[s],f=h[c],f==null)continue;l.push(c)}let v;if(!Array.isArray(f)){var g,b;St(f)||tn(!1,`Invalid AST Node: ${an(f)}.`);const S=d?(g=n.get(f.kind))===null||g===void 0?void 0:g.leave:(b=n.get(f.kind))===null||b===void 0?void 0:b.enter;if(v=S==null?void 0:S.call(e,f,c,h,l,p),v===or)break;if(v===!1){if(!d){l.pop();continue}}else if(v!==void 0&&(u.push([c,v]),!d))if(St(v))f=v;else{l.pop();continue}}if(v===void 0&&E&&u.push([c,f]),d)l.pop();else{var _;i={inArray:a,index:s,keys:o,edits:u,prev:i},a=Array.isArray(f),o=a?f:(_=r[f.kind])!==null&&_!==void 0?_:[],s=-1,u=[],h&&p.push(h),h=f}}while(i!==void 0);return u.length!==0?u[u.length-1][1]:t}function mn(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function gn(t){return H(t,Sn)}const bn=80,Sn={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>m(t.definitions,`

`)},OperationDefinition:{leave(t){const e=O("(",m(t.variableDefinitions,", "),")"),r=m([t.operation,m([t.name,e]),m(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+O(" = ",r)+O(" ",m(n," "))},SelectionSet:{leave:({selections:t})=>N(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){const a=O("",t,": ")+e;let o=a+O("(",m(r,", "),")");return o.length>bn&&(o=a+O(`(
`,be(m(r,`
`)),`
)`)),m([o,m(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+O(" ",m(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>m(["...",O("on ",t),m(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${O("(",m(r,", "),")")} on ${e} ${O("",m(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?sn(t):pn(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+m(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+m(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+O("(",m(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>O("",t,`
`)+m(["schema",m(e," "),N(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>O("",t,`
`)+m(["scalar",e,m(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>O("",t,`
`)+m(["type",e,O("implements ",m(r," & ")),m(n," "),N(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>O("",t,`
`)+e+(Et(r)?O(`(
`,be(m(r,`
`)),`
)`):O("(",m(r,", "),")"))+": "+n+O(" ",m(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>O("",t,`
`)+m([e+": "+r,O("= ",n),m(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>O("",t,`
`)+m(["interface",e,O("implements ",m(r," & ")),m(n," "),N(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>O("",t,`
`)+m(["union",e,m(r," "),O("= ",m(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>O("",t,`
`)+m(["enum",e,m(r," "),N(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>O("",t,`
`)+m([e,m(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>O("",t,`
`)+m(["input",e,m(r," "),N(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>O("",t,`
`)+"directive @"+e+(Et(r)?O(`(
`,be(m(r,`
`)),`
)`):O("(",m(r,", "),")"))+(n?" repeatable":"")+" on "+m(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>m(["extend schema",m(t," "),N(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>m(["extend scalar",t,m(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>m(["extend type",t,O("implements ",m(e," & ")),m(r," "),N(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>m(["extend interface",t,O("implements ",m(e," & ")),m(r," "),N(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>m(["extend union",t,m(e," "),O("= ",m(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>m(["extend enum",t,m(e," "),N(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>m(["extend input",t,m(e," "),N(r)]," ")}};function m(t,e=""){var r;return(r=t==null?void 0:t.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function N(t){return O(`{
`,be(m(t,`
`)),`
}`)}function O(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function be(t){return O("  ",t.replace(/\n/g,`
  `))}function Et(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function Ae(t,e){var r=t.directives;return!r||!r.length?!0:On(r).every(function(n){var i=n.directive,a=n.ifArgument,o=!1;return a.value.kind==="Variable"?(o=e&&e[a.value.name.value],k(o!==void 0,68,i.name.value)):o=a.value.value,i.name.value==="skip"?!o:o})}function En(t,e,r){var n=new Set(t),i=n.size;return H(e,{Directive:function(a){if(n.delete(a.name.value)&&(!r||!n.size))return or}}),r?!n.size:n.size<i}function _a(t){return t&&En(["client","export"],t,!0)}function _n(t){var e=t.name.value;return e==="skip"||e==="include"}function On(t){var e=[];return t&&t.length&&t.forEach(function(r){if(_n(r)){var n=r.arguments,i=r.name.value;k(n&&n.length===1,69,i);var a=n[0];k(a.name&&a.name.value==="if",70,i);var o=a.value;k(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),71,i),e.push({directive:r,ifArgument:a})}}),e}const wn=()=>Object.create(null),{forEach:Dn,slice:_t}=Array.prototype,{hasOwnProperty:Tn}=Object.prototype;var ve=class sr{constructor(e=!0,r=wn){this.weakness=e,this.makeData=r}lookup(){return this.lookupArray(arguments)}lookupArray(e){let r=this;return Dn.call(e,n=>r=r.getChildTrie(n)),Tn.call(r,"data")?r.data:r.data=this.makeData(_t.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){const a=r.mapFor(e[n],!1);r=a&&a.get(e[n])}return r&&r.data}remove(){return this.removeArray(arguments)}removeArray(e){let r;if(e.length){const n=e[0],i=this.mapFor(n,!1),a=i&&i.get(n);a&&(r=a.removeArray(_t.call(e,1)),!a.data&&!a.weak&&!(a.strong&&a.strong.size)&&i.delete(n))}else r=this.data,delete this.data;return r}getChildTrie(e){const r=this.mapFor(e,!0);let n=r.get(e);return n||r.set(e,n=new sr(this.weakness,this.makeData)),n}mapFor(e,r){return this.weakness&&kn(e)?this.weak||(r?this.weak=new WeakMap:void 0):this.strong||(r?this.strong=new Map:void 0)}};function kn(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}V();function Cn(t,e){var r=e,n=[];t.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw B(72,a.operation,a.name?" named '".concat(a.name.value,"'"):"");a.kind==="FragmentDefinition"&&n.push(a)}),typeof r>"u"&&(k(n.length===1,73,n.length),r=n[0].name.value);var i=y(y({},t),{definitions:$([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function Ze(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function Fe(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return k(n,74,r),n||null}default:return null}}var U=Object.assign(function(e){return JSON.stringify(e,An)},{reset:function(){Q=new Hr(q.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&ar("canonicalStringify",function(){return Q.size});var Q;U.reset();function An(t,e){if(e&&typeof e=="object"){var r=Object.getPrototypeOf(e);if(r===Object.prototype||r===null){var n=Object.keys(e);if(n.every(Fn))return e;var i=JSON.stringify(n),a=Q.get(i);if(!a){n.sort();var o=JSON.stringify(n);a=Q.get(o)||n,Q.set(i,a),Q.set(o,a)}var s=Object.create(r);return a.forEach(function(u){s[u]=e[u]}),s}}return e}function Fn(t,e,r){return e===0||r[e-1]<=t}function J(t){return{__ref:String(t)}}function T(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function Oa(t){return M(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function In(t){return t.kind==="StringValue"}function jn(t){return t.kind==="BooleanValue"}function Mn(t){return t.kind==="IntValue"}function Rn(t){return t.kind==="FloatValue"}function Vn(t){return t.kind==="Variable"}function Nn(t){return t.kind==="ObjectValue"}function xn(t){return t.kind==="ListValue"}function Pn(t){return t.kind==="EnumValue"}function zn(t){return t.kind==="NullValue"}function X(t,e,r,n){if(Mn(r)||Rn(r))t[e.value]=Number(r.value);else if(jn(r)||In(r))t[e.value]=r.value;else if(Nn(r)){var i={};r.fields.map(function(o){return X(i,o.name,o.value,n)}),t[e.value]=i}else if(Vn(r)){var a=(n||{})[r.name.value];t[e.value]=a}else if(xn(r))t[e.value]=r.values.map(function(o){var s={};return X(s,e,o,n),s[e.value]});else if(Pn(r))t[e.value]=r.value;else if(zn(r))t[e.value]=null;else throw B(83,e.value,r.kind)}function Bn(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(a){var o=a.name,s=a.value;return X(r[i.name.value],o,s,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var a=i.name,o=i.value;return X(n,a,o,e)})),ur(t.name.value,n,r)}var Wn=["connection","include","skip","client","rest","export","nonreactive"],ne=U,ur=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(s){i[s]=e[s]}),"".concat(r.connection.key,"(").concat(ne(i),")")}else return r.connection.key;var a=t;if(e){var o=ne(e);a+="(".concat(o,")")}return r&&Object.keys(r).forEach(function(s){Wn.indexOf(s)===-1&&(r[s]&&Object.keys(r[s]).length?a+="@".concat(s,"(").concat(ne(r[s]),")"):a+="@".concat(s))}),a},{setStringify:function(t){var e=ne;return ne=t,e}});function et(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,a=n.value;return X(r,i,a,e)}),r}return null}function Z(t){return t.alias?t.alias.value:t.name.value}function $e(t,e,r){for(var n,i=0,a=e.selections;i<a.length;i++){var o=a[i];if(K(o)){if(o.name.value==="__typename")return t[Z(o)]}else n?n.push(o):n=[o]}if(typeof t.__typename=="string")return t.__typename;if(n)for(var s=0,u=n;s<u.length;s++){var o=u[s],f=$e(t,Fe(o,r).selectionSet,r);if(typeof f=="string")return f}}function K(t){return t.kind==="Field"}function wa(t){return t.kind==="InlineFragment"}function ye(t){k(t&&t.kind==="Document",75);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw B(76,r.kind);return r});return k(e.length<=1,77,e.length),t}function tt(t){return ye(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Da(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function rt(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Ln(t){var e=tt(t);return k(e&&e.operation==="query",78),e}function $n(t){k(t.kind==="Document",79),k(t.definitions.length<=1,80);var e=t.definitions[0];return k(e.kind==="FragmentDefinition",81),e}function nt(t){ye(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var a=i.operation;if(a==="query"||a==="mutation"||a==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw B(82)}function fr(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&X(e,n.variable.name,n.defaultValue)}),e}const Un=()=>Object.create(null),{forEach:qn,slice:Kn}=Array.prototype,{hasOwnProperty:Qn}=Object.prototype;var Gn=class cr{constructor(e=!0,r=Un){this.weakness=e,this.makeData=r}lookup(...e){return this.lookupArray(e)}lookupArray(e){let r=this;return qn.call(e,n=>r=r.getChildTrie(n)),Qn.call(r,"data")?r.data:r.data=this.makeData(Kn.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){const a=this.weakness&&Ot(e[n])?r.weak:r.strong;r=a&&a.get(e[n])}return r&&r.data}getChildTrie(e){const r=this.weakness&&Ot(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=r.get(e);return n||r.set(e,n=new cr(this.weakness,this.makeData)),n}};function Ot(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}Qr();let j=null;const wt={};let Jn=1;const Yn=()=>class{constructor(){this.id=["slot",Jn++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=j;e;e=e.parent)if(this.id in e.slots){const r=e.slots[this.id];if(r===wt)break;return e!==j&&(j.slots[this.id]=r),!0}return j&&(j.slots[this.id]=wt),!1}getValue(){if(this.hasValue())return j.slots[this.id]}withValue(e,r,n,i){const a={__proto__:null,[this.id]:e},o=j;j={parent:o,slots:a};try{return r.apply(i,n)}finally{j=o}}static bind(e){const r=j;return function(){const n=j;try{return j=r,e.apply(this,arguments)}finally{j=n}}}static noContext(e,r,n){if(j){const i=j;try{return j=null,e.apply(n,r)}finally{j=i}}else return e.apply(n,r)}};function Dt(t){try{return t()}catch{}}const Me="@wry/context:Slot",Hn=Dt(()=>globalThis)||Dt(()=>Kr)||Object.create(null),Tt=Hn,it=Tt[Me]||Array[Me]||(function(t){try{Object.defineProperty(Tt,Me,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}})(Yn()),{bind:ka,noContext:Ca}=it,Ie=new it,{hasOwnProperty:Xn}=Object.prototype,at=Array.from||function(t){const e=[];return t.forEach(r=>e.push(r)),e};function we(t){const{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}const fe=[],Zn=100;function ee(t,e){if(!t)throw new Error(e||"assertion failure")}function lr(t,e){const r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function hr(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function pr(t){return t.slice(0)}var dr=class vr{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++vr.count}peek(){if(this.value.length===1&&!W(this))return kt(this),this.value[0]}recompute(e){return ee(!this.recomputing,"already recomputing"),kt(this),W(this)?ei(this,e):hr(this.value)}setDirty(){this.dirty||(this.dirty=!0,yr(this),we(this))}dispose(){this.setDirty(),Er(this),ot(this,(e,r)=>{e.setDirty(),_r(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=fe.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(at(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),fe.push(this.deps),this.deps=null)}};dr.count=0;function kt(t){const e=Ie.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),W(t)?gr(e,t):br(e,t),e}function ei(t,e){return Er(t),Ie.withValue(t,ti,[t,e]),ni(t,e)&&ri(t),hr(t.value)}function ti(t,e){t.recomputing=!0;const{normalizeResult:r}=t;let n;r&&t.value.length===1&&(n=pr(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),r&&n&&!lr(n,t.value))try{t.value[0]=r(t.value[0],n[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function W(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function ri(t){t.dirty=!1,!W(t)&&mr(t)}function yr(t){ot(t,gr)}function mr(t){ot(t,br)}function ot(t,e){const r=t.parents.size;if(r){const n=at(t.parents);for(let i=0;i<r;++i)e(n[i],t)}}function gr(t,e){ee(t.childValues.has(e)),ee(W(e));const r=!W(t);if(!t.dirtyChildren)t.dirtyChildren=fe.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&yr(t)}function br(t,e){ee(t.childValues.has(e)),ee(!W(e));const r=t.childValues.get(e);r.length===0?t.childValues.set(e,pr(e.value)):lr(r,e.value)||t.setDirty(),Sr(t,e),!W(t)&&mr(t)}function Sr(t,e){const r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(fe.length<Zn&&fe.push(r),t.dirtyChildren=null))}function Er(t){t.childValues.size>0&&t.childValues.forEach((e,r)=>{_r(t,r)}),t.forgetDeps(),ee(t.dirtyChildren===null)}function _r(t,e){e.parents.delete(t),t.childValues.delete(e),Sr(t,e)}function ni(t,e){if(typeof t.subscribe=="function")try{we(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}const ii={setDirty:!0,dispose:!0,forget:!0};function Or(t){const e=new Map,r=t&&t.subscribe;function n(i){const a=Ie.getValue();if(a){let o=e.get(i);o||e.set(i,o=new Set),a.dependOn(o),typeof r=="function"&&(we(o),o.unsubscribe=r(i))}}return n.dirty=function(a,o){const s=e.get(a);if(s){const u=o&&Xn.call(ii,o)?o:"setDirty";at(s).forEach(f=>f[u]()),e.delete(a),we(s)}},n}let Ct;function ai(...t){return(Ct||(Ct=new Gn(typeof WeakMap=="function"))).lookupArray(t)}const Re=new Set;function ce(t,{max:e=Math.pow(2,16),keyArgs:r,makeCacheKey:n=ai,normalizeResult:i,subscribe:a,cache:o=en}=Object.create(null)){const s=typeof o=="function"?new o(e,l=>l.dispose()):o,u=function(){const l=n.apply(null,r?r.apply(null,arguments):arguments);if(l===void 0)return t.apply(null,arguments);let p=s.get(l);p||(s.set(l,p=new dr(t)),p.normalizeResult=i,p.subscribe=a,p.forget=()=>s.delete(l));const g=p.recompute(Array.prototype.slice.call(arguments));return s.set(l,p),Re.add(s),Ie.hasValue()||(Re.forEach(b=>b.clean()),Re.clear()),g};Object.defineProperty(u,"size",{get:()=>s.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:e,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:a,cache:s});function f(l){const p=l&&s.get(l);p&&p.setDirty()}u.dirtyKey=f,u.dirty=function(){f(n.apply(null,arguments))};function c(l){const p=l&&s.get(l);if(p)return p.peek()}u.peekKey=c,u.peek=function(){return c(n.apply(null,arguments))};function h(l){return l?s.delete(l):!1}return u.forgetKey=h,u.forget=function(){return h(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(u)}function oi(t){return t}var si=(function(){function t(e,r){r===void 0&&(r=Object.create(null)),this.resultCache=rr?new WeakSet:new Set,this.transform=e,r.getCacheKey&&(this.getCacheKey=r.getCacheKey),this.cached=r.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(oi,{cache:!1})},t.split=function(e,r,n){return n===void 0&&(n=t.identity()),Object.assign(new t(function(i){var a=e(i)?r:n;return a.transformDocument(i)},{cache:!1}),{left:r,right:n})},t.prototype.resetCache=function(){var e=this;if(this.cached){var r=new ve(de);this.performWork=ce(t.prototype.performWork.bind(this),{makeCacheKey:function(n){var i=e.getCacheKey(n);if(i)return k(Array.isArray(i),67),r.lookupArray(i)},max:q["documentTransform.cache"],cache:tr})}},t.prototype.performWork=function(e){return ye(e),this.transform(e)},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var r=this.performWork(e);return this.resultCache.add(r),r},t.prototype.concat=function(e){var r=this;return Object.assign(new t(function(n){return e.transformDocument(r.transformDocument(n))},{cache:!1}),{left:this,right:e})},t})(),oe,wr=Object.assign(function(t){var e=oe.get(t);return e||(e=gn(t),oe.set(t,e)),e},{reset:function(){oe=new Xr(q.print||2e3)}});wr.reset();globalThis.__DEV__!==!1&&ar("print",function(){return oe?oe.size:0});V();var At={kind:R.FIELD,name:{kind:R.NAME,value:"__typename"}};function Dr(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind===R.FRAGMENT_SPREAD&&Dr(e[r.name.value],e)})}function ui(t){return Dr(tt(t)||$n(t),Ze(rt(t)))?null:t}function fi(t){var e=new Map,r=new Map;return t.forEach(function(n){n&&(n.name?e.set(n.name,n):n.test&&r.set(n.test,n))}),function(n){var i=e.get(n.name.value);return!i&&r.size&&r.forEach(function(a,o){o(n)&&(i=a)}),i}}function Ft(t){var e=new Map;return function(n){n===void 0&&(n=t);var i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function ci(t,e){ye(e);for(var r=Ft(""),n=Ft(""),i=function(d){for(var E=0,v=void 0;E<d.length&&(v=d[E]);++E)if(!A(v)){if(v.kind===R.OPERATION_DEFINITION)return r(v.name&&v.name.value);if(v.kind===R.FRAGMENT_DEFINITION)return n(v.name.value)}return globalThis.__DEV__!==!1&&k.error(84),null},a=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===R.OPERATION_DEFINITION&&++a;var s=fi(t),u=function(d){return Xe(d)&&d.map(s).some(function(E){return E&&E.remove})},f=new Map,c=!1,h={enter:function(d){if(u(d.directives))return c=!0,null}},l=H(e,{Field:h,InlineFragment:h,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(d,E,v,S,D){var w=i(D);w&&w.variables.add(d.name.value)}},FragmentSpread:{enter:function(d,E,v,S,D){if(u(d.directives))return c=!0,null;var w=i(D);w&&w.fragmentSpreads.add(d.name.value)}},FragmentDefinition:{enter:function(d,E,v,S){f.set(JSON.stringify(S),d)},leave:function(d,E,v,S){var D=f.get(JSON.stringify(S));if(d===D)return d;if(a>0&&d.selectionSet.selections.every(function(w){return w.kind===R.FIELD&&w.name.value==="__typename"}))return n(d.name.value).removed=!0,c=!0,null}},Directive:{leave:function(d){if(s(d))return c=!0,null}}});if(!c)return e;var p=function(d){return d.transitiveVars||(d.transitiveVars=new Set(d.variables),d.removed||d.fragmentSpreads.forEach(function(E){p(n(E)).transitiveVars.forEach(function(v){d.transitiveVars.add(v)})})),d},g=new Set;l.definitions.forEach(function(d){d.kind===R.OPERATION_DEFINITION?p(r(d.name&&d.name.value)).fragmentSpreads.forEach(function(E){g.add(E)}):d.kind===R.FRAGMENT_DEFINITION&&a===0&&!n(d.name.value).removed&&g.add(d.name.value)}),g.forEach(function(d){p(n(d)).fragmentSpreads.forEach(function(E){g.add(E)})});var b=function(d){return!!(!g.has(d)||n(d).removed)},_={enter:function(d){if(b(d.name.value))return null}};return ui(H(l,{FragmentSpread:_,FragmentDefinition:_,OperationDefinition:{leave:function(d){if(d.variableDefinitions){var E=p(r(d.name&&d.name.value)).transitiveVars;if(E.size<d.variableDefinitions.length)return y(y({},d),{variableDefinitions:d.variableDefinitions.filter(function(v){return E.has(v.variable.name.value)})})}}}}))}var st=Object.assign(function(t){return H(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind===R.OPERATION_DEFINITION)){var i=e.selections;if(i){var a=i.some(function(s){return K(s)&&(s.name.value==="__typename"||s.name.value.lastIndexOf("__",0)===0)});if(!a){var o=n;if(!(K(o)&&o.directives&&o.directives.some(function(s){return s.name.value==="export"})))return y(y({},e),{selections:$($([],i,!0),[At],!1)})}}}}}})},{added:function(t){return t===At}});function Aa(t){var e=nt(t),r=e.operation;if(r==="query")return t;var n=H(t,{OperationDefinition:{enter:function(i){return y(y({},i),{operation:"query"})}}});return n}function Fa(t){ye(t);var e=ci([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e}V();var li=Object.prototype.hasOwnProperty;function It(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ut(t)}function ut(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new te,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var hi=function(t,e,r){return this.merge(t[r],e[r])},te=(function(){function t(e){e===void 0&&(e=hi),this.reconciler=e,this.isObject=M,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return M(r)&&M(e)?(Object.keys(r).forEach(function(o){if(li.call(e,o)){var s=e[o];if(r[o]!==s){var u=n.reconciler.apply(n,$([e,r,o],i,!1));u!==s&&(e=n.shallowCopyForMerge(e),e[o]=u)}}else e=n.shallowCopyForMerge(e),e[o]=r[o]}),e):r},t.prototype.shallowCopyForMerge=function(e){return M(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=y({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t})();V();function Ve(t){return t===void 0&&(t=!1),{keyArgs:t,read:function(e,r){var n=r.canRead,i=r.readField;if(!e)return e;var a=[],o="",s="";e.edges.forEach(function(h){n(i("node",h))&&(a.push(h),h.cursor&&(o=o||h.cursor||"",s=h.cursor||s))}),a.length>1&&o===s&&(o="");var u=e.pageInfo||{},f=u.startCursor,c=u.endCursor;return y(y({},Ne(e)),{edges:a,pageInfo:y(y({},e.pageInfo),{startCursor:f||o,endCursor:c||s})})},merge:function(e,r,n){var i=n.args,a=n.isReference,o=n.readField;if(e||(e=di()),!r)return e;var s=r.edges?r.edges.map(function(F){return a(F=y({},F))&&(F.cursor=o("cursor",F)),F}):[];if(r.pageInfo){var u=r.pageInfo,f=u.startCursor,c=u.endCursor,h=s[0],l=s[s.length-1];h&&f&&(h.cursor=f),l&&c&&(l.cursor=c);var p=h&&h.cursor;p&&!f&&(r=It(r,{pageInfo:{startCursor:p}}));var g=l&&l.cursor;g&&!c&&(r=It(r,{pageInfo:{endCursor:g}}))}var b=e.edges,_=[];if(i&&i.after){var d=b.findIndex(function(F){return F.cursor===i.after});d>=0&&(b=b.slice(0,d+1))}else if(i&&i.before){var d=b.findIndex(function(me){return me.cursor===i.before});_=d<0?b:b.slice(d),b=[]}else r.edges&&(b=[]);var E=$($($([],b,!0),s,!0),_,!0),v=y(y({},r.pageInfo),e.pageInfo);if(r.pageInfo){var S=r.pageInfo,D=S.hasPreviousPage,w=S.hasNextPage,f=S.startCursor,c=S.endCursor,C=P(S,["hasPreviousPage","hasNextPage","startCursor","endCursor"]);Object.assign(v,C),b.length||(D!==void 0&&(v.hasPreviousPage=D),f!==void 0&&(v.startCursor=f)),_.length||(w!==void 0&&(v.hasNextPage=w),c!==void 0&&(v.endCursor=c))}return y(y(y({},Ne(e)),Ne(r)),{edges:E,pageInfo:v})}}}var Ne=function(t){return P(t,pi)},pi=["edges","pageInfo"];function di(){return{edges:[],pageInfo:{hasPreviousPage:!1,hasNextPage:!0,startCursor:"",endCursor:""}}}function vi(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=yi(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yi(t,e){if(t){if(typeof t=="string")return jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(t,e)}}function jt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ft(t,e,r){return e&&Mt(t.prototype,e),r&&Mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var ct=function(){return typeof Symbol=="function"},lt=function(t){return ct()&&!!Symbol[t]},ht=function(t){return lt(t)?Symbol[t]:"@@"+t};ct()&&!lt("observable")&&(Symbol.observable=Symbol("observable"));var mi=ht("iterator"),Ue=ht("observable"),Tr=ht("species");function De(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function ie(t){var e=t.constructor;return e!==void 0&&(e=e[Tr],e===null&&(e=void 0)),e!==void 0?e:je}function gi(t){return t instanceof je}function re(t){re.log?re.log(t):setTimeout(function(){throw t})}function Se(t){Promise.resolve().then(function(){try{t()}catch(e){re(e)}})}function kr(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=De(e,"unsubscribe");r&&r.call(e)}}catch(n){re(n)}}function qe(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function bi(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(Cr(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function Cr(t,e,r){t._state="running";var n=t._observer;try{var i=De(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(qe(t),i)i.call(n,r);else throw r;break;case"complete":qe(t),i&&i.call(n);break}}catch(a){re(a)}t._state==="closed"?kr(t):t._state==="running"&&(t._state="ready")}function xe(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],Se(function(){return bi(t)});return}Cr(t,e,r)}}var Si=(function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new Ei(this);try{this._cleanup=n.call(void 0,i)}catch(a){i.error(a)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(qe(this),kr(this))},ft(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t})(),Ei=(function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){xe(this._subscription,"next",n)},e.error=function(n){xe(this._subscription,"error",n)},e.complete=function(){xe(this._subscription,"complete")},ft(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t})(),je=(function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Si(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(a,o){if(typeof n!="function"){o(new TypeError(n+" is not a function"));return}function s(){u.unsubscribe(),a()}var u=i.subscribe({next:function(f){try{n(f,s)}catch(c){o(c),u.unsubscribe()}},error:o,complete:a})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ie(this);return new a(function(o){return i.subscribe({next:function(s){try{s=n(s)}catch(u){return o.error(u)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ie(this);return new a(function(o){return i.subscribe({next:function(s){try{if(!n(s))return}catch(u){return o.error(u)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ie(this),o=arguments.length>1,s=!1,u=arguments[1],f=u;return new a(function(c){return i.subscribe({next:function(h){var l=!s;if(s=!0,!l||o)try{f=n(f,h)}catch(p){return c.error(p)}else f=h},error:function(h){c.error(h)},complete:function(){if(!s&&!o)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(f),c.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=ie(this);return new s(function(u){var f,c=0;function h(l){f=l.subscribe({next:function(p){u.next(p)},error:function(p){u.error(p)},complete:function(){c===a.length?(f=void 0,u.complete()):h(s.from(a[c++]))}})}return h(n),function(){f&&(f.unsubscribe(),f=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ie(this);return new a(function(o){var s=[],u=i.subscribe({next:function(c){if(n)try{c=n(c)}catch(l){return o.error(l)}var h=a.from(c).subscribe({next:function(l){o.next(l)},error:function(l){o.error(l)},complete:function(){var l=s.indexOf(h);l>=0&&s.splice(l,1),f()}});s.push(h)},error:function(c){o.error(c)},complete:function(){f()}});function f(){u.closed&&s.length===0&&o.complete()}return function(){s.forEach(function(c){return c.unsubscribe()}),u.unsubscribe()}})},e[Ue]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var a=De(n,Ue);if(a){var o=a.call(n);if(Object(o)!==o)throw new TypeError(o+" is not an object");return gi(o)&&o.constructor===i?o:new i(function(s){return o.subscribe(s)})}if(lt("iterator")&&(a=De(n,mi),a))return new i(function(s){Se(function(){if(!s.closed){for(var u=vi(a.call(n)),f;!(f=u()).done;){var c=f.value;if(s.next(c),s.closed)return}s.complete()}})});if(Array.isArray(n))return new i(function(s){Se(function(){if(!s.closed){for(var u=0;u<n.length;++u)if(s.next(n[u]),s.closed)return;s.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=typeof this=="function"?this:t;return new o(function(s){Se(function(){if(!s.closed){for(var u=0;u<i.length;++u)if(s.next(i[u]),s.closed)return;s.complete()}})})},ft(t,null,[{key:Tr,get:function(){return this}}]),t})();ct()&&Object.defineProperty(je,Symbol("extensions"),{value:{symbol:Ue,hostReportError:re},configurable:!0});var _i=Object.prototype.toString;function Oi(t){return Ke(t)}function Ke(t,e){switch(_i.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,a){r[a]=Ke(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=Ke(t[i],e)}),n}default:return t}}V();function wi(t,e,r,n){var i=e.data,a=P(e,["data"]),o=r.data,s=P(r,["data"]);return ir(a,s)&&Ee(nt(t).selectionSet,i,o,{fragmentMap:Ze(rt(t)),variables:n})}function Ee(t,e,r,n){if(e===r)return!0;var i=new Set;return t.selections.every(function(a){if(i.has(a)||(i.add(a),!Ae(a,n.variables))||Rt(a))return!0;if(K(a)){var o=Z(a),s=e&&e[o],u=r&&r[o],f=a.selectionSet;if(!f)return ir(s,u);var c=Array.isArray(s),h=Array.isArray(u);if(c!==h)return!1;if(c&&h){var l=s.length;if(u.length!==l)return!1;for(var p=0;p<l;++p)if(!Ee(f,s[p],u[p],n))return!1;return!0}return Ee(f,s,u,n)}else{var g=Fe(a,n.fragmentMap);if(g)return Rt(g)?!0:Ee(g.selectionSet,e,r,n)}})}function Rt(t){return!!t.directives&&t.directives.some(Di)}function Di(t){return t.name.value==="nonreactive"}V();var Ar=(function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=ce(Cn,{max:q["cache.fragmentQueryDocuments"]||1e3,cache:tr})}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(y(y({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.watchFragment=function(e){var r=this,n=e.fragment,i=e.fragmentName,a=e.from,o=e.optimistic,s=o===void 0?!0:o,u=this.getFragmentDoc(n,i),f={returnPartialData:!0,id:typeof a=="string"?a:this.identify(a),query:u,optimistic:s},c;return new je(function(h){return r.watch(y(y({},f),{immediate:!0,callback:function(l){if(!(c&&wi(u,{data:c==null?void 0:c.result},{data:l.result}))){var p={data:l.result,complete:!!l.complete};l.missing&&(p.missing=ut(l.missing.map(function(g){return g.missing}))),c=l,h.next(p)}}}))})},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(y(y({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=P(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,a=e.fragmentName,o=P(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,a),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),a=r(i);return a==null?i:(n.writeQuery(y(y({},e),{data:a})),a)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),a=r(i);return a==null?i:(n.writeFragment(y(y({},e),{data:a})),a)}})},t})();globalThis.__DEV__!==!1&&(Ar.prototype.getMemoryInternals=rn);V();var Fr=(function(t){pe(e,t);function e(r,n,i,a){var o,s=t.call(this,r)||this;if(s.message=r,s.path=n,s.query=i,s.variables=a,Array.isArray(s.path)){s.missing=s.message;for(var u=s.path.length-1;u>=0;--u)s.missing=(o={},o[s.path[u]]=s.missing,o)}else s.missing=s.path;return s.__proto__=e.prototype,s}return e})(Error),I=Object.prototype.hasOwnProperty;function ae(t){return t==null}function Ir(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=ae(n)?ae(i)?void 0:{_id:i}:{id:n}),ae(n)&&!ae(i)&&(n=i),!ae(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var jr={dataIdFromObject:Ir,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Ti(t){return nr(jr,t)}function Mr(t){var e=t.canonizeResults;return e===void 0?jr.canonizeResults:e}function ki(t,e){return T(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var Rr=/^[_a-z][_0-9a-z]*/i;function L(t){var e=t.match(Rr);return e?e[0]:t}function Qe(t,e,r){return M(e)?A(e)?e.every(function(n){return Qe(t,n,r)}):t.selections.every(function(n){if(K(n)&&Ae(n,r)){var i=Z(n);return I.call(e,i)&&(!n.selectionSet||Qe(n.selectionSet,e[i],r))}return!0}):!1}function G(t){return M(t)&&!T(t)&&!A(t)}function Ci(){return new te}function Vr(t,e){var r=Ze(rt(t));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&e&&(i=e.lookup(n)),i||null}}}V();var _e=Object.create(null),Pe=function(){return _e},Vt=Object.create(null),le=(function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return Le(T(i)?n.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return T(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,a){if(typeof i=="string")return J(i);if(T(i))return i;var o=n.policies.identify(i)[0];if(o){var s=J(o);return a&&n.merge(o,i),s}}}return t.prototype.toObject=function(){return y({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),I.call(this.data,e)){var n=this.data[e];if(n&&I.call(n,r))return n[r]}if(r==="__typename"&&I.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof z)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),I.call(this.data,e))return this.data[e];if(this instanceof z)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;T(e)&&(e=e.__ref),T(r)&&(r=r.__ref);var a=typeof e=="string"?this.lookup(i=e):e,o=typeof r=="string"?this.lookup(i=r):r;if(o){k(typeof i=="string",1);var s=new te(Fi).merge(a,o);if(this.data[i]=s,s!==a&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);a||(u.__exists=1),Object.keys(o).forEach(function(f){if(!a||a[f]!==s[f]){u[f]=1;var c=L(f);c!==f&&!n.policies.hasKeyArgs(s.__typename,c)&&(u[c]=1),s[f]===void 0&&!(n instanceof z)&&delete s[f]}}),u.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===s.__typename&&delete u.__typename,Object.keys(u).forEach(function(f){return n.group.dirty(i,f)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var a=Object.create(null),o=!1,s=!0,u={DELETE:_e,INVALIDATE:Vt,isReference:T,toReference:this.toReference,canRead:this.canRead,readField:function(f,c){return n.policies.readField(typeof f=="string"?{fieldName:f,from:c||J(e)}:f,{store:n})}};if(Object.keys(i).forEach(function(f){var c=L(f),h=i[f];if(h!==void 0){var l=typeof r=="function"?r:r[f]||r[c];if(l){var p=l===Pe?_e:l(Le(h),y(y({},u),{fieldName:c,storeFieldName:f,storage:n.getStorage(e,f)}));if(p===Vt)n.group.dirty(e,f);else if(p===_e&&(p=void 0),p!==h&&(a[f]=p,o=!0,h=p,globalThis.__DEV__!==!1)){var g=function(D){if(n.lookup(D.__ref)===void 0)return globalThis.__DEV__!==!1&&k.warn(2,D),!0};if(T(p))g(p);else if(Array.isArray(p))for(var b=!1,_=void 0,d=0,E=p;d<E.length;d++){var v=E[d];if(T(v)){if(b=!0,g(v))break}else if(typeof v=="object"&&v){var S=n.policies.identify(v)[0];S&&(_=v)}if(b&&_!==void 0){globalThis.__DEV__!==!1&&k.warn(3,_);break}}}}h!==void 0&&(s=!1)}}),o)return this.merge(e,a),s&&(this instanceof z?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,a=this.lookup(e);if(a){var o=this.getFieldValue(a,"__typename"),s=r&&n?this.policies.getStoreFieldName({typename:o,fieldName:r,args:n}):r;return this.modify(e,s?(i={},i[s]=Pe,i):Pe)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(I.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof z&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){I.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(a){e&&I.call(e,a)||r.delete(a)}),e){var n=e.__META,i=P(e,["__META"]);Object.keys(i).forEach(function(a){r.merge(a,i[a])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof z?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(o){I.call(n,o)&&(Object.keys(e.findChildRefIds(o)).forEach(r.add,r),delete n[o])});var i=Object.keys(n);if(i.length){for(var a=this;a instanceof z;)a=a.parent;i.forEach(function(o){return a.delete(o)})}return i},t.prototype.findChildRefIds=function(e){if(!I.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(a){T(a)&&(r[a.__ref]=!0),M(a)&&Object.keys(a).forEach(function(o){var s=a[o];M(s)&&i.add(s)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t})(),Nr=(function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?Or():null,this.keyMaker=new ve(de)},t.prototype.depend=function(e,r){if(this.d){this.d(ze(e,r));var n=L(r);n!==r&&this.d(ze(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(ze(e,r),r==="__exists"?"forget":"setDirty")},t})();function ze(t,e){return e+"#"+t}function Nt(t,e){se(t)&&t.group.depend(e,"__exists")}(function(t){var e=(function(r){pe(n,r);function n(i){var a=i.policies,o=i.resultCaching,s=o===void 0?!0:o,u=i.seed,f=r.call(this,a,new Nr(s))||this;return f.stump=new Ai(f),f.storageTrie=new ve(de),u&&f.replace(u),f}return n.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n})(t);t.Root=e})(le||(le={}));var z=(function(t){pe(e,t);function e(r,n,i,a){var o=t.call(this,n.policies,a)||this;return o.id=r,o.parent=n,o.replay=i,o.group=a,i(o),o}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var o=n.data[a],s=i.lookup(a);s?o?o!==s&&Object.keys(o).forEach(function(u){ke(o[u],s[u])||n.group.dirty(a,u)}):(n.group.dirty(a,"__exists"),Object.keys(s).forEach(function(u){n.group.dirty(a,u)})):n.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return y(y({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return I.call(this.data,r)?y(y({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e})(le),Ai=(function(t){pe(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new Nr(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(r,n){return this.parent.merge(r,n)},e})(z);function Fi(t,e,r){var n=t[r],i=e[r];return ke(n,i)?n:i}function se(t){return!!(t instanceof le&&t.group.caching)}V();function Ii(t){return M(t)?A(t)?t.slice(0):y({__proto__:Object.getPrototypeOf(t)},t):t}var xt=(function(){function t(){this.known=new(rr?WeakSet:Set),this.pool=new ve(de),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return M(e)&&this.known.has(e)},t.prototype.pass=function(e){if(M(e)){var r=Ii(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(M(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var a=e.map(this.admit,this),o=this.pool.lookupArray(a);return o.array||(this.known.add(o.array=a),globalThis.__DEV__!==!1&&Object.freeze(a)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var s=Object.getPrototypeOf(e),u=[s],f=this.sortedKeys(e);u.push(f.json);var c=u.length;f.sorted.forEach(function(p){u.push(r.admit(e[p]))});var o=this.pool.lookupArray(u);if(!o.object){var h=o.object=Object.create(s);this.known.add(h),f.sorted.forEach(function(p,g){h[p]=u[c+g]}),globalThis.__DEV__!==!1&&Object.freeze(h)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t})();V();function Pt(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var ji=(function(){function t(e){var r=this;this.knownResults=new(de?WeakMap:Map),this.config=nr(e,{addTypename:e.addTypename!==!1,canonizeResults:Mr(e)}),this.canon=e.canon||new xt,this.executeSelectionSet=ce(function(n){var i,a=n.context.canonizeResults,o=Pt(n);o[3]=!a;var s=(i=r.executeSelectionSet).peek.apply(i,o);return s?a?y(y({},s),{result:r.canon.admit(s.result)}):s:(Nt(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize||q["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Pt,makeCacheKey:function(n,i,a,o){if(se(a.store))return a.store.makeCacheKey(n,T(i)?i.__ref:i,a.varString,o)}}),this.executeSubSelectedArray=ce(function(n){return Nt(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize||q["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(n){var i=n.field,a=n.array,o=n.context;if(se(o.store))return o.store.makeCacheKey(i,a,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new xt},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,a=i===void 0?"ROOT_QUERY":i,o=e.variables,s=e.returnPartialData,u=s===void 0?!0:s,f=e.canonizeResults,c=f===void 0?this.config.canonizeResults:f,h=this.config.cache.policies;o=y(y({},fr(Ln(n))),o);var l=J(a),p=this.executeSelectionSet({selectionSet:nt(n).selectionSet,objectOrReference:l,enclosingRef:l,context:y({store:r,query:n,policies:h,variables:o,varString:U(o),canonizeResults:c},Vr(n,this.config.fragments))}),g;if(p.missing&&(g=[new Fr(Mi(p.missing),p.missing,n,o)],!u))throw g[0];return{result:p.result,complete:!g,missing:g}},t.prototype.isFresh=function(e,r,n,i){if(se(i.store)&&this.knownResults.get(e)===n){var a=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(a&&e===a.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,a=e.enclosingRef,o=e.context;if(T(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var s=o.variables,u=o.policies,f=o.store,c=f.getFieldValue(i,"__typename"),h=[],l,p=new te;this.config.addTypename&&typeof c=="string"&&!u.rootIdsByTypename[c]&&h.push({__typename:c});function g(v,S){var D;return v.missing&&(l=p.merge(l,(D={},D[S]=v.missing,D))),v.result}var b=new Set(n.selections);b.forEach(function(v){var S,D;if(Ae(v,s))if(K(v)){var w=u.readField({fieldName:v.name.value,field:v,variables:o.variables,from:i},o),C=Z(v);w===void 0?st.added(v)||(l=p.merge(l,(S={},S[C]="Can't find field '".concat(v.name.value,"' on ").concat(T(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),S))):A(w)?w.length>0&&(w=g(r.executeSubSelectedArray({field:v,array:w,enclosingRef:a,context:o}),C)):v.selectionSet?w!=null&&(w=g(r.executeSelectionSet({selectionSet:v.selectionSet,objectOrReference:w,enclosingRef:T(w)?w:a,context:o}),C)):o.canonizeResults&&(w=r.canon.pass(w)),w!==void 0&&h.push((D={},D[C]=w,D))}else{var F=Fe(v,o.lookupFragment);if(!F&&v.kind===R.FRAGMENT_SPREAD)throw B(9,v.name.value);F&&u.fragmentMatches(F,c)&&F.selectionSet.selections.forEach(b.add,b)}});var _=ut(h),d={result:_,missing:l},E=o.canonizeResults?this.canon.admit(d):Le(d);return E.result&&this.knownResults.set(E.result,n),E},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,a=e.enclosingRef,o=e.context,s,u=new te;function f(c,h){var l;return c.missing&&(s=u.merge(s,(l={},l[h]=c.missing,l))),c.result}return n.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(c,h){return c===null?null:A(c)?f(r.executeSubSelectedArray({field:n,array:c,enclosingRef:a,context:o}),h):n.selectionSet?f(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,enclosingRef:T(c)?c:a,context:o}),h):(globalThis.__DEV__!==!1&&Ri(o.store,n,c),c)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:s}},t})();function Mi(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function Ri(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){M(i)&&(k(!T(i),10,ki(t,i),e.name.value),Object.values(i).forEach(n.add,n))})}}var xr=new it,zt=new WeakMap;function ue(t){var e=zt.get(t);return e||zt.set(t,e={vars:new Set,dep:Or()}),e}function Bt(t){ue(t).vars.forEach(function(e){return e.forgetCache(t)})}function Vi(t){ue(t).vars.forEach(function(e){return e.attachCache(t)})}function Ni(t){var e=new Set,r=new Set,n=function(a){if(arguments.length>0){if(t!==a){t=a,e.forEach(function(u){ue(u).dep.dirty(n),xi(u)});var o=Array.from(r);r.clear(),o.forEach(function(u){return u(t)})}}else{var s=xr.getValue();s&&(i(s),ue(s).dep(n))}return t};n.onNextChange=function(a){return r.add(a),function(){r.delete(a)}};var i=n.attachCache=function(a){return e.add(a),ue(a).vars.add(n),n};return n.forgetCache=function(a){return e.delete(a)},n}function xi(t){t.broadcastWatches&&t.broadcastWatches()}var Wt=Object.create(null);function pt(t){var e=JSON.stringify(t);return Wt[e]||(Wt[e]=Object.create(null))}function Lt(t){var e=pt(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(o,s){return n.readField(s,o)},a=n.keyObject=dt(t,function(o){var s=Y(n.storeObject,o,i);return s===void 0&&r!==n.storeObject&&I.call(r,o[0])&&(s=Y(r,o,zr)),k(s!==void 0,4,o.join("."),r),s});return"".concat(n.typename,":").concat(JSON.stringify(a))})}function $t(t){var e=pt(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,a=n.variables,o=n.fieldName,s=dt(t,function(f){var c=f[0],h=c.charAt(0);if(h==="@"){if(i&&Xe(i.directives)){var l=c.slice(1),p=i.directives.find(function(d){return d.name.value===l}),g=p&&et(p,a);return g&&Y(g,f.slice(1))}return}if(h==="$"){var b=c.slice(1);if(a&&I.call(a,b)){var _=f.slice(0);return _[0]=b,Y(a,_)}return}if(r)return Y(r,f)}),u=JSON.stringify(s);return(r||u!=="{}")&&(o+=":"+u),o})}function dt(t,e){var r=new te;return Pr(t).reduce(function(n,i){var a,o=e(i);if(o!==void 0){for(var s=i.length-1;s>=0;--s)o=(a={},a[i[s]]=o,a);n=r.merge(n,o)}return n},Object.create(null))}function Pr(t){var e=pt(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,a){A(i)?(Pr(i).forEach(function(o){return r.push(n.concat(o))}),n.length=0):(n.push(i),A(t[a+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function zr(t,e){return t[e]}function Y(t,e,r){return r=r||zr,Br(e.reduce(function n(i,a){return A(i)?i.map(function(o){return n(o,a)}):i&&r(i,a)},t))}function Br(t){return M(t)?A(t)?t.map(Br):dt(Object.keys(t).sort(),function(e){return Y(t,e)}):t}V();function Ge(t){return t.args!==void 0?t.args:t.field?et(t.field,t.variables):null}var Pi=function(){},Ut=function(t,e){return e.fieldName},qt=function(t,e,r){var n=r.mergeObjects;return n(t,e)},Kt=function(t,e){return e},zi=(function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=y({dataIdFromObject:Ir},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,a=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=r&&r.storeObject||e,s=y(y({},r),{typename:a,storeObject:o,readField:r&&r.readField||function(){var l=vt(arguments,o);return i.readField(l,{store:i.cache.data,variables:l.variables})}}),u,f=a&&this.getTypePolicy(a),c=f&&f.keyFn||this.config.dataIdFromObject;c;){var h=c(y(y({},e),o),s);if(A(h))c=Lt(h);else{u=h;break}}return u=u?String(u):void 0,s.keyObject?[u,s.keyObject]:[u]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],a=i.queryType,o=i.mutationType,s=i.subscriptionType,u=P(i,["queryType","mutationType","subscriptionType"]);a&&r.setRootTypename("Query",n),o&&r.setRootTypename("Mutation",n),s&&r.setRootTypename("Subscription",n),I.call(r.toBeAdded,n)?r.toBeAdded[n].push(u):r.toBeAdded[n]=[u]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),a=r.keyFields,o=r.fields;function s(u,f){u.merge=typeof f=="function"?f:f===!0?qt:f===!1?Kt:u.merge}s(i,r.merge),i.keyFn=a===!1?Pi:A(a)?Lt(a):typeof a=="function"?a:i.keyFn,o&&Object.keys(o).forEach(function(u){var f=n.getFieldPolicy(e,u,!0),c=o[u];if(typeof c=="function")f.read=c;else{var h=c.keyArgs,l=c.read,p=c.merge;f.keyFn=h===!1?Ut:A(h)?$t(h):typeof h=="function"?h:f.keyFn,typeof l=="function"&&(f.read=l),s(f,p)}f.read&&f.merge&&(f.keyFn=f.keyFn||Ut)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(k(!i||i===e,5,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var a=i.match(Rr);(!a||a[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!I.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(o,s){if(o.test(e)){var u=r.supertypeMap.get(s);u&&u.forEach(function(f){return i.add(f)})}})),i&&i.size&&i.forEach(function(o){var s=r.getTypePolicy(o),u=s.fields,f=P(s,["fields"]);Object.assign(n,f),Object.assign(n.fields,u)})}var a=this.toBeAdded[e];return a&&a.length&&a.splice(0).forEach(function(o){r.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var a=this;if(!e.typeCondition)return!0;if(!r)return!1;var o=e.typeCondition.name.value;if(r===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(r,!0),u=[s],f=function(g){var b=a.getSupertypeSet(g,!1);b&&b.size&&u.indexOf(b)<0&&u.push(b)},c=!!(n&&this.fuzzySubtypes.size),h=!1,l=0;l<u.length;++l){var p=u[l];if(p.has(o))return s.has(o)||(h&&globalThis.__DEV__!==!1&&k.warn(6,r,o),s.add(o)),!0;p.forEach(f),c&&l===u.length-1&&Qe(e.selectionSet,n,i)&&(c=!1,h=!0,this.fuzzySubtypes.forEach(function(g,b){var _=r.match(g);_&&_[0]===r&&f(b)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),a,o=i&&i.keyFn;if(o&&r)for(var s={typename:r,fieldName:n,field:e.field||null,variables:e.variables},u=Ge(e);o;){var f=o(u,s);if(A(f))o=$t(f);else{a=f||n;break}}return a===void 0&&(a=e.field?Bn(e.field,e.variables):ur(n,Ge(e))),a===!1?n:n===L(a)?a:n+":"+a},t.prototype.readField=function(e,r){var n=e.from;if(n){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var a=r.store.getFieldValue(n,"__typename");a&&(e.typename=a)}var o=this.getStoreFieldName(e),s=L(o),u=r.store.getFieldValue(n,o),f=this.getFieldPolicy(e.typename,s,!1),c=f&&f.read;if(c){var h=Qt(this,n,e,r,r.store.getStorage(T(n)?n.__ref:n,o));return xr.withValue(this.cache,c,[u,h])}return u}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),a=i&&i.merge;return!a&&n&&(i=this.getTypePolicy(n),a=i&&i.merge),a},t.prototype.runMergeFunction=function(e,r,n,i,a){var o=n.field,s=n.typename,u=n.merge;return u===qt?Wr(i.store)(e,r):u===Kt?r:(i.overwrite&&(e=void 0),u(e,r,Qt(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:i.variables},i,a||Object.create(null))))},t})();function Qt(t,e,r,n,i){var a=t.getStoreFieldName(r),o=L(a),s=r.variables||n.variables,u=n.store,f=u.toReference,c=u.canRead;return{args:Ge(r),field:r.field||null,fieldName:o,storeFieldName:a,variables:s,isReference:T,toReference:f,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(vt(arguments,e,s),n)},mergeObjects:Wr(n.store)}}function vt(t,e,r){var n=t[0],i=t[1],a=t.length,o;return typeof n=="string"?o={fieldName:n,from:a>1?i:e}:(o=y({},n),I.call(o,"from")||(o.from=e)),globalThis.__DEV__!==!1&&o.from===void 0&&globalThis.__DEV__!==!1&&k.warn(7,un(Array.from(t))),o.variables===void 0&&(o.variables=r),o}function Wr(t){return function(r,n){if(A(r)||A(n))throw B(8);if(M(r)&&M(n)){var i=t.getFieldValue(r,"__typename"),a=t.getFieldValue(n,"__typename"),o=i&&a&&i!==a;if(o)return n;if(T(r)&&G(n))return t.merge(r.__ref,n),r;if(G(r)&&T(n))return t.merge(r,n.__ref),n;if(G(r)&&G(n))return y(y({},r),n)}return n}}V();function Be(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:y(y({},t),{clientOnly:e,deferred:r})),i}var Bi=(function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,a=r.result,o=r.dataId,s=r.variables,u=r.overwrite,f=tt(i),c=Ci();s=y(y({},fr(f)),s);var h=y(y({store:e,written:Object.create(null),merge:function(p,g){return c.merge(p,g)},variables:s,varString:U(s)},Vr(i,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),l=this.processSelectionSet({result:a||Object.create(null),dataId:o,selectionSet:f.selectionSet,mergeTree:{map:new Map},context:h});if(!T(l))throw B(11,a);return h.incomingById.forEach(function(p,g){var b=p.storeObject,_=p.mergeTree,d=p.fieldNodeSet,E=J(g);if(_&&_.map.size){var v=n.applyMerges(_,E,b,h);if(T(v))return;b=v}if(globalThis.__DEV__!==!1&&!h.overwrite){var S=Object.create(null);d.forEach(function(C){C.selectionSet&&(S[C.name.value]=!0)});var D=function(C){return S[L(C)]===!0},w=function(C){var F=_&&_.map.get(C);return!!(F&&F.info&&F.info.merge)};Object.keys(b).forEach(function(C){D(C)&&!w(C)&&Wi(E,b,C,h.store)})}e.merge(g,b)}),e.retain(l.__ref),l},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,a=e.selectionSet,o=e.context,s=e.mergeTree,u=this.cache.policies,f=Object.create(null),c=n&&u.rootTypenamesById[n]||$e(i,a,o.fragmentMap)||n&&o.store.get(n,"__typename");typeof c=="string"&&(f.__typename=c);var h=function(){var v=vt(arguments,f,o.variables);if(T(v.from)){var S=o.incomingById.get(v.from.__ref);if(S){var D=u.readField(y(y({},v),{from:S.storeObject}),o);if(D!==void 0)return D}}return u.readField(v,o)},l=new Set;this.flattenFields(a,i,o,c).forEach(function(v,S){var D,w=Z(S),C=i[w];if(l.add(S),C!==void 0){var F=u.getStoreFieldName({typename:c,fieldName:S.name.value,field:S,variables:v.variables}),me=Gt(s,F),ge=r.processFieldValue(C,S,S.selectionSet?Be(v,!1,!1):v,me),gt=void 0;S.selectionSet&&(T(ge)||G(ge))&&(gt=h("__typename",ge));var bt=u.getMergeFunction(c,S.name.value,gt);bt?me.info={field:S,typename:c,merge:bt}:Jt(s,F),f=v.merge(f,(D={},D[F]=ge,D))}else globalThis.__DEV__!==!1&&!v.clientOnly&&!v.deferred&&!st.added(S)&&!u.getReadFunction(c,S.name.value)&&globalThis.__DEV__!==!1&&k.error(12,Z(S),i)});try{var p=u.identify(i,{typename:c,selectionSet:a,fragmentMap:o.fragmentMap,storeObject:f,readField:h}),g=p[0],b=p[1];n=n||g,b&&(f=o.merge(f,b))}catch(v){if(!n)throw v}if(typeof n=="string"){var _=J(n),d=o.written[n]||(o.written[n]=[]);if(d.indexOf(a)>=0||(d.push(a),this.reader&&this.reader.isFresh(i,_,a,o)))return _;var E=o.incomingById.get(n);return E?(E.storeObject=o.merge(E.storeObject,f),E.mergeTree=Je(E.mergeTree,s),l.forEach(function(v){return E.fieldNodeSet.add(v)})):o.incomingById.set(n,{storeObject:f,mergeTree:Te(s)?void 0:s,fieldNodeSet:l}),_}return f},t.prototype.processFieldValue=function(e,r,n,i){var a=this;return!r.selectionSet||e===null?globalThis.__DEV__!==!1?Oi(e):e:A(e)?e.map(function(o,s){var u=a.processFieldValue(o,r,n,Gt(i,s));return Jt(i,s),u}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=$e(r,e,n.fragmentMap));var a=new Map,o=this.cache.policies,s=new ve(!1);return(function u(f,c){var h=s.lookup(f,c.clientOnly,c.deferred);h.visited||(h.visited=!0,f.selections.forEach(function(l){if(Ae(l,n.variables)){var p=c.clientOnly,g=c.deferred;if(!(p&&g)&&Xe(l.directives)&&l.directives.forEach(function(d){var E=d.name.value;if(E==="client"&&(p=!0),E==="defer"){var v=et(d,n.variables);(!v||v.if!==!1)&&(g=!0)}}),K(l)){var b=a.get(l);b&&(p=p&&b.clientOnly,g=g&&b.deferred),a.set(l,Be(n,p,g))}else{var _=Fe(l,n.lookupFragment);if(!_&&l.kind===R.FRAGMENT_SPREAD)throw B(13,l.name.value);_&&o.fragmentMatches(_,i,r,n.variables)&&u(_.selectionSet,Be(n,p,g))}}}))})(e,n),a},t.prototype.applyMerges=function(e,r,n,i,a){var o,s=this;if(e.map.size&&!T(n)){var u=!A(n)&&(T(r)||G(r))?r:void 0,f=n;u&&!a&&(a=[T(u)?u.__ref:u]);var c,h=function(l,p){return A(l)?typeof p=="number"?l[p]:void 0:i.store.getFieldValue(l,String(p))};e.map.forEach(function(l,p){var g=h(u,p),b=h(f,p);if(b!==void 0){a&&a.push(p);var _=s.applyMerges(l,g,b,i,a);_!==b&&(c=c||new Map,c.set(p,_)),a&&k(a.pop()===p)}}),c&&(n=A(f)?f.slice(0):y({},f),c.forEach(function(l,p){n[p]=l}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,a&&(o=i.store).getStorage.apply(o,a)):n},t})(),Lr=[];function Gt(t,e){var r=t.map;return r.has(e)||r.set(e,Lr.pop()||{map:new Map}),r.get(e)}function Je(t,e){if(t===e||!e||Te(e))return t;if(!t||Te(t))return e;var r=t.info&&e.info?y(y({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,a={info:r,map:i};if(n){var o=new Set(e.map.keys());t.map.forEach(function(s,u){a.map.set(u,Je(s,e.map.get(u))),o.delete(u)}),o.forEach(function(s){a.map.set(s,Je(e.map.get(s),t.map.get(s)))})}return a}function Te(t){return!t||!(t.info||t.map.size)}function Jt(t,e){var r=t.map,n=r.get(e);n&&Te(n)&&(Lr.push(n),r.delete(e))}var Yt=new Set;function Wi(t,e,r,n){var i=function(h){var l=n.getFieldValue(h,r);return typeof l=="object"&&l},a=i(t);if(a){var o=i(e);if(o&&!T(a)&&!ke(a,o)&&!Object.keys(a).every(function(h){return n.getFieldValue(o,h)!==void 0})){var s=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),u=L(r),f="".concat(s,".").concat(u);if(!Yt.has(f)){Yt.add(f);var c=[];!A(a)&&!A(o)&&[a,o].forEach(function(h){var l=n.getFieldValue(h,"__typename");typeof l=="string"&&!c.includes(l)&&c.push(l)}),globalThis.__DEV__!==!1&&k.warn(14,u,s,c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"",f,y({},a),y({},o))}}}}V();var $r=(function(t){pe(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new si(st),n.assumeImmutableResults=!0,n.makeVar=Ni,n.txCount=0,n.config=Ti(r),n.addTypename=!!n.config.addTypename,n.policies=new zi({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new le.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,a=this.config.fragments;this.storeWriter=new Bi(this,this.storeReader=new ji({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Mr(this.config),canon:r?void 0:i&&i.canon,fragments:a}),a),this.maybeBroadcastWatch=ce(function(o,s){return n.broadcastWatch(o,s)},{max:this.config.resultCacheMaxSize||q["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(o){var s=o.optimistic?n.optimisticData:n.data;if(se(s)){var u=o.optimistic,f=o.id,c=o.variables;return s.makeCacheKey(o.query,o.callback,U({optimistic:u,id:f,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(y(y({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof Fr)return null;throw a}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(I.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(y(y({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||Vi(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&Bt(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){var n;U.reset(),wr.reset(),this.addTypenameTransform.resetCache(),(n=this.config.fragments)===null||n===void 0||n.resetCaches();var i=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(T(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){globalThis.__DEV__!==!1&&k.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(I.call(r,"id"))return!1;r=y(y({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),U.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Bt(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,a=r.optimistic,o=a===void 0?!0:a,s=r.removeOptimistic,u=r.onWatchUpdated,f,c=function(l){var p=n,g=p.data,b=p.optimisticData;++n.txCount,l&&(n.data=n.optimisticData=l);try{return f=i(n)}finally{--n.txCount,n.data=g,n.optimisticData=b}},h=new Set;return u&&!this.txCount&&this.broadcastWatches(y(y({},r),{onWatchUpdated:function(l){return h.add(l),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,c):o===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),u&&h.size?(this.broadcastWatches(y(y({},r),{onWatchUpdated:function(l,p){var g=u.call(this,l,p);return g!==!1&&h.delete(l),g}})),h.size&&h.forEach(function(l){return n.maybeBroadcastWatch.dirty(l)})):this.broadcastWatches(r),f},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){return this.addTypenameToDocument(this.addFragmentsToDocument(r))},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.addFragmentsToDocument=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.addTypenameToDocument=function(r){return this.addTypename?this.addTypenameTransform.transformDocument(r):r},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,a=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(a.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,a,i)===!1)||(!i||!ke(i.result,a.result))&&r.callback(r.lastDiff=a,i)},e})(Ar);globalThis.__DEV__!==!1&&($r.prototype.getMemoryInternals=nn);const Li="0x455e53cbb86018ac2b8092fdcd39d8444affc3f6",$i="0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0",Ui="0xcc42724c6683b7e57334c4e856f4c9965ed682bd",qi="0x561877b6b3dd7651313794e5f2894b2f18be0766",Ki="0xb8c77482e45f1f44de1745f52c74426c631bdd52",Qi="0x3ba4c387f786bfee076a58914f5bd38d668b42c3",Gi="0x20865e63b111b2649ef829ec220536c82c58ad7b",Ji="0x471ece3750da237f93b8e339c536989b8978a438",Yi="0x1ce0c2827e2ef14d5c4f29a091d735a204794041",Hi="0xf6ac97b05b3bc92f829c7584b25839906507176b",Ia="NATIVE",ja=[Li,$i,Ui,qi,Ki,Qi,Gi,Ji,Yi,Hi];function yt(t){return Ce(t).nativeCurrency.address}function Xi(t){return Ce(t).wrappedNativeCurrency.address}function he(t){return Ce(t).platform}function Ur(t){return e=>he(e)===t}const Ma=Ur(x.EVM),Ra=Ur(x.SVM);ln();let Oe=(function(t){return t[t.Lowercase=0]="Lowercase",t[t.Uppercase=1]="Uppercase",t[t.Shortened=2]="Shortened",t})({});const Zi={[x.EVM]:t=>`${x.EVM}-${t.address}-${!!t.withEVMChecksum}`,[x.SVM]:t=>`${x.SVM}-${t.address}`},qr=new Map;function ea(t){const e=t.platform??he(t.chainId),r=Zi[e](t);return{cachedAddress:qr.get(r),cacheKey:r}}const ta={[x.EVM]:ra,[x.SVM]:na};function Ye(t){const{address:e,withEVMChecksum:r,log:n}=t;if(!e)return null;const i=t.platform??he(t.chainId),{cachedAddress:a,cacheKey:o}=ea(t);if(a!==void 0)return a;const{data:s,error:u}=Yr(()=>ta[i]({address:e,withEVMChecksum:r}));return u&&n&&Jr.warn("utils/addresses","getValidAddress",u.message,{data:e,stacktrace:new Error().stack}),qr.set(o,s),s}function ra({address:t,withEVMChecksum:e}){const r=aa(t.trim());if(e)return cn(r);if(r.length!==42)throw new Error("Address has an invalid format");return ia(r,Oe.Lowercase)}function na({address:t}){if(!on(t))throw new Error("Address has an invalid format");return t}function ia(t,e){switch(e){case Oe.Lowercase:return t.toLowerCase();case Oe.Uppercase:return t.toUpperCase();case Oe.Shortened:return t.substr(0,8);default:throw new Error(`Invalid AddressStringFormat: ${e}`)}}function Va(t){return t==null?void 0:t.replace("x","x​")}function We(t){const{addressInput1:e,addressInput2:r}=t,n=e.platform??he(e.chainId),i=r.platform??he(r.chainId),a=Ye({address:e.address,platform:n}),o=Ye({address:r.address,platform:i});return a!==null&&o!==null&&a===o}function aa(t){return t.startsWith("0x")||t.startsWith("0X")?t:`0x${t}`}function Na(){return new $r({typePolicies:{Query:{fields:{nftBalances:Ve(["ownerAddress","filter"]),nftAssets:Ve(["address","filter"]),nftActivity:Ve(),...Gr()?{}:{token:{read(t,{args:e,toReference:r}){return r({__typename:"Token",chain:e==null?void 0:e.chain,address:He(e==null?void 0:e.address)})}}},portfolios:{keyArgs:["chains","ownerAddresses"]}}},Token:{keyFields:["chain","address"],fields:{address:{read(t){return He(t)}},feeData:{merge:Ht},protectionInfo:{merge:Ht}}},TokenProject:{fields:{tokens:{merge:Xt}}},TokenProjectMarket:{fields:{priceHistory:{merge:Xt}}},Amount:{keyFields:!1,merge:!0},AmountChange:{keyFields:!1},Dimensions:{keyFields:!1},TimestampedAmount:{keyFields:!1}}})}function Ht(t,e,{mergeObjects:r}){return r(t,e)}function Xt(t,e){return e??t}function He(t){return Ye({address:t,platform:x.EVM,withEVMChecksum:!1})??t??null}const oa="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",sa="0x0000000000000000000000000000000000000000",xa=hn*10;function Zt(t){if(t)return mt(t.chainId,"isNative"in t?fa(t):t.address)}function mt(t,e){return`${t}-${e}`}function Pa(t){return mt(t,yt(t))}function za(t){return mt(t,Xi(t))}function ua(t,e){return t.toLowerCase()===e.toLowerCase()}function Ba(t,e){return t&&e?ua(Zt(t),Zt(e)):t===e}function fa(t){return t.isNative?yt(t.chainId):t.address}const ca="NATIVE";function Wa(t){return t.isNative?ca:t.address}const la=(t,e)=>{if(!e)return!0;const r=Ce(t),{platform:n}=r;if(e===r.nativeCurrency.symbol)return!0;const i=yt(t);return i===oa?We({addressInput1:{address:e,platform:n},addressInput2:{address:i,platform:n}})||We({addressInput1:{address:e,platform:n},addressInput2:{address:sa,platform:n}}):We({addressInput1:{address:e,platform:n},addressInput2:{address:i,platform:n}})};function ha(t){const e=t.split("-");if(!e[1])throw new Error(`Invalid currencyId format: ${t}`);return e[1]}function pa(t){return t===er.Polygon}function da(t){return t===er.Celo}function La(t){if(!t)return null;const e=ha(t),r=va(t);return!r||la(r,e)&&!pa(r)&&!da(r)?null:He(e)}function va(t){return fn(t.split("-")[0])}export{or as BREAK,ja as BRIDGED_BASE_ADDRESSES,te as DeepMerger,si as DocumentTransform,Ia as NATIVE_TOKEN_PLACEHOLDER,je as Observable,ve as Trie,We as areAddressesEqual,Ba as areCurrenciesEqual,ua as areCurrencyIdsEqual,et as argumentsObjectFromField,mt as buildCurrencyId,Pa as buildNativeCurrencyId,Aa as buildQueryFromSelectionSet,za as buildWrappedNativeCurrencyId,xr as cacheSlot,U as canonicalStringify,he as chainIdToPlatform,Oi as cloneDeep,Ze as createFragmentMap,fa as currencyAddress,Zt as currencyId,ha as currencyIdToAddress,va as currencyIdToChain,La as currencyIdToGraphQLAddress,aa as ensureLeading0x,wi as equalByQuery,Wa as getCurrencyAddressForAnalytics,fr as getDefaultValues,rt as getFragmentDefinitions,nt as getMainDefinition,yt as getNativeAddress,tt as getOperationDefinition,Da as getOperationName,Ln as getQueryDefinition,Ye as getValidAddress,Xi as getWrappedNativeAddress,_a as hasClientExports,En as hasDirectives,Oa as isDocumentNode,Ma as isEVMChain,K as isField,wa as isInlineFragment,la as isNativeCurrencyAddress,T as isReference,Ra as isSVMChain,It as mergeDeep,ut as mergeDeepArray,He as normalizeTokenAddressForCache,wr as print,Fa as removeClientSetsFromDocument,ci as removeDirectivesFromDocument,Z as resultKeyNameFromField,Va as sanitizeAddressText,Na as setupSharedApolloCache,Ae as shouldInclude,H as visit};
