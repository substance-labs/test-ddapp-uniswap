import{__toESM as m}from"./chunk-DgAfPHQg.js";import{require_react as v}from"./react-CNoFhWkx.js";import{UniverseChainId as d,getChainInfo as h}from"./utils-BX1Fu73x.js";import{buildCurrencyId as p}from"./currencyId-Ci6selsx.js";import{isAddress as y}from"./addresses-D56PBUHX.js";import{useSupportedChainId as g}from"./useSupportedChainId-DskHoisQ.js";import{useAccount as I}from"./useAccount-C5hwiBwN.js";import{NATIVE_CHAIN_ID as k}from"./tokens-Dxd89cHj.js";import{useCurrencyInfo as A,useCurrencyInfoWithLoading as M}from"./useCurrencyInfo-Bxa3J04d.js";var s=m(v());function a({addressOrCurrency:n,chainId:e,skip:o}){const{chainId:i}=I(),t=(typeof n=="string"?e:n==null?void 0:n.chainId)??i,c=g(t),r=h(c??d.Mainnet).nativeCurrency.address,u=(0,s.useMemo)(()=>C(n),[n]),f=(0,s.useMemo)(()=>W({isNative:u,nativeAddressWithFallback:r,addressOrCurrency:n}),[u,r,n]),l=u||!f?r:f;return{currencyId:p(c??d.Mainnet,l),shouldSkip:!n||o,addressOrCurrency:n}}function N({address:n,chainId:e}){const o=S(n,e,!1);return o==null?void 0:o.currency}function P({address:n,chainId:e},o){const{currencyInfo:i,loading:t}=_(n,e,o==null?void 0:o.skip);return{currency:i==null?void 0:i.currency,loading:t}}function S(n,e,o){const{currencyId:i,shouldSkip:t,addressOrCurrency:c}=a({addressOrCurrency:n,chainId:e,skip:o}),r=A(i,{skip:t});return(0,s.useMemo)(()=>{if(!(!r||!c||o))return r},[c,o,r])}function _(n,e,o){const{currencyId:i,shouldSkip:t,addressOrCurrency:c}=a({addressOrCurrency:n,chainId:e,skip:o}),{currencyInfo:r,loading:u}=M(i,{skip:t});return{currencyInfo:(0,s.useMemo)(()=>{if(!(!r||!c||o))return r},[c,o,r]),loading:u}}function C(n){return typeof n=="string"?[k,"native","eth"].includes(n.toLowerCase()):(n==null?void 0:n.isNative)??!1}function W({isNative:n,nativeAddressWithFallback:e,addressOrCurrency:o}){if(typeof o=="string")return n?e:o;if(o)return o.isNative?e:o.address}function U(n,e){const o=y(n),{chainId:i}=I(),t=N({address:o||void 0,chainId:e??i});return(0,s.useMemo)(()=>{if(t&&t.isToken)return t},[t])}export{C as checkIsNative,N as useCurrency,S as useCurrencyInfo,P as useCurrencyWithLoading,U as useToken};
