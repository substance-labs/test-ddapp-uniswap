import{__toESM as T}from"./chunk-DgAfPHQg.js";import{require_react as p}from"./react-CNoFhWkx.js";import{useSelector as f}from"./es-Iwj7vF3u.js";import{createSelector as c}from"./redux-toolkit.esm-BnRUBto_.js";import{buildCurrencyId as m}from"./currencyId-Ci6selsx.js";import{flattenObjectOfObjects as I}from"./objects-DlLkJwrJ.js";import{TransactionType as u}from"./transactionDetails-BsNW_jus.js";let s=(function(e){return e.DUTCH_LIMIT="DUTCH_LIMIT",e.CLASSIC="CLASSIC",e.DUTCH_V2="DUTCH_V2",e.DUTCH_V3="DUTCH_V3",e.BRIDGE="BRIDGE",e.LIMIT_ORDER="LIMIT_ORDER",e.PRIORITY="PRIORITY",e.WRAP="WRAP",e.UNWRAP="UNWRAP",e.JUPITER="JUPITER",e})({});const y=[s.DUTCH_V2,s.DUTCH_V3,s.DUTCH_LIMIT,s.PRIORITY];function C(e){return y.includes(e.routing)}function D(e){return e.routing===s.CLASSIC}function L(e){return e.routing===s.BRIDGE}function P(e){return e.routing===s.WRAP||e.routing===s.UNWRAP}function R(e){return e.routing===s.JUPITER}function W(e){var i;if(!(R(e)||C(e)))return(i=e.txRequests)===null||i===void 0?void 0:i[0]}function E(e){return!!(e.inputCurrencyAmountRaw&&e.outputCurrencyAmountRaw)}function H(e){return e.type===u.Bridge}function h(e){const i="ownerAddress"in e||"receipt"in e||"cancelRequest"in e||"networkFee"in e,n="hash"in e&&typeof e.hash=="string";return i||!n?!0:!("nonce"in e||"batchInfo"in e||"lastCheckedBlockNumber"in e||"deadline"in e||"cancelled"in e||"confirmedTime"in e)}function F(e){return h(e)?e:void 0}function _(e){if("nonce"in e||"batchInfo"in e||"lastCheckedBlockNumber"in e||"deadline"in e||"cancelled"in e||"confirmedTime"in e)return!0;const n="hash"in e&&typeof e.hash=="string",t="ownerAddress"in e||"receipt"in e||"cancelRequest"in e||"networkFee"in e;return n&&!t}function B(e){return _(e)?e:void 0}const M=e=>e.visibility.positions,b=e=>e.visibility.tokens;var d=T(p());const l=e=>e.transactions,q=c(l,e=>{let i=0;const n=I(e);for(const t of n)for(const r of Object.values(t))r.typeInfo.type===u.Swap&&i++;return i});function N(e){const i=f(b),n=(0,d.useMemo)(S,[]),t=f(r=>n(r,e));return(0,d.useMemo)(()=>({...t,...i}),[i,t])}const S=()=>c(l,(e,i)=>i,(e,i)=>i.reduce((n,t)=>{const r=e[t];return r&&Object.values(I(r)).forEach(o=>{o.typeInfo.type===u.Send?n[m(o.chainId,o.typeInfo.tokenAddress.toLowerCase())]={isVisible:!0}:o.typeInfo.type===u.Swap&&(n[o.typeInfo.inputCurrencyId.toLowerCase()]={isVisible:!0},n[o.typeInfo.outputCurrencyId.toLowerCase()]={isVisible:!0})}),n},{})),g=()=>c(l,(e,{address:i,chainId:n,txId:t})=>({address:i,chainId:n,txId:t}),(e,{address:i,chainId:n,txId:t})=>{var r;if(!i||!e[i]||!n||!t)return;const o=(r=e[i])===null||r===void 0?void 0:r[n];if(o)return Object.values(o).find(a=>a.id===t)});export{s as Routing,y as UNISWAPX_ROUTING_VARIANTS,W as getEVMTxRequest,B as getInterfaceTransaction,F as getWalletTransaction,L as isBridge,H as isBridgeTypeInfo,D as isClassic,E as isConfirmedSwapTypeInfo,_ as isInterfaceTransaction,R as isJupiter,C as isUniswapX,h as isWalletTransaction,P as isWrap,g as makeSelectTransaction,M as selectPositionsVisibility,l as selectTransactions,N as useCurrencyIdToVisibility};
