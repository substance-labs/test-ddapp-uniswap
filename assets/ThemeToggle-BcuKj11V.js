import{__toESM as u}from"./chunk-DgAfPHQg.js";import{require_react as P}from"./react-CNoFhWkx.js";import{Path as O,SegmentedControl as H,Svg as w,Trans as R,createIcon as M,useSporeColors as U}from"./src-DOOtfpHS.js";import{useTranslation as Z}from"./useTranslation-BotBuoJf.js";import{require_jsx_runtime as W}from"./jsx-runtime-D7bMTQeG.js";import{require_ms as K}from"./ms-BqmEYo6j.js";import{atom as B,atomWithStorage as N,useAtom as q,useAtomValue as j,useUpdateAtom as L}from"./utils-CDaPKk14.js";import{Flex as T,Text as h,concatClassName as G,styled as A}from"./Loader-D83W8G1W.js";import{require_prop_types as E}from"./prop-types-BL9JsGr9.js";import{TestID as b}from"./testIDs-CxYpwoP6.js";var a=u(W());const[V,je]=M({name:"Moon",getIcon:e=>(0,a.jsx)(w,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,a.jsx)(O,{d:"M12.133 3C12.136 3 12.14 3 12.143 3C12.462 3 12.6 3.39301 12.36 3.60001C10.679 5.04701 9.75503 7.32199 10.226 9.77399C10.749 12.495 12.988 14.566 15.773 14.938C17.532 15.173 19.161 14.728 20.456 13.839C20.719 13.658 21.068 13.897 20.989 14.203C19.885 18.519 15.626 21.595 10.767 20.902C6.73101 20.326 3.54402 17.087 3.06602 13.095C2.81602 11.013 3.289 9.05101 4.27 7.42001C5.86 4.77401 8.78601 3 12.133 3Z",fill:"currentColor"})})}),[Y,be]=M({name:"Sun",getIcon:e=>(0,a.jsx)(w,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,a.jsx)(O,{d:"M16.5 12C16.5 14.481 14.481 16.5 12 16.5C9.519 16.5 7.5 14.481 7.5 12C7.5 9.519 9.519 7.5 12 7.5C14.481 7.5 16.5 9.519 16.5 12ZM12.75 5V3C12.75 2.586 12.414 2.25 12 2.25C11.586 2.25 11.25 2.586 11.25 3V5C11.25 5.414 11.586 5.75 12 5.75C12.414 5.75 12.75 5.414 12.75 5ZM12.75 21V19C12.75 18.586 12.414 18.25 12 18.25C11.586 18.25 11.25 18.586 11.25 19V21C11.25 21.414 11.586 21.75 12 21.75C12.414 21.75 12.75 21.414 12.75 21ZM5.75 12C5.75 11.586 5.414 11.25 5 11.25H3C2.586 11.25 2.25 11.586 2.25 12C2.25 12.414 2.586 12.75 3 12.75H5C5.414 12.75 5.75 12.414 5.75 12ZM21.75 12C21.75 11.586 21.414 11.25 21 11.25H19C18.586 11.25 18.25 11.586 18.25 12C18.25 12.414 18.586 12.75 19 12.75H21C21.414 12.75 21.75 12.414 21.75 12ZM7.58099 7.58099C7.87399 7.28799 7.87399 6.81299 7.58099 6.51999L6.16699 5.10599C5.87399 4.81299 5.39899 4.81299 5.10599 5.10599C4.81299 5.39899 4.81299 5.87399 5.10599 6.16699L6.51999 7.58099C6.66599 7.72699 6.85799 7.80099 7.04999 7.80099C7.24199 7.80099 7.43399 7.72699 7.58099 7.58099ZM18.894 18.894C19.187 18.601 19.187 18.126 18.894 17.833L17.48 16.419C17.187 16.126 16.712 16.126 16.419 16.419C16.126 16.712 16.126 17.187 16.419 17.48L17.833 18.894C17.979 19.04 18.171 19.114 18.363 19.114C18.555 19.114 18.748 19.041 18.894 18.894ZM6.16699 18.894L7.58099 17.48C7.87399 17.187 7.87399 16.712 7.58099 16.419C7.28799 16.126 6.81299 16.126 6.51999 16.419L5.10599 17.833C4.81299 18.126 4.81299 18.601 5.10599 18.894C5.25199 19.04 5.44399 19.114 5.63599 19.114C5.82799 19.114 6.01999 19.041 6.16699 18.894ZM17.48 7.58099L18.894 6.16699C19.187 5.87399 19.187 5.39899 18.894 5.10599C18.601 4.81299 18.126 4.81299 17.833 5.10599L16.419 6.51999C16.126 6.81299 16.126 7.28799 16.419 7.58099C16.565 7.72699 16.757 7.80099 16.949 7.80099C17.141 7.80099 17.333 7.72699 17.48 7.58099Z",fill:"currentColor"})})});var s=u(P()),m=u(E());function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function F(e,t){if(e==null)return{};var n=Q(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var _=(0,s.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=e.size,i=o===void 0?24:o,c=F(e,["color","size"]);return s.createElement("svg",x({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),s.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});_.propTypes={color:m.default.string,size:m.default.oneOfType([m.default.string,m.default.number])};_.displayName="Moon";var J=_,p=u(E());function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function X(e,t){if(e==null)return{};var n=ee(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ee(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var v=(0,s.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=e.size,i=o===void 0?24:o,c=X(e,["color","size"]);return s.createElement("svg",g({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),s.createElement("circle",{cx:"12",cy:"12",r:"5"}),s.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),s.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),s.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),s.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),s.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),s.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),s.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),s.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});v.propTypes={color:p.default.string,size:p.default.oneOfType([p.default.string,p.default.number])};v.displayName="Sun";var te=v;function ne(e,t){try{e.addEventListener("change",t)}catch{e.addListener(t)}}function re(e,t){try{e.removeEventListener("change",t)}catch{e.removeListener(t)}}var oe=u(K());const ie="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",ae="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center _justifyContent-space-betwe3241 ",se=" _width-fit",le=" _width-10037",ce=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column  ",ue=(0,oe.default)("0.1s"),y=window.matchMedia("(prefers-color-scheme: dark)");let l=(function(e){return e.LIGHT="Light",e.DARK="Dark",e.AUTO="Auto",e})({});const d=A(T,{py:"$padding6",px:"$padding10",row:!0,justifyContent:"center",alignItems:"center"}),f=A(T,{px:"$padding8",height:"$spacing28",justifyContent:"center",alignItems:"center"}),k=B(y.matches?l.DARK:l.LIGHT),C=N("interface_color_theme",l.AUTO);function Oe(){const e=L(k),t=(0,s.useCallback)(n=>{e(n.matches?l.DARK:l.LIGHT)},[e]);return(0,s.useEffect)(()=>(ne(y,t),()=>re(y,t)),[e,t]),null}function we(){const e=S();return(0,s.useEffect)(()=>{const t=document.querySelector("meta[name=theme-color]");t&&(e?t.setAttribute("content","rgb(19, 19, 19)"):t.setAttribute("content","#fff"))},[e]),null}function S(){const e=j(C),t=j(k);return(e===l.AUTO?t:e)===l.DARK}function Me(){const e=S(),t=L(C);return(0,s.useMemo)(()=>[e,t],[e,t])}function me({disabled:e,compact:t=!1,fullWidth:n=!1}){const{t:r}=Z(),o=U(),[i,c]=q(C),D=(0,s.useCallback)($=>{!e&&setTimeout(()=>c($),ue)},[e,c]),z=[{value:l.AUTO,display:(0,a.jsx)(f,{"data-testid":"theme-auto",children:(0,a.jsx)(h,{variant:"buttonLabel3",children:r("settings.setting.appearance.option.auto")})})},{value:l.LIGHT,display:(0,a.jsx)(f,{"data-testid":"theme-light",children:(0,a.jsx)(Y,{size:"$icon.20",color:"$neutral1"})})},{value:l.DARK,display:(0,a.jsx)(f,{"data-testid":"theme-dark",children:(0,a.jsx)(V,{size:"$icon.20",color:"$neutral1"})})}],I=[{value:l.AUTO,display:(0,a.jsx)(d,{"data-testid":"theme-auto",children:(0,a.jsx)(h,{variant:"buttonLabel3",children:r("settings.setting.appearance.option.auto")})})},{value:l.LIGHT,display:(0,a.jsx)(d,{"data-testid":b.ThemeLight,children:(0,a.jsx)(te,{size:"20",color:o.neutral1.val})})},{value:l.DARK,display:(0,a.jsx)(d,{"data-testid":b.ThemeDark,children:(0,a.jsx)(J,{size:"20",color:o.neutral1.val})})}];return(0,a.jsx)("div",{className:G(""+(ce+(n?le:se))),children:(0,a.jsx)(H,{fullWidth:n,options:t?z:I,selectedOption:i,onSelectOption:D,size:"large"})})}function Le({disabled:e}){return(0,a.jsxs)("div",{className:ae,children:[(0,a.jsx)("div",{className:ie,children:(0,a.jsx)(h,{variant:"body3",color:"$neutral1",children:(0,a.jsx)(R,{i18nKey:"themeToggle.theme"})})}),(0,a.jsx)(me,{disabled:e})]})}export{Oe as SystemThemeUpdater,we as ThemeColorMetaUpdater,l as ThemeMode,me as ThemeSelector,Le as ThemeToggle,Me as useDarkModeManager,S as useIsDarkMode};
