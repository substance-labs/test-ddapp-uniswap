import{BaseError as m}from"./isAddress-P2vaZgmG.js";import{ContractFunctionExecutionError as R,ContractFunctionRevertedError as C,ContractFunctionZeroDataError as w,RawContractError as g,call as D,decodeFunctionResult as y}from"./call-CTDbaN-t.js";import{AbiDecodingZeroDataError as _,encodeFunctionData as h}from"./encodeFunctionData-CD63gkvM.js";import{InternalRpcError as x,RpcRequestError as F}from"./rpc-nQR4Ijs4.js";function A(t,n,a){const c=t[n.name];if(typeof c=="function")return c;const r=t[a];return typeof r=="function"?r:o=>n(t,o)}const O=3;function b(t,{abi:n,address:a,args:c,docsPath:r,functionName:o,sender:d}){const s=t instanceof g?t:t instanceof m?t.walk(p=>"data"in p)||t.walk():{},{code:e,data:i,details:u,message:f,shortMessage:E}=s,l=t instanceof _?new w({functionName:o}):[O,x.code].includes(e)&&(i||u||f||E)?new C({abi:n,data:typeof i=="object"?i.data:i,functionName:o,message:s instanceof F?u:E??f}):t;return new R(l,{abi:n,args:c,contractAddress:a,docsPath:r,functionName:o,sender:d})}async function j(t,n){const{abi:a,address:c,args:r,functionName:o,...d}=n,s=h({abi:a,args:r,functionName:o});try{const{data:e}=await A(t,D,"call")({...d,data:s,to:c});return y({abi:a,args:r,functionName:o,data:e||"0x"})}catch(e){throw b(e,{abi:a,address:c,args:r,docsPath:"/docs/contract/readContract",functionName:o})}}export{A as getAction,b as getContractError,j as readContract};
