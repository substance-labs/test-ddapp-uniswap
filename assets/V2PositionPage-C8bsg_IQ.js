import{__toESM as S}from"./chunk-DgAfPHQg.js";import"./preload-helper-CaakwtpC.js";import"./i18next-DD3sT7R5.js";import{require_react as O}from"./react-CNoFhWkx.js";import{Button as _,Trans as p}from"./src-DOOtfpHS.js";import{useTranslation as U}from"./useTranslation-BotBuoJf.js";import"./index.web-BqgtOHN3.js";import"./constants-CrXoXfFH.js";import"./es-Iwj7vF3u.js";import"./react-dom-xovCOntK.js";import"./react-is-BJXMVkew.js";import"./cache-BFZkIToX.js";import"./dist-Q7olfaoJ.js";import"./tslib.es6-Dbpxy1u8.js";import"./dist-QCpUvRkJ.js";import{Navigate as G,useLocation as Q,useNavigate as Z,useParams as J}from"./chunk-QMGIS6GS-B91ZVkXt.js";import{require_jsx_runtime as X}from"./jsx-runtime-D7bMTQeG.js";import"./useEnabledChains-DuB86c95.js";import"./hooks-BXO4d1DJ.js";import"./dist-ceZDlR1V.js";import"./analytics.web-DLc1_wTk.js";import"./redux-toolkit.esm-BnRUBto_.js";import{UniverseChainId as Y,ZERO_ADDRESS as ii,getChainInfo as oi}from"./utils-BX1Fu73x.js";import"./bn-D7somgUb.js";import"./lib-DPFIyRke.js";import"./misc-BMnlqqV4.js";import{isEVMChain as ti}from"./currencyId-Ci6selsx.js";import"./config-C4KrHqHG.js";import"./time-D_OqcZ4M.js";import"./features-yACC1hVw.js";import"./element-Wnp4RkdY.js";import{ModalName as L}from"./modal-Dvm06CN4.js";import"./page-zDkoCQe4.js";import"./isAddress-P2vaZgmG.js";import"./chain-ghiO403o.js";import"./slice-cfC6NcyN.js";import"./node-C_BraYgX.js";import"./formatUnits-DkyMpOD7.js";import"./_u64-b_viZRi_.js";import"./sha2-Jt0E41S_.js";import"./sha256-BqbhXHGu.js";import"./call-CTDbaN-t.js";import"./parseAccount-CRyN5swV.js";import"./encodeFunctionData-CD63gkvM.js";import"./stringify-B82RFruy.js";import"./rpc-nQR4Ijs4.js";import"./dist-CBK-d0jO.js";import"./hmac-D-QTodfL.js";import"./linking-D29RyAR8.js";import"./lib-CKG8APVv.js";import"./lib-XGdDYWzD.js";import"./V3DutchOrderTrade-Cl7yELmp.js";import"./v3-sdk.esm-CHH6GWR1.js";import"./hash-05APZTFm.js";import"./inherits_browser-Dqx8HagI.js";import"./useQuery-D_ZCw8XG.js";import"./lib-CWHZrl0T.js";import"./v2-sdk.esm-CIiDMO7F.js";import"./lib-BncBk3QF.js";import"./utils-7WDx1QGa.js";import"./lib-CgeiDO5B.js";import"./lib-Dj-AwQVD.js";import"./types-DbOmsKtk.js";import"./getCurrencyAmount-vvZpAzIm.js";import{shortenAddress as ri}from"./addresses-D56PBUHX.js";import"./currency-DIOEzjz2.js";import"./reducer-26KeQlno.js";import"./ms-BqmEYo6j.js";import"./configs-B4dDdw82.js";import{FeatureFlags as ei,useFeatureFlag as ni}from"./hooks-Bp0VtWbX.js";import"./statsig-B7I9iQRf.js";import"./usePollingIntervalByChain-YBOfXXzb.js";import"./providers-BELGpWsr.js";import"./erc20-CdGGKIp0.js";import"./objects-DlLkJwrJ.js";import"./send.web-CrSXW2rw.js";import"./TradingApiClient-Cp_0ez5S.js";import"./ProtocolItems-DhZWSiXS.js";import"./selectors-BwkayGDl.js";import{useUSDCValue as B}from"./useUSDCPrice-HO7Wgroz.js";import"./balances-DV0Wvmri.js";import"./getCurrencySafetyInfo-BHD1ohD-.js";import"./mutation-CRQvRc5_.js";import"./infiniteQueryBehavior-C10I_UVS.js";import"./getPositions-B2zd3dQ2.js";import"./queryOptions-P48mrm5X.js";import"./connect-transport-9OnIgPz5.js";import"./proto3-DkSQZto4.js";import"./use-query-8AOGtvlP.js";import"./promise-client-BYLTs0DC.js";import"./urls-kwiZbYPW.js";import"./createApiClient-BjXZMbEB.js";import"./constants-D9cStT7K.js";import"./base-DVpWJ4NW.js";import{ProtocolVersion as si}from"./types_pb-yZxlo4b1.js";import"./hooks-Dhx5teK4.js";import"./transactionDetails-BsNW_jus.js";import{NumberType as h}from"./types-JuyYLR0O.js";import{useLocalizationContext as ai}from"./LocalizationContext-B31peW1_.js";import"./getAlertColor-J5DrJWHv.js";import"./currency-xm5i4cH7.js";import"./ethers-D2SIY1xg.js";import{useSupportedChainId as pi}from"./useSupportedChainId-DskHoisQ.js";import"./useWallet-CL5owP9P.js";import"./TraceContext-Ddfk7zjz.js";import"./readContract-Cae4hIjn.js";import"./createBatchScheduler-BJBpfhFD.js";import"./createTransport-WEDNYdh5.js";import"./useEthersProvider-CBgc_azi.js";import"./multicall-BYS6jvE9.js";import"./getAction-BBhbL9mE.js";import{useAccount as mi}from"./useAccount-C5hwiBwN.js";import"./config-CDfnfyHL.js";import"./useReadContracts-Orb8TypL.js";import"./wagmi-CsUiFCSO.js";import"./query-qNZtVuxH.js";import"./useReadContract-DodDFlY8.js";import"./utils-CDaPKk14.js";import"./zIndex-CmEE31Ab.js";import"./hex-njd-4N-2.js";import"./slice-qANrfSbi.js";import"./noop-BDbB2pLB.js";import{Shine as z,Text as t,styled as di}from"./Loader-D83W8G1W.js";import"./client-BlU1ozBP.js";import"./Anchor-B1nkrQbP.js";import{Main as li}from"./esm-yo3h-xhx.js";import"./urls-aCnKF23w.js";import"./encode-utf8-DiSL6KQ9.js";import"./dijkstra-6umg7ymP.js";import"./UniconSVGs-CVEtuhJW.js";import"./LpIncentivesAprDisplay-DAZ9W112.js";import"./ThemeToggle-BcuKj11V.js";import"./SplitLogo-Ct--07LT.js";import{LiquidityPositionInfo as ci,LiquidityPositionInfoLoader as xi,TextLoader as v}from"./LiquidityPositionInfo-Cs-PVI1A.js";import"./tokens-Dxd89cHj.js";import"./timing-DsWr56iv.js";import"./experiments-rc6XUB0U.js";import"./useCurrencyInfo-Bxa3J04d.js";import"./createEthersProvider-B5AW2bpJ.js";import{setOpenModal as D}from"./reducer-1kwGyyVS.js";import{useAppDispatch as ui,useAppSelector as _i}from"./hooks-Muz170pO.js";import{useChainIdFromUrlParam as W}from"./chainParams-DIOvplzi.js";import"./util-BZ6kLG7e.js";import"./TokenLogo-JlSSDr3Q.js";import{usePendingLPTransactionsChangeListener as hi}from"./hooks-BA_A7Su9.js";import"./use-transport-CPomNX05.js";import"./types-OmNOta2_.js";import"./useIsWindowVisible-CtuFA8fK.js";import"./useBlockNumber-BeCJLIMW.js";import"./useIsMobile-Cq3RSgOi.js";import"./styled-components-DbVO3u5J.js";import"./text-CK4eXdYc.js";import"./index.esm-D6PJCa7X.js";import"./CopyHelper-DOhhKKQB.js";import"./copy-bNdbH7uS.js";import"./prop-types-BL9JsGr9.js";import{chevron_right_default as fi}from"./chevron-right-fNEOKcTd.js";import"./clickable-D5qUCIhr.js";import"./ellipsis-DjwAKJIh.js";import"./testIDs-CxYpwoP6.js";import"./Trace-DgHN3Ak9.js";import{MultichainContextProvider as bi}from"./MultichainContext-CEAgN3e0.js";import"./pools-5GjP-hMy.js";import"./api-PoolsService_connectquery-N1pfS4Yc.js";import"./CurrencyLogo-CvvmRzOI.js";import{DoubleCurrencyLogo as y}from"./DoubleLogo-D40dQ2P7.js";import"./Tooltip-DPNhKWF2.js";import"./useInterval-7f86mkEJ.js";import"./polished.es-BASfrnSv.js";import{usePairAdder as gi}from"./hooks-ViKlw47o.js";import{require_lib as vi}from"./lib-vcvVECAN.js";import"./protocolVersion-Djp_Gxjw.js";import"./LPIncentiveFeeStatTooltip-CknsSvzz.js";import"./feeTiers-D9BvLkmt.js";import"./LiquidityPositionInfoBadges-DdjNrqYk.js";import{parseRestPosition as yi}from"./parseFromRest-Dp36Fdyo.js";import{BreadcrumbNavContainer as ji,BreadcrumbNavLink as Si}from"./BreadcrumbNav-lC3fgSsx.js";import{useV2Pair as Ii}from"./useV2Pairs-CQkQtDF2.js";import{useGetPoolTokenPercentage as Pi}from"./useGetPoolTokenPercentage-BWwxCwuY.js";import{usePositionOwnerV2 as Ci}from"./usePositionOwnerV2-DAmnUDmZ.js";import{useGetPositionQuery as Ni}from"./getPosition-BPf_Aea4.js";import{NotFound as ki}from"./NotFound-BnYMqlo6.js";var wi=S(O()),Ti=S(vi()),i=S(X());const j="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 ",Li="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1569 ",Bi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _borderTopWidth-t-space-spa94665586 _borderRightWidth-t-space-spa94665586 _borderBottomWidth-t-space-spa94665586 _borderLeftWidth-t-space-spa94665586 _pt-t-space-spa1360334047 _pr-t-space-spa1360334047 _pb-t-space-spa1360334047 _pl-t-space-spa1360334047 _gap-t-space-gap1569 _borderTopLeftRadius-t-radius-ro291586424 _borderTopRightRadius-t-radius-ro291586424 _borderBottomRightRadius-t-radius-ro291586424 _borderBottomLeftRadius-t-radius-ro291586424 _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid ",zi="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap1569 _alignItems-center _maxWidth-10037 _flexWrap-wrap ",Di="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _justifyContent-flex-start _alignItems-center ",Wi="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1598 _width-10037 ",Ri="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center ",$i="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center _maxWidth-7537 _mt-t-space-spa1360334051 ",qi="  is_Circle _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-24px _minWidth-24px _flexShrink-0 _flexDirection-column _alignItems-center _justifyContent-center _borderTopLeftRadius-100000px _borderTopRightRadius-100000px _borderBottomRightRadius-100000px _borderBottomLeftRadius-100000px _pt-0px _pr-0px _pb-0px _pl-0px _width-24px _height-24px _maxWidth-24px _maxHeight-24px _backgroundColor-surface3 ",Ai="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap52 ",m="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _justifyContent-space-betwe3241 ",Vi=di(li,{backgroundColor:"$surface1",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:600,zIndex:"$default",py:"$spacing24",px:"$spacing40",$lg:{px:"$padding20"}});function l({withIcon:n}){return(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(v,{variant:"subheading2",width:120}),n?(0,i.jsxs)("div",{className:Ai,children:[(0,i.jsx)(v,{variant:"body2",width:78}),(0,i.jsx)("div",{className:qi})]}):(0,i.jsx)(v,{variant:"body2",width:72})]})}function me(){const n=W();return n&&!ti(n)?(0,i.jsx)(G,{to:"/positions",replace:!0}):(0,i.jsx)(bi,{initialChainId:n,children:(0,i.jsx)(Hi,{})})}function Hi(){var n;const{pairAddress:c}=J(),x=W(),f=mi(),R=pi(f.chainId),$=oi(x??Y.Mainnet),q=ni(ei.MigrateV2),{data:b,isLoading:a,refetch:A}=Ni({owner:f.address??ii,protocolVersion:si.V2,pairAddress:c,chainId:x??R}),I=b==null?void 0:b.position,o=(0,wi.useMemo)(()=>yi(I),[I]),P=ui(),C=Z(),V=Q(),{formatCurrencyAmount:u,formatPercent:H}=ai(),{t:s}=U(),F=_i(({user:{pairs:d}})=>d),[,N]=Ii(o==null?void 0:o.currency0Amount.currency,o==null?void 0:o.currency1Amount.currency),M=gi();hi(A);const{currency0Amount:r,currency1Amount:e,liquidityAmount:k}=o??{},w=B(r),T=B(e),g=Pi(o),K=!(o==null||(n=o.liquidityToken)===null||n===void 0)&&n.isToken?o.liquidityToken.address:void 0,E=Ci({account:f.address,address:K,chainId:o==null?void 0:o.chainId});return!a&&(!o||!k||!r||!e)?(0,i.jsx)(ki,{title:(0,i.jsx)(t,{variant:"heading2",children:s("position.notFound")}),subtitle:(0,i.jsx)("div",{className:$i,children:(0,i.jsx)(t,{color:"$neutral2",variant:"heading3",textAlign:"center",children:s("position.notFound.description")})}),actionButton:(0,i.jsx)("div",{className:Ri,children:(0,i.jsx)(_,{width:"fit-content",variant:"branded",onPress:()=>C("/positions"),children:s("common.backToPositions")})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ti.Helmet,{children:(0,i.jsx)("title",{children:s("liquidityPool.positions.page.title",{quoteSymbol:e==null?void 0:e.currency.symbol,baseSymbol:r==null?void 0:r.currency.symbol})})}),(0,i.jsx)(Vi,{children:(0,i.jsxs)("div",{className:Wi,children:[(0,i.jsx)("div",{className:Di,children:(0,i.jsxs)(ji,{"aria-label":"breadcrumb-nav",children:[(0,i.jsxs)(Si,{to:"/positions",children:[(0,i.jsx)(p,{i18nKey:"pool.positions.title"})," ",(0,i.jsx)(fi,{size:14})]}),o&&(0,i.jsx)(t,{variant:"subheading2",children:ri(o.poolId)})]})}),a||!o?(0,i.jsx)(z,{children:(0,i.jsx)(xi,{hideStatus:!0})}):(0,i.jsx)(ci,{positionInfo:o}),E&&(0,i.jsxs)("div",{className:zi,children:[(0,i.jsx)(_,{size:"small",emphasis:"secondary",$sm:{width:"100%"},isDisabled:a,onPress:()=>{var d;N&&x&&c&&!(!((d=F[x])===null||d===void 0)&&d[c])&&M(N),C(q?`/migrate/v2/${$.urlParam}/${c}`:"/migrate/v2",{state:{from:V.pathname}})},children:s("common.migrate.v3")}),(0,i.jsx)(_,{size:"small",emphasis:"secondary",$sm:{width:"100%"},isDisabled:a,onPress:()=>{P(D({name:L.AddLiquidity,initialState:o}))},children:s("common.addLiquidity")}),(0,i.jsx)(_,{size:"small",$sm:{width:"100%"},isDisabled:a,onPress:()=>{P(D({name:L.RemoveLiquidity,initialState:o}))},children:s("pool.removeLiquidity")})]}),(0,i.jsx)("div",{className:Bi,children:a||!r||!e?(0,i.jsx)(z,{children:(0,i.jsxs)("div",{className:Li,children:[(0,i.jsx)(l,{}),(0,i.jsx)(l,{withIcon:!0}),(0,i.jsx)(l,{withIcon:!0}),(0,i.jsx)(l,{withIcon:!0}),(0,i.jsx)(l,{})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(t,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)(p,{i18nKey:"position.currentValue"})}),(0,i.jsx)(t,{variant:"body2",children:w&&T?u({value:w.add(T),type:h.FiatStandard}):"-"})]}),(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(t,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)(p,{i18nKey:"pool.totalTokens"})}),(0,i.jsxs)("div",{className:j,children:[(0,i.jsx)(t,{variant:"body2",children:u({value:k,type:h.TokenNonTx})}),(0,i.jsx)(y,{currencies:[r.currency,e.currency],size:24})]})]}),(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(t,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)(p,{i18nKey:"position.depositedCurrency",values:{currencySymbol:r.currency.symbol}})}),(0,i.jsxs)("div",{className:j,children:[(0,i.jsx)(t,{variant:"body2",children:u({value:r,type:h.TokenNonTx})}),(0,i.jsx)(y,{currencies:[r.currency],size:24})]})]}),(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(t,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)(p,{i18nKey:"position.depositedCurrency",values:{currencySymbol:e.currency.symbol}})}),(0,i.jsxs)("div",{className:j,children:[(0,i.jsx)(t,{variant:"body2",children:u({value:e,type:h.TokenNonTx})}),(0,i.jsx)(y,{currencies:[e.currency],size:24})]})]}),(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(t,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)(p,{i18nKey:"addLiquidity.shareOfPool"})}),(0,i.jsx)(t,{variant:"body2",children:H(g==null?void 0:g.toSignificant(6))})]})]})})]})})]})}export{me as default};
