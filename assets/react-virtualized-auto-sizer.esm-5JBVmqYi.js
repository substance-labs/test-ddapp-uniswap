import{__toESM as x}from"./chunk-DgAfPHQg.js";import{require_react as A}from"./react-CNoFhWkx.js";import{useDispatch as I,useSelector as H}from"./es-Iwj7vF3u.js";import{global as O,init_dist as D}from"./dist-Q7olfaoJ.js";import{require_jsx_runtime as q}from"./jsx-runtime-D7bMTQeG.js";import{getValidAddress as B}from"./currencyId-Ci6selsx.js";import{serializeToken as M}from"./currency-DIOEzjz2.js";import{Flex as j}from"./Loader-D83W8G1W.js";import{getWarningIcon as U,getWarningIconColors as V,safetyLevelToWarningSeverity as P}from"./index.esm-CLP40SHA.js";import{dismissTokenWarning as k}from"./slice-CI92BTuM.js";var S=x(q());function ne({safetyLevel:t,severity:r,strokeColorOverride:o,heroIcon:l,inModal:c,...m}){const _=r??P(t),{color:u,backgroundColor:f,inModalColor:z}=V(_),v=o??u,T=U(_),e=T?(0,S.jsx)(T,{color:c&&z?z:v,...m}):null;return l?(0,S.jsx)(j,{borderRadius:"$rounded12",p:"$spacing12",backgroundColor:f,children:e}):e}const K=t=>t.tokens.dismissedTokenWarnings;function G(t){return!!(t&&typeof t=="object"&&"chainId"in t&&"address"in t)}var N=x(A());function oe(t){var r;const o=I(),l=H(K),c=G(t),m=c||t!=null&&t.isToken?B(t):null,_=!!(t&&m&&(!((r=l[t.chainId])===null||r===void 0)&&r[m])),u=(0,N.useCallback)(()=>{c?o(k({token:t})):t!=null&&t.isToken&&o(k({token:M(t)}))},[c,t,o]);return{tokenWarningDismissed:_,onDismissTokenWarning:u}}D();let g;typeof window<"u"?g=window:typeof self<"u"?g=self:g=O;let R=null,y=null;const F=20,E=g.clearTimeout,W=g.setTimeout,L=g.cancelAnimationFrame||g.mozCancelAnimationFrame||g.webkitCancelAnimationFrame,C=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame;L==null||C==null?(R=E,y=function(r){return W(r,F)}):(R=function([r,o]){L(r),E(o)},y=function(r){const o=C(function(){E(l),r()}),l=W(function(){L(o),r()},F);return[o,l]});function J(t){let r,o,l,c,m,_,u;const f=typeof document<"u"&&document.attachEvent;if(!f){_=function(s){const d=s.__resizeTriggers__,p=d.firstElementChild,b=d.lastElementChild,w=p.firstElementChild;b.scrollLeft=b.scrollWidth,b.scrollTop=b.scrollHeight,w.style.width=p.offsetWidth+1+"px",w.style.height=p.offsetHeight+1+"px",p.scrollLeft=p.scrollWidth,p.scrollTop=p.scrollHeight},m=function(s){return s.offsetWidth!==s.__resizeLast__.width||s.offsetHeight!==s.__resizeLast__.height},u=function(s){if(s.target.className&&typeof s.target.className.indexOf=="function"&&s.target.className.indexOf("contract-trigger")<0&&s.target.className.indexOf("expand-trigger")<0)return;const d=this;_(this),this.__resizeRAF__&&R(this.__resizeRAF__),this.__resizeRAF__=y(function(){m(d)&&(d.__resizeLast__.width=d.offsetWidth,d.__resizeLast__.height=d.offsetHeight,d.__resizeListeners__.forEach(function(w){w.call(d,s)}))})};let e=!1,a="";l="animationstart";const n="Webkit Moz O ms".split(" ");let i="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h="";{const s=document.createElement("fakeelement");if(s.style.animationName!==void 0&&(e=!0),e===!1){for(let d=0;d<n.length;d++)if(s.style[n[d]+"AnimationName"]!==void 0){h=n[d],a="-"+h.toLowerCase()+"-",l=i[d],e=!0;break}}}o="resizeanim",r="@"+a+"keyframes "+o+" { from { opacity: 0; } to { opacity: 0; } } ",c=a+"animation: 1ms "+o+"; "}const z=function(e){if(!e.getElementById("detectElementResize")){const a=(r||"")+".resize-triggers { "+(c||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",t!=null&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=a:i.appendChild(e.createTextNode(a)),n.appendChild(i)}};return{addResizeListener:function(e,a){if(f)e.attachEvent("onresize",a);else{if(!e.__resizeTriggers__){const n=e.ownerDocument,i=g.getComputedStyle(e);i&&i.position==="static"&&(e.style.position="relative"),z(n),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=n.createElement("div")).className="resize-triggers";const h=n.createElement("div");h.className="expand-trigger",h.appendChild(n.createElement("div"));const s=n.createElement("div");s.className="contract-trigger",e.__resizeTriggers__.appendChild(h),e.__resizeTriggers__.appendChild(s),e.appendChild(e.__resizeTriggers__),_(e),e.addEventListener("scroll",u,!0),l&&(e.__resizeTriggers__.__animationListener__=function(p){p.animationName===o&&_(e)},e.__resizeTriggers__.addEventListener(l,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(a)}},removeResizeListener:function(e,a){if(f)e.detachEvent("onresize",a);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(a),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(l,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch{}}}}}var ae=class extends N.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:o,onResize:l}=this.props;if(this._parentNode){var c,m,_,u;const f=window.getComputedStyle(this._parentNode)||{},z=parseFloat((c=f.paddingLeft)!==null&&c!==void 0?c:"0"),v=parseFloat((m=f.paddingRight)!==null&&m!==void 0?m:"0"),T=parseFloat((_=f.paddingTop)!==null&&_!==void 0?_:"0"),e=parseFloat((u=f.paddingBottom)!==null&&u!==void 0?u:"0"),a=this._parentNode.getBoundingClientRect(),n=a.height-T-e,i=a.width-z-v,h=this._parentNode.offsetHeight-T-e,s=this._parentNode.offsetWidth-z-v;(!r&&(this.state.height!==h||this.state.scaledHeight!==n)||!o&&(this.state.width!==s||this.state.scaledWidth!==i))&&(this.setState({height:h,width:s,scaledHeight:n,scaledWidth:i}),typeof l=="function"&&l({height:h,scaledHeight:n,scaledWidth:i,width:s}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=J(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:r,defaultWidth:o,disableHeight:l=!1,disableWidth:c=!1,nonce:m,onResize:_,style:u={},tagName:f="div",...z}=this.props,{height:v,scaledHeight:T,scaledWidth:e,width:a}=this.state,n={overflow:"visible"},i={};let h=!1;return l||(v===0&&(h=!0),n.height=0,i.height=v,i.scaledHeight=T),c||(a===0&&(h=!0),n.width=0,i.width=a,i.scaledWidth=e),(0,N.createElement)(f,{ref:this._setRef,style:{...n,...u},...z},!h&&t(i))}};export{ae as AutoSizer,ne as WarningIcon,oe as useDismissedTokenWarnings};
