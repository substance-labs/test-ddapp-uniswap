import{logger as d}from"./hooks-BXO4d1DJ.js";import{CurrencyAmount as f,init_jsbi as g,init_sdk_core_esm as b,jsbi_default as s}from"./utils-BX1Fu73x.js";import{BigNumber as N,init_lib$5 as p}from"./lib-DPFIyRke.js";import{init_lib$1 as S,parseUnits as h}from"./utils-7WDx1QGa.js";g();function x(i){let n=i;if((i.includes("e")||i.includes("E"))&&!i.startsWith("0x")){const[r,m]=i.split(/[eE]/);if(!r||!m||isNaN(Number(r))||isNaN(Number(m)))return i;let o=Number(r),e=Number(m);if(e<0){const l=o<0,a=Math.abs(o).toString().replace(".",""),u="0".repeat(-e-1);n=`${l?"-":""}0.${u}${a}`}else{if(r.includes(".")){var t;const a=((t=r.split(".")[1])===null||t===void 0?void 0:t.split("").length)??0;e-=a,o*=Math.pow(10,a)}try{n=s.multiply(s.BigInt(o),s.exponentiate(s.BigInt(10),s.BigInt(e))).toString()}catch{d.debug("convertScientificNotation","convertScientificNotationToNumber","BigInt arithmetic unsuccessful",e),n=(o*Math.pow(10,e)).toString()}}}return n}p();S();b();const E=/^\d*\.?,?\d*$/;let c=(function(i){return i.Raw="uint256",i.Exact="float",i})({});function I({value:i,valueType:n=c.Raw,currency:t}){if(!(!i||!t))try{let r=_({value:i,valueType:n});return n===c.Exact&&(r=h(r,t.decimals).toString()),f.fromRawAmount(t,r)}catch(r){return d.error(r,{tags:{file:"getCurrencyAmount",function:"getCurrencyAmount"},extra:{value:i,valueType:n,symbol:t.symbol,chain:t.chainId,address:t.wrapped.address,decimals:t.decimals}}),null}}const _=({value:i,valueType:n})=>{let t=x(i);if(t==="."&&(t="0."),n===c.Exact&&!E.test(t))throw new Error("Provided value is invalid");return n===c.Raw&&(t=N.from(t).toString()),t};export{c as ValueType,x as convertScientificNotationToNumber,I as getCurrencyAmount};
